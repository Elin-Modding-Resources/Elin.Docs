---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 29 files modified. 2 new files created.
version: EA 23.94 Nightly Patch 1
changes: ActEffect/ActMelee/ButtonAbility/ConBuffStats/ConWeapon/CoreDebug/CoreRef/ELEMENT/ENC/EffectId/ElementContainer/FACTION/FEAT/FOOD/Game/+GamePrincipal/GameSetting/HotItemContext/LayerHelp/+LayerWorldSetting/MUTATION/Map/POLICY/Player/SKILL/SLOT/SPELL/Thing/TraitMoongateEx/UI
---

# EA 23.94 Nightly Patch 1

February 22, 2025

29 files modified. 2 new files created.

## Important Changes

Possible breaking changes. Click the filename to view the chunk.
### [UI (1)](#ui)
```cs:no-line-numbers
public void FreezeScreen(float duration) // [!code --]
public void FreezeScreen(float duration, bool highlight = true) // [!code ++]
```
## ActEffect

[`@@ -191,7 +191,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ActEffect.cs#L191-L197)
```cs:line-numbers=191
			{
				continue;
			}
			if ((uint)(id - 249) <= 1u && c.isChara && CC.isChara) // [!code --]
			if ((uint)(id - 250) <= 1u && c.isChara && CC.isChara) // [!code ++]
			{
				c.Chara.RequestProtection(CC.Chara, delegate(Chara a)
				{
```

[`@@ -772,7 +772,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ActEffect.cs#L772-L778)
```cs:line-numbers=772
			{
				CC.DoHostileAction(item2);
			}
			if (actRef.refThing == null || !(actRef.refThing.trait is TraitRod) || (uint)(id - 200) <= 3u) // [!code --]
			if (actRef.refThing == null || !(actRef.refThing.trait is TraitRod) || (uint)(id - 200) <= 4u) // [!code ++]
			{
				return;
			}
```

[`@@ -913,9 +913,9 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ActEffect.cs#L913-L921)
```cs:line-numbers=913
		TC.PlaySound("curse3");
		TC.PlayEffect("curse");
		TC.Say("forgetItems", TC);
		int num = power / 50 + 1 + EClass.rnd(3); // [!code --]
		int num2 = power / 50 + 1 + EClass.rnd(3); // [!code ++]
		List<Thing> source = TC.things.List((Thing t) => t.c_IDTState == 0);
		for (int i = 0; i < num; i++) // [!code --]
		for (int i = 0; i < num2; i++) // [!code ++]
		{
			source.RandomItem().c_IDTState = 5;
		}
```

[`@@ -1004,22 +1004,22 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ActEffect.cs#L1004-L1025)
```cs:line-numbers=1004
		}
		cc.PlaySound("offering");
		cc.PlayEffect("buff");
		int num4 = (tc.isWeightChanged ? tc.c_weight : tc.Thing.source.weight); // [!code --]
		int num = (tc.isWeightChanged ? tc.c_weight : tc.Thing.source.weight); // [!code ++]
		tc.isWeightChanged = true;
		Element orCreateElement = tc.elements.GetOrCreateElement(64);
		Element orCreateElement2 = tc.elements.GetOrCreateElement(65);
		Element orCreateElement3 = tc.elements.GetOrCreateElement(67);
		Element orCreateElement4 = tc.elements.GetOrCreateElement(66);
		bool flag3 = tc.IsEquipmentOrRangedOrAmmo || tc.IsThrownWeapon; // [!code --]
		bool flag2 = tc.IsEquipmentOrRangedOrAmmo || tc.IsThrownWeapon; // [!code ++]
		if (flag)
		{
			num4 = (int)(0.01f * (float)num4 * (float)power * 0.75f + 500f); // [!code --]
			if (num4 < 0 || num4 > 10000000) // [!code --]
			num = (int)(0.01f * (float)num * (float)power * 0.75f + 500f); // [!code ++]
			if (num < 0 || num > 10000000) // [!code ++]
			{
				num4 = 10000000; // [!code --]
				flag3 = false; // [!code --]
				num = 10000000; // [!code ++]
				flag2 = false; // [!code ++]
			}
			if (flag3) // [!code --]
			if (flag2) // [!code ++]
			{
				if (tc.IsWeapon || tc.IsThrownWeapon || tc.IsAmmo)
				{
```

[`@@ -1036,12 +1036,12 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ActEffect.cs#L1036-L1047)
```cs:line-numbers=1036
		}
		else
		{
			num4 = num4 * (100 - power / 10) / 100; // [!code --]
			num = num * (100 - power / 10) / 100; // [!code ++]
			if (blessed)
			{
				power /= 4;
			}
			if (flag3) // [!code --]
			if (flag2) // [!code ++]
			{
				if (tc.IsWeapon || tc.IsThrownWeapon || tc.IsAmmo)
				{
```

[`@@ -1056,7 +1056,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ActEffect.cs#L1056-L1062)
```cs:line-numbers=1056
			}
			cc.Say("lighten", cc, tc);
		}
		tc.c_weight = num4; // [!code --]
		tc.c_weight = num; // [!code ++]
		tc.SetDirtyWeight();
		if (tc.parent == null)
		{
```

[`@@ -1107,28 +1107,28 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ActEffect.cs#L1107-L1134)
```cs:line-numbers=1107
		string name = tc.Name;
		if (row == null)
		{
			bool num2 = id == EffectId.ChangeMaterialGreater; // [!code --]
			bool flag2 = id == EffectId.ChangeMaterialLesser; // [!code --]
			bool num3 = id == EffectId.ChangeMaterialGreater; // [!code ++]
			bool flag3 = id == EffectId.ChangeMaterialLesser; // [!code ++]
			string text2 = tc.Thing.source.tierGroup;
			Dictionary<string, SourceMaterial.TierList> tierMap = SourceMaterial.tierMap;
			int num3 = 1; // [!code --]
			int num4 = 1; // [!code ++]
			if (flag)
			{
				num3 -= 2; // [!code --]
				num4 -= 2; // [!code ++]
			}
			if (blessed)
			{
				num3++; // [!code --]
				num4++; // [!code ++]
			}
			if (num2) // [!code --]
			if (num3) // [!code ++]
			{
				num3++; // [!code --]
				num4++; // [!code ++]
			}
			if (flag2) // [!code --]
			if (flag3) // [!code ++]
			{
				num3 -= 2; // [!code --]
				num4 -= 2; // [!code ++]
			}
			num3 = Mathf.Clamp(num3 + EClass.rnd(2), 0, 4); // [!code --]
			num4 = Mathf.Clamp(num4 + EClass.rnd(2), 0, 4); // [!code ++]
			if (EClass.rnd(10) == 0)
			{
				text2 = ((text2 == "metal") ? "leather" : "metal");
```

[`@@ -1136,7 +1136,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ActEffect.cs#L1136-L1142)
```cs:line-numbers=1136
			SourceMaterial.TierList tierList = (text2.IsEmpty() ? tierMap.RandomItem() : tierMap[text2]);
			for (int j = 0; j < 1000; j++)
			{
				row = tierList.tiers[num3].Select(); // [!code --]
				row = tierList.tiers[num4].Select(); // [!code ++]
				if (row != tc.material)
				{
					break;
```

[`@@ -1213,15 +1213,29 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ActEffect.cs#L1213-L1227)
```cs:line-numbers=1213
		break;
	case EffectId.Teleport:
	case EffectId.TeleportShort:
		if (!tc.HasHost && !flag) // [!code --]
	case EffectId.Gate: // [!code ++]
		if (!tc.HasHost) // [!code ++]
		{
			if (id == EffectId.TeleportShort) // [!code --]
			if (!flag) // [!code ++]
			{
				tc.Teleport(GetTeleportPos(tc.pos)); // [!code --]
				if (id == EffectId.TeleportShort) // [!code ++]
				{ // [!code ++]
					tc.Teleport(GetTeleportPos(tc.pos)); // [!code ++]
				} // [!code ++]
				else // [!code ++]
				{ // [!code ++]
					tc.Teleport(GetTeleportPos(tc.pos, EClass._map.bounds.Width)); // [!code ++]
				} // [!code ++]
			}
			else // [!code --]
			if (id == EffectId.Gate && CC.IsPC) // [!code ++]
			{
				tc.Teleport(GetTeleportPos(tc.pos, EClass._map.bounds.Width)); // [!code --]
				foreach (Chara member in EClass.pc.party.members) // [!code ++]
				{ // [!code ++]
					if (!member.HasHost && member != tc) // [!code ++]
					{ // [!code ++]
						member.Teleport(tc.pos.GetNearestPoint(allowBlock: false, allowChara: false) ?? tc.pos); // [!code ++]
					} // [!code ++]
				} // [!code ++]
			}
		}
		if (flag)
```

## ActMelee

[`@@ -177,9 +177,9 @@ void _Attack(BodySlot slot)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ActMelee.cs#L177-L185)
```cs:line-numbers=177
				int num2 = GetWeaponEnc(606, addSelfEnc: false);
				int scatter = GetWeaponEnc(607, addSelfEnc: false);
				splash = GetWeaponEnc(608, addSelfEnc: true);
				chaser = GetWeaponEnc(620, addSelfEnc: false); // [!code --]
				flurry = GetWeaponEnc(621, addSelfEnc: false); // [!code --]
				frustration = GetWeaponEnc(624, addSelfEnc: false); // [!code --]
				chaser = GetWeaponEnc(620, addSelfEnc: true); // [!code ++]
				flurry = GetWeaponEnc(621, addSelfEnc: true); // [!code ++]
				frustration = GetWeaponEnc(624, addSelfEnc: true); // [!code ++]
				int num3 = GetWeaponEnc(622, addSelfEnc: true);
				feint = GetWeaponEnc(623, addSelfEnc: false);
				List<Point> list2 = EClass._map.ListPointsInLine(Act.CC.pos, Act.TC.pos, num2 / 10 + ((num2 % 10 > EClass.rnd(10)) ? 1 : 0) + 1);
```

## ButtonAbility

[`@@ -30,6 +30,8 @@ public class ButtonAbility : UIButton, IMouseHint`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ButtonAbility.cs#L30-L35)
```cs:line-numbers=30

	public static float hotkeyTimer;

	public static bool usedMouseKey; // [!code ++]
 // [!code ++]
	public void SetAct(Chara _chara, Element e)
	{
		source = e.source;
```

[`@@ -137,11 +139,17 @@ public static bool TryUse(Act act, Card tg = null, Point pos = null, Card cataly`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ButtonAbility.cs#L137-L147)
```cs:line-numbers=137
	{
		hotkeyAct = act;
	}
	if (first && EInput.GetHotkey() != -1) // [!code --]
	if (first) // [!code ++]
	{
		mouse = false; // [!code --]
		hotkeyTimer = 0f; // [!code --]
		Debug.Log(EInput.GetHotkey()); // [!code --]
		if (EInput.GetHotkey() != -1) // [!code ++]
		{ // [!code ++]
			mouse = false; // [!code ++]
			hotkeyTimer = 0f; // [!code ++]
		} // [!code ++]
		else // [!code ++]
		{ // [!code ++]
			usedMouseKey = EInput.rightMouse.usedKey; // [!code ++]
		} // [!code ++]
	}
	if (act.HaveLongPressAction && act == hotkeyAct)
	{
```

[`@@ -165,7 +173,14 @@ public static bool TryUse(Act act, Card tg = null, Point pos = null, Card cataly`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ButtonAbility.cs#L165-L171)
```cs:line-numbers=165
					EInput.rightMouse.down = false;
					EInput.rightMouse.consumed = false;
					EInput.rightMouse.pressing = true;
					EInput.rightMouse.usedMouse = true; // [!code --]
					if (usedMouseKey) // [!code ++]
					{ // [!code ++]
						EInput.rightMouse.usedKey = true; // [!code ++]
					} // [!code ++]
					else // [!code ++]
					{ // [!code ++]
						EInput.rightMouse.usedMouse = true; // [!code ++]
					} // [!code ++]
				});
			}
			return false;
```

## ConBuffStats

[`@@ -17,7 +17,7 @@ public override ConditionType Type`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ConBuffStats.cs#L17-L23)
```cs:line-numbers=17
		}
	}

	public bool isDebuff => base.refVal2 == 221; // [!code --]
	public bool isDebuff => base.refVal2 == 222; // [!code ++]

	public override bool WillOverride => true;

```

[`@@ -27,7 +27,7 @@ public override ConditionType Type`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ConBuffStats.cs#L27-L33)
```cs:line-numbers=27

	public override int EvaluateTurn(int p)
	{
		if (base.refVal2 == 266) // [!code --]
		if (base.refVal2 == 267) // [!code ++]
		{
			return 7;
		}
```

[`@@ -95,7 +95,7 @@ public override void SetOwner(Chara _owner, bool onDeserialize = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ConBuffStats.cs#L95-L101)
```cs:line-numbers=95

	public int CalcValue()
	{
		if (base.refVal2 == 266) // [!code --]
		if (base.refVal2 == 267) // [!code ++]
		{
			return 100 + (int)Mathf.Sqrt(base.power) * 2;
		}
```

## ConWeapon

[`@@ -7,4 +7,9 @@ public class ConWeapon : BaseBuff`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ConWeapon.cs#L7-L10)
```cs:line-numbers=7
	public override void Tick()
	{
	}
 // [!code ++]
	public override bool CanStack(Condition c) // [!code ++]
	{ // [!code ++]
		return true; // [!code ++]
	} // [!code ++]
}
```

## CoreDebug

[`@@ -355,6 +355,8 @@ public void QuickStart()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/CoreDebug.cs#L355-L360)
```cs:line-numbers=355
		break;
	}
	EClass.game.StartNewGame();
	EClass.game.principal = IO.DeepCopy(EClass.setting.start.principals[0]); // [!code ++]
	EClass.player.validScore = -1; // [!code ++]
	EClass.player.flags.OnEnableDebug();
	EClass.player.pref.lastIdTabAbility = 3;
	Zone homeZone = EClass.game.spatials.Find(EClass.game.Prologue.idStartZone);
```

## CoreRef

[`@@ -58,6 +58,8 @@ public class Enc`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/CoreRef.cs#L58-L63)
```cs:line-numbers=58
		{
			public Sprite mat;

			public Sprite card; // [!code ++]
 // [!code ++]
			public Sprite cat;

			public Sprite enc;
```

[`@@ -103,6 +105,8 @@ public class Enc`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/CoreRef.cs#L103-L108)
```cs:line-numbers=103

		public Sprite trans;

		public Sprite fav; // [!code ++]
 // [!code ++]
		public Sprite noHotItem;

		public Sprite defaultHotItem;
```

## ELEMENT

[`@@ -607,11 +607,11 @@ public void _WriteNote(UINote n, Chara c, Act act)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ELEMENT.cs#L607-L617)
```cs:line-numbers=607
				switch (act.id)
				{
				case 6902:
					condition.SetRefVal(79, 266); // [!code --]
					condition.SetRefVal(79, 267); // [!code ++]
					break;
				case 8510:
				case 8710:
					condition.SetRefVal(79, (act.id == 8710) ? 221 : 220); // [!code --]
					condition.SetRefVal(79, (act.id == 8710) ? 222 : 221); // [!code ++]
					break;
				}
				n.AddText("_bullet".lang() + "hintCon".lang(condition.Name, condition.EvaluateTurn(p).ToString() ?? ""));
```

## ENC

[`@@ -54,7 +54,7 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ENC.cs#L54-L60)
```cs:line-numbers=54

	public const int mod_scatter = 607;

	public const int bane_animal = 463; // [!code --]
	public const int encSpell = 411; // [!code ++]

	public const int mod_precision = 605;

```

[`@@ -68,6 +68,8 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ENC.cs#L68-L73)
```cs:line-numbers=68

	public const int negateConfusion = 425;

	public const int negateSleep = 424; // [!code ++]
 // [!code ++]
	public const int negateFear = 423;

	public const int negateParalysis = 422;
```

[`@@ -82,8 +84,6 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ENC.cs#L82-L89)
```cs:line-numbers=82

	public const int encHit = 414;

	public const int sustain_STR = 440; // [!code --]
 // [!code --]
	public const int slowCorruption = 412;

	public const int throwReturn = 410;
```

[`@@ -92,7 +92,7 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ENC.cs#L92-L98)
```cs:line-numbers=92

	public const int resWeather = 408;

	public const int travelSpeed = 407; // [!code --]
	public const int mod_drill = 606; // [!code ++]

	public const int resMutation = 406;

```

[`@@ -108,16 +108,16 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ENC.cs#L108-L123)
```cs:line-numbers=108

	public const int negateTeleport = 400;

	public const int mod_drill = 606; // [!code --]
 // [!code --]
	public const int encSpell = 411; // [!code --]
	public const int sustain_STR = 440; // [!code ++]

	public const int sustain_END = 441;

	public const int negateSleep = 424; // [!code --]
	public const int travelSpeed = 407; // [!code ++]

	public const int optimizeMana = 483;

	public const int mod_ammo_recover = 604; // [!code ++]
 // [!code ++]
	public const int mod_ammo_knockback = 603;

	public const int mod_rapid = 602;
```

[`@@ -138,42 +138,42 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ENC.cs#L138-L179)
```cs:line-numbers=138

	public const int bane_fish = 467;

	public const int bane_god = 466; // [!code --]
	public const int bane_machine = 465; // [!code ++]

	public const int bane_man = 464;

	public const int bane_god = 466; // [!code ++]
 // [!code ++]
	public const int bane_fairy = 462;

	public const int bane_machine = 465; // [!code --]
	public const int sustain_DEX = 442; // [!code ++]

	public const int bane_dragon = 460; // [!code --]
	public const int sustain_PER = 443; // [!code ++]

	public const int sustain_CHA = 447; // [!code --]
	public const int sustain_LER = 444; // [!code ++]

	public const int sustain_MAG = 446; // [!code --]
	public const int bane_animal = 463; // [!code ++]

	public const int mod_ammo_recover = 604; // [!code --]
	public const int sustain_MAG = 446; // [!code ++]

	public const int sustain_WIL = 445;

	public const int bane_undead = 461; // [!code --]
 // [!code --]
	public const int sustain_LER = 444; // [!code --]
	public const int sustain_CHA = 447; // [!code ++]

	public const int sustain_PER = 443; // [!code --]
	public const int bane_dragon = 460; // [!code ++]

	public const int sustain_DEX = 442; // [!code --]
	public const int bane_undead = 461; // [!code ++]

	public static readonly int[] IDS = new int[82]
	{
		652, 651, 650, 641, 640, 621, 620, 623, 622, 653,
		624, 654, 851, 656, 660, 661, 662, 663, 664, 665,
		666, 850, 608, 865, 852, 655, 607, 463, 605, 429, // [!code --]
		428, 427, 426, 425, 423, 422, 421, 420, 416, 415, // [!code --]
		414, 440, 412, 410, 409, 408, 407, 406, 405, 404, // [!code --]
		403, 402, 401, 400, 606, 411, 441, 424, 483, 603, // [!code --]
		602, 601, 600, 484, 482, 481, 480, 468, 467, 466, // [!code --]
		464, 462, 465, 460, 447, 446, 604, 445, 461, 444, // [!code --]
		443, 442 // [!code --]
		666, 850, 608, 865, 852, 655, 607, 411, 605, 429, // [!code ++]
		428, 427, 426, 425, 424, 423, 422, 421, 420, 416, // [!code ++]
		415, 414, 412, 410, 409, 408, 606, 406, 405, 404, // [!code ++]
		403, 402, 401, 400, 440, 441, 407, 483, 604, 603, // [!code ++]
		602, 601, 600, 484, 482, 481, 480, 468, 467, 465, // [!code ++]
		464, 466, 462, 442, 443, 444, 463, 446, 445, 447, // [!code ++]
		460, 461 // [!code ++]
	};
}
```

## EffectId

[`@@ -25,92 +25,93 @@ public enum EffectId`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/EffectId.cs#L25-L116)
```cs:line-numbers=25
	GreaterIdentify = 201,
	Teleport = 202,
	TeleportShort = 203,
	CreateWall = 204, // [!code --]
	Return = 205, // [!code --]
	Evac = 206, // [!code --]
	ChangeMaterialLesser = 207, // [!code --]
	ChangeMaterial = 208, // [!code --]
	ChangeMaterialGreater = 209, // [!code --]
	Sleep = 210, // [!code --]
	Paralyze = 211, // [!code --]
	Blind = 212, // [!code --]
	Confuse = 213, // [!code --]
	Poison = 214, // [!code --]
	Faint = 215, // [!code --]
	Fear = 216, // [!code --]
	Disease = 217, // [!code --]
	Acid = 218, // [!code --]
	HealComplete = 219, // [!code --]
	BuffStats = 220, // [!code --]
	DebuffStats = 221, // [!code --]
	Wish = 222, // [!code --]
	Ally = 223, // [!code --]
	CatsEye = 224, // [!code --]
	LevelDown = 225, // [!code --]
	Love = 226, // [!code --]
	Uncurse = 227, // [!code --]
	UncurseEQ = 228, // [!code --]
	UncurseEQGreater = 229, // [!code --]
	CurseEQ = 230, // [!code --]
	HolyVeil = 231, // [!code --]
	EnchantWeapon = 232, // [!code --]
	EnchantArmor = 233, // [!code --]
	Lighten = 234, // [!code --]
	Naming = 235, // [!code --]
	Faith = 236, // [!code --]
	ForgetItems = 237, // [!code --]
	Hero = 238, // [!code --]
	Acidproof = 239, // [!code --]
	Levitate = 240, // [!code --]
	Gravity = 241, // [!code --]
	Mutation = 242, // [!code --]
	CureMutation = 243, // [!code --]
	Breathe = 244, // [!code --]
	Ball = 245, // [!code --]
	Explosive = 246, // [!code --]
	BallBubble = 247, // [!code --]
	Bolt = 248, // [!code --]
	Arrow = 249, // [!code --]
	Hand = 250, // [!code --]
	Funnel = 251, // [!code --]
	TransGender = 252, // [!code --]
	Summon = 253, // [!code --]
	ModPotential = 254, // [!code --]
	Buff = 255, // [!code --]
	Debuff = 256, // [!code --]
	Weaken = 257, // [!code --]
	Bubble = 258, // [!code --]
	Web = 259, // [!code --]
	MistOfDarkness = 260, // [!code --]
	NeckHunt = 261, // [!code --]
	Puddle = 262, // [!code --]
	PuddleEffect = 263, // [!code --]
	RemedyJure = 264, // [!code --]
	AbsorbMana = 265, // [!code --]
	LulwyTrick = 266, // [!code --]
	JureHeal = 267, // [!code --]
	KizuamiTrick = 268, // [!code --]
	CureCorruption = 269, // [!code --]
	Headpat = 270, // [!code --]
	Meteor = 271, // [!code --]
	Exterminate = 272, // [!code --]
	Earthquake = 273, // [!code --]
	MagicMap = 274, // [!code --]
	Escape = 275, // [!code --]
	Boost = 276, // [!code --]
	EnchantWeaponGreat = 277, // [!code --]
	EnchantArmorGreat = 278, // [!code --]
	RemoveHex = 279, // [!code --]
	RemoveHexAll = 280, // [!code --]
	Duplicate = 281, // [!code --]
	Suicide = 282, // [!code --]
	ShutterHex = 283, // [!code --]
	Draw = 284, // [!code --]
	Reconstruction = 285, // [!code --]
	DrainBlood = 286, // [!code --]
	Steal = 287, // [!code --]
	Scream = 288, // [!code --]
	DropMine = 289, // [!code --]
	ThrowPotion = 290, // [!code --]
	DrainMana = 291 // [!code --]
	Gate = 204, // [!code ++]
	CreateWall = 205, // [!code ++]
	Return = 206, // [!code ++]
	Evac = 207, // [!code ++]
	ChangeMaterialLesser = 208, // [!code ++]
	ChangeMaterial = 209, // [!code ++]
	ChangeMaterialGreater = 210, // [!code ++]
	Sleep = 211, // [!code ++]
	Paralyze = 212, // [!code ++]
	Blind = 213, // [!code ++]
	Confuse = 214, // [!code ++]
	Poison = 215, // [!code ++]
	Faint = 216, // [!code ++]
	Fear = 217, // [!code ++]
	Disease = 218, // [!code ++]
	Acid = 219, // [!code ++]
	HealComplete = 220, // [!code ++]
	BuffStats = 221, // [!code ++]
	DebuffStats = 222, // [!code ++]
	Wish = 223, // [!code ++]
	Ally = 224, // [!code ++]
	CatsEye = 225, // [!code ++]
	LevelDown = 226, // [!code ++]
	Love = 227, // [!code ++]
	Uncurse = 228, // [!code ++]
	UncurseEQ = 229, // [!code ++]
	UncurseEQGreater = 230, // [!code ++]
	CurseEQ = 231, // [!code ++]
	HolyVeil = 232, // [!code ++]
	EnchantWeapon = 233, // [!code ++]
	EnchantArmor = 234, // [!code ++]
	Lighten = 235, // [!code ++]
	Naming = 236, // [!code ++]
	Faith = 237, // [!code ++]
	ForgetItems = 238, // [!code ++]
	Hero = 239, // [!code ++]
	Acidproof = 240, // [!code ++]
	Levitate = 241, // [!code ++]
	Gravity = 242, // [!code ++]
	Mutation = 243, // [!code ++]
	CureMutation = 244, // [!code ++]
	Breathe = 245, // [!code ++]
	Ball = 246, // [!code ++]
	Explosive = 247, // [!code ++]
	BallBubble = 248, // [!code ++]
	Bolt = 249, // [!code ++]
	Arrow = 250, // [!code ++]
	Hand = 251, // [!code ++]
	Funnel = 252, // [!code ++]
	TransGender = 253, // [!code ++]
	Summon = 254, // [!code ++]
	ModPotential = 255, // [!code ++]
	Buff = 256, // [!code ++]
	Debuff = 257, // [!code ++]
	Weaken = 258, // [!code ++]
	Bubble = 259, // [!code ++]
	Web = 260, // [!code ++]
	MistOfDarkness = 261, // [!code ++]
	NeckHunt = 262, // [!code ++]
	Puddle = 263, // [!code ++]
	PuddleEffect = 264, // [!code ++]
	RemedyJure = 265, // [!code ++]
	AbsorbMana = 266, // [!code ++]
	LulwyTrick = 267, // [!code ++]
	JureHeal = 268, // [!code ++]
	KizuamiTrick = 269, // [!code ++]
	CureCorruption = 270, // [!code ++]
	Headpat = 271, // [!code ++]
	Meteor = 272, // [!code ++]
	Exterminate = 273, // [!code ++]
	Earthquake = 274, // [!code ++]
	MagicMap = 275, // [!code ++]
	Escape = 276, // [!code ++]
	Boost = 277, // [!code ++]
	EnchantWeaponGreat = 278, // [!code ++]
	EnchantArmorGreat = 279, // [!code ++]
	RemoveHex = 280, // [!code ++]
	RemoveHexAll = 281, // [!code ++]
	Duplicate = 282, // [!code ++]
	Suicide = 283, // [!code ++]
	ShutterHex = 284, // [!code ++]
	Draw = 285, // [!code ++]
	Reconstruction = 286, // [!code ++]
	DrainBlood = 287, // [!code ++]
	Steal = 288, // [!code ++]
	Scream = 289, // [!code ++]
	DropMine = 290, // [!code ++]
	ThrowPotion = 291, // [!code ++]
	DrainMana = 292 // [!code ++]
}
```

## ElementContainer

[`@@ -808,6 +808,17 @@ public void AddNote(UINote n, Func<Element, bool> isValid = null, Action onAdd =`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/ElementContainer.cs#L808-L813)
```cs:line-numbers=808
				{
					sprite = EClass.core.refs.icons.enc.mat;
				}
				foreach (int key in thing.source.elementMap.Keys) // [!code ++]
				{ // [!code ++]
					if (key == e.id) // [!code ++]
					{ // [!code ++]
						sprite = EClass.core.refs.icons.enc.card; // [!code ++]
					} // [!code ++]
				} // [!code ++]
				if (e.id == thing.GetInt(107)) // [!code ++]
				{ // [!code ++]
					sprite = EClass.core.refs.icons.enc.cat; // [!code ++]
				} // [!code ++]
				if (thing.GetRuneEnc(e.id) != null)
				{
					sprite = EClass.core.refs.icons.enc.rune;
```

## FACTION

[`@@ -4,29 +4,31 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/FACTION.cs#L4-L32)
```cs:line-numbers=4

public class FACTION
{
	public const int bfFertile = 3700; // [!code ++]
 // [!code ++]
	public const int bfHill = 3603;

	public const int bfBeach = 3604; // [!code ++]
 // [!code ++]
	public const int bfCave = 3500;

	public const int bfPlain = 3600; // [!code --]
	public const int bfGeyser = 3701; // [!code ++]

	public const int bfForest = 3601; // [!code --]
	public const int bfRuin = 3702; // [!code ++]

	public const int bfSnow = 3602;

	public const int bfFertile = 3700; // [!code --]
	public const int bfForest = 3601; // [!code ++]

	public const int bfSea = 3605; // [!code --]
	public const int bfPlain = 3600; // [!code ++]

	public const int bfBeach = 3604; // [!code --]
	public const int bfSea = 3605; // [!code ++]

	public const int fRation = 2207;

	public const int bfGeyser = 3701; // [!code --]
 // [!code --]
	public const int fAttraction = 2206; // [!code --]
	public const int actBuildAnywhere = 4003; // [!code ++]

	public const int fLoyal = 2117; // [!code --]
	public const int fSafety = 2205; // [!code ++]

	public const int fFood = 2204;

```

[`@@ -36,43 +38,37 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/FACTION.cs#L36-L78)
```cs:line-numbers=36

	public const int fElec = 2201;

	public const int fSoil = 2200; // [!code --]
 // [!code --]
	public const int fLuck = 2118; // [!code --]
 // [!code --]
	public const int fConstruction = 2003; // [!code --]
	public const int bfTranquil = 3703; // [!code ++]

	public const int bfRuin = 3702; // [!code --]
	public const int fSoil = 2200; // [!code ++]

	public const int fHeirloom = 2120;

	public const int fTaxEvasion = 2119;

	public const int fAdmin = 2115; // [!code --]
 // [!code --]
	public const int fEducation = 2116; // [!code --]
	public const int fLuck = 2118; // [!code ++]

	public const int fSafety = 2205; // [!code --]
	public const int fLoyal = 2117; // [!code ++]

	public const int bfTranquil = 3703; // [!code --]
	public const int fAttraction = 2206; // [!code ++]

	public const int bfFish = 3706; // [!code --]
	public const int bfVolcano = 3704; // [!code ++]

	public const int bfHunt = 3705; // [!code --]
	public const int bfMushroom = 3801; // [!code ++]

	public const int actBuildInspect = 4006; // [!code --]
	public const int bfFish = 3706; // [!code ++]

	public const int actBuildRecipe = 4005;

	public const int actBuildCollect = 4004; // [!code --]
 // [!code --]
	public const int actBuildAnywhere = 4003; // [!code --]
	public const int actBuildInspect = 4006; // [!code ++]

	public const int actBuildTerrain = 4002;

	public const int actBuildMine = 4001;

	public const int bfVolcano = 3704; // [!code --]
	public const int fEducation = 2116; // [!code ++]
 // [!code ++]
	public const int actBuildCut = 4000; // [!code ++]

	public const int bfStart = 3900;

```

[`@@ -82,40 +78,44 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/FACTION.cs#L82-L121)
```cs:line-numbers=82

	public const int bfGum = 3803;

	public const int actBuildCut = 4000; // [!code --]
 // [!code --]
	public const int bfMushroom = 3801; // [!code --]
	public const int bfHunt = 3705; // [!code ++]

	public const int bfSilica = 3802;

	public const int bfFreshAir = 3708; // [!code --]
	public const int bfCoal = 3800; // [!code ++]

	public const int bfBasin = 3709; // [!code --]
	public const int bfLandmark5 = 3784; // [!code ++]

	public const int bfBreed = 3710; // [!code --]
	public const int bfLandmark4 = 3783; // [!code ++]
 // [!code ++]
	public const int bfLandmark3 = 3782; // [!code ++]
 // [!code ++]
	public const int bfLandmark2 = 3781; // [!code ++]

	public const int bfLandmark1 = 3780;

	public const int bfMonster = 3707; // [!code --]
	public const int bfBreed = 3710; // [!code ++]

	public const int bfLandmark3 = 3782; // [!code --]
	public const int bfBasin = 3709; // [!code ++]

	public const int bfLandmark4 = 3783; // [!code --]
	public const int bfFreshAir = 3708; // [!code ++]

	public const int bfLandmark5 = 3784; // [!code --]
	public const int bfMonster = 3707; // [!code ++]

	public const int bfCoal = 3800; // [!code --]
	public const int actBuildCollect = 4004; // [!code ++]

	public const int bfLandmark2 = 3781; // [!code --]
	public const int fAdmin = 2115; // [!code ++]
 // [!code ++]
	public const int fConstruction = 2003; // [!code ++]

	public static readonly int[] IDS = new int[52]
	{
		3603, 3500, 3600, 3601, 3602, 3700, 3605, 3604, 2207, 3701, // [!code --]
		2206, 2117, 2204, 2203, 2202, 2201, 2200, 2118, 2003, 3702, // [!code --]
		2120, 2119, 2115, 2116, 2205, 3703, 3706, 3705, 4006, 4005, // [!code --]
		4004, 4003, 4002, 4001, 3704, 3900, 3805, 3804, 3803, 4000, // [!code --]
		3801, 3802, 3708, 3709, 3710, 3780, 3707, 3782, 3783, 3784, // [!code --]
		3800, 3781 // [!code --]
		3700, 3603, 3604, 3500, 3701, 3702, 3602, 3601, 3600, 3605, // [!code ++]
		2207, 4003, 2205, 2204, 2203, 2202, 2201, 3703, 2200, 2120, // [!code ++]
		2119, 2118, 2117, 2206, 3704, 3801, 3706, 4005, 4006, 4002, // [!code ++]
		4001, 2116, 4000, 3900, 3805, 3804, 3803, 3705, 3802, 3800, // [!code ++]
		3784, 3783, 3782, 3781, 3780, 3710, 3709, 3708, 3707, 4004, // [!code ++]
		2115, 2003 // [!code ++]
	};
}
public class Faction : EClass
```

## FEAT

[`@@ -3,6 +3,22 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/FEAT.cs#L3-L8)
```cs:line-numbers=3

public class FEAT
{
	public const int featUndead = 1210; // [!code ++]
 // [!code ++]
	public const int featMartial = 1635; // [!code ++]
 // [!code ++]
	public const int featNegotiate = 1634; // [!code ++]
 // [!code ++]
	public const int featSpotting = 1633; // [!code ++]
 // [!code ++]
	public const int featEvade = 1632; // [!code ++]
 // [!code ++]
	public const int featDefense = 1631; // [!code ++]
 // [!code ++]
	public const int featHardy = 1630; // [!code ++]
 // [!code ++]
	public const int featSPD = 1629; // [!code ++]
 // [!code ++]
	public const int featLuck = 1628;

	public const int featCHA = 1627;
```

[`@@ -11,9 +27,9 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/FEAT.cs#L11-L19)
```cs:line-numbers=11

	public const int featMAG = 1625;

	public const int featLER = 1624; // [!code --]
	public const int featFaith = 1636; // [!code ++]

	public const int featPER = 1623; // [!code --]
	public const int featLER = 1624; // [!code ++]

	public const int featEND = 1622;

```

[`@@ -23,7 +39,7 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/FEAT.cs#L23-L29)
```cs:line-numbers=23

	public const int featStamina = 1612;

	public const int featLuckyCat = 1412; // [!code --]
	public const int featMana = 1611; // [!code ++]

	public const int featLife = 1610;

```

[`@@ -37,29 +53,37 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/FEAT.cs#L37-L65)
```cs:line-numbers=37

	public const int featWitch = 1417;

	public const int featInquisitor = 1416; // [!code --]
	public const int featPER = 1623; // [!code ++]

	public const int featFoxMaid = 1415; // [!code --]
	public const int featAnimalLover = 1640; // [!code ++]

	public const int featWhiteVixen = 1414; // [!code --]
	public const int featResCurse = 1641; // [!code ++]

	public const int featFairysan = 1413; // [!code --]
	public const int featSleeper = 1642; // [!code ++]

	public const int featSPD = 1629; // [!code --]
	public const int featFluffyTail = 1209; // [!code ++]

	public const int featMana = 1611; // [!code --]
	public const int featSlowFood = 1200; // [!code ++]

	public const int featHardy = 1630; // [!code --]
	public const int featManaBond = 1201; // [!code ++]

	public const int featParty = 1645; // [!code --]
	public const int featFastLearner = 1202; // [!code ++]

	public const int featEvade = 1632; // [!code --]
	public const int featGrowParts = 1203; // [!code ++]

	public const int featEarthStrength = 1411; // [!code --]
	public const int featFairyWeak = 1204; // [!code ++]

	public const int featManaCost = 1657; // [!code --]
	public const int featCannibalism = 1205; // [!code ++]

	public const int featScavenger = 1656; // [!code --]
	public const int featMelilithCurse = 1206; // [!code ++]
 // [!code ++]
	public const int featFoxBless = 1207; // [!code ++]
 // [!code ++]
	public const int featFoxLearn = 1208; // [!code ++]
 // [!code ++]
	public const int featChef = 1658; // [!code ++]
 // [!code ++]
	public const int featManaCost = 1657; // [!code ++]

	public const int featModelBeliever = 1655;

```

[`@@ -75,55 +99,25 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/FEAT.cs#L75-L129)
```cs:line-numbers=75

	public const int featDefender = 1649;

	public const int featDefense = 1631; // [!code --]
 // [!code --]
	public const int featRapidMagic = 1648;

	public const int featLonelySoul = 1646; // [!code --]
 // [!code --]
	public const int featBodyParts = 1644; // [!code --]
 // [!code --]
	public const int featSorter = 1643; // [!code --]
 // [!code --]
	public const int featSleeper = 1642; // [!code --]
 // [!code --]
	public const int featResCurse = 1641; // [!code --]
 // [!code --]
	public const int featAnimalLover = 1640; // [!code --]
 // [!code --]
	public const int featFaith = 1636; // [!code --]
 // [!code --]
	public const int featMartial = 1635; // [!code --]
 // [!code --]
	public const int featNegotiate = 1634; // [!code --]
 // [!code --]
	public const int featSpotting = 1633; // [!code --]
 // [!code --]
	public const int featSummoner = 1647;

	public const int featReboot = 1410; // [!code --]
 // [!code --]
	public const int featChef = 1658; // [!code --]
 // [!code --]
	public const int featPaladin2 = 1408; // [!code --]
 // [!code --]
	public const int featShiva = 1224; // [!code --]
 // [!code --]
	public const int featLoyal = 1225; // [!code --]
	public const int featLonelySoul = 1646; // [!code ++]

	public const int featUnderground = 1226; // [!code --]
	public const int featParty = 1645; // [!code ++]

	public const int featServant = 1227; // [!code --]
	public const int featBodyParts = 1644; // [!code ++]

	public const int featDemigod = 1228; // [!code --]
	public const int featSorter = 1643; // [!code ++]

	public const int featLittleOne = 1229; // [!code --]
	public const int featInquisitor = 1416; // [!code ++]

	public const int featAdam = 1230; // [!code --]
	public const int featFoxMaid = 1415; // [!code ++]

	public const int featNirvana = 1231; // [!code --]
	public const int featScavenger = 1656; // [!code ++]

	public const int featCosmicHorror = 1233; // [!code --]
	public const int featFairysan = 1413; // [!code ++]

	public const int featHeavyEater = 1234;

```

[`@@ -137,8 +131,6 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/FEAT.cs#L137-L144)
```cs:line-numbers=137

	public const int featGod_element1 = 1300;

	public const int featGod_earth1 = 1305; // [!code --]
 // [!code --]
	public const int featGod_wind1 = 1310;

	public const int featGod_machine1 = 1315;
```

[`@@ -149,39 +141,31 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/FEAT.cs#L149-L187)
```cs:line-numbers=149

	public const int featGod_luck1 = 1330;

	public const int featAcidBody = 1223; // [!code --]
 // [!code --]
	public const int featGod_harmony1 = 1335;

	public const int featSplit = 1222; // [!code --]
 // [!code --]
	public const int featFate = 1220; // [!code --]
 // [!code --]
	public const int featBoost = 1409; // [!code --]
 // [!code --]
	public const int featSlowFood = 1200; // [!code --]
	public const int featGod_oblivion1 = 1340; // [!code ++]

	public const int featManaBond = 1201; // [!code --]
	public const int featGod_trickery1 = 1345; // [!code ++]

	public const int featFastLearner = 1202; // [!code --]
	public const int featGod_moonshadow1 = 1350; // [!code ++]

	public const int featGrowParts = 1203; // [!code --]
	public const int featGod_strife1 = 1355; // [!code ++]

	public const int featFairyWeak = 1204; // [!code --]
	public const int featWarrior = 1400; // [!code ++]

	public const int featCannibalism = 1205; // [!code --]
	public const int featThief = 1401; // [!code ++]

	public const int featMelilithCurse = 1206; // [!code --]
	public const int featWizard = 1402; // [!code ++]

	public const int featFoxBless = 1207; // [!code --]
	public const int featCosmicHorror = 1233; // [!code ++]

	public const int featFoxLearn = 1208; // [!code --]
	public const int featBaby = 1232; // [!code ++]

	public const int featFluffyTail = 1209; // [!code --]
	public const int featNirvana = 1231; // [!code ++]

	public const int featUndead = 1210; // [!code --]
	public const int featAdam = 1230; // [!code ++]

	public const int featSnail = 1211; // [!code --]
	public const int featWhiteVixen = 1414; // [!code ++]

	public const int featFairyResist = 1212;

```

[`@@ -199,48 +183,64 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/FEAT.cs#L199-L246)
```cs:line-numbers=199

	public const int featElderCrab = 1219;

	public const int featSpike = 1221; // [!code --]
	public const int featFarmer = 1403; // [!code ++]

	public const int featGod_oblivion1 = 1340; // [!code --]
	public const int featFate = 1220; // [!code ++]

	public const int featBaby = 1232; // [!code --]
	public const int featSplit = 1222; // [!code ++]

	public const int featGod_moonshadow1 = 1350; // [!code --]
	public const int featSnail = 1211; // [!code ++]

	public const int featGod_trickery1 = 1345; // [!code --]
	public const int featAcidBody = 1223; // [!code ++]

	public const int featGod_strife1 = 1355; // [!code --]
	public const int featShiva = 1224; // [!code ++]

	public const int featWarrior = 1400; // [!code --]
	public const int featLoyal = 1225; // [!code ++]

	public const int featThief = 1401; // [!code --]
	public const int featUnderground = 1226; // [!code ++]

	public const int featFarmer = 1403; // [!code --]
	public const int featServant = 1227; // [!code ++]
 // [!code ++]
	public const int featDemigod = 1228; // [!code ++]
 // [!code ++]
	public const int featLittleOne = 1229; // [!code ++]
 // [!code ++]
	public const int featSpike = 1221; // [!code ++]

	public const int featArcher = 1404;

	public const int featPianist = 1405; // [!code --]
	public const int featGod_earth1 = 1305; // [!code ++]

	public const int featTourist = 1406;

	public const int featWizard = 1402; // [!code --]
	public const int featPianist = 1405; // [!code ++]
 // [!code ++]
	public const int featPaladin2 = 1408; // [!code ++]
 // [!code ++]
	public const int featReboot = 1410; // [!code ++]
 // [!code ++]
	public const int featEarthStrength = 1411; // [!code ++]
 // [!code ++]
	public const int featBoost = 1409; // [!code ++]
 // [!code ++]
	public const int featLuckyCat = 1412; // [!code ++]

	public const int featPaladin = 1407;

	public static readonly int[] IDS = new int[112]
	{
		1628, 1627, 1626, 1625, 1624, 1623, 1622, 1621, 1620, 1612, // [!code --]
		1412, 1610, 1421, 1420, 1419, 1418, 1417, 1416, 1415, 1414, // [!code --]
		1413, 1629, 1611, 1630, 1645, 1632, 1411, 1657, 1656, 1655, // [!code --]
		1654, 1653, 1652, 1651, 1650, 1649, 1631, 1648, 1646, 1644, // [!code --]
		1643, 1642, 1641, 1640, 1636, 1635, 1634, 1633, 1647, 1410, // [!code --]
		1658, 1408, 1224, 1225, 1226, 1227, 1228, 1229, 1230, 1231, // [!code --]
		1233, 1234, 1235, 1236, 1237, 1238, 1300, 1305, 1310, 1315, // [!code --]
		1320, 1325, 1330, 1223, 1335, 1222, 1220, 1409, 1200, 1201, // [!code --]
		1202, 1203, 1204, 1205, 1206, 1207, 1208, 1209, 1210, 1211, // [!code --]
		1212, 1213, 1214, 1215, 1216, 1217, 1218, 1219, 1221, 1340, // [!code --]
		1232, 1350, 1345, 1355, 1400, 1401, 1403, 1404, 1405, 1406, // [!code --]
		1402, 1407 // [!code --]
		1210, 1635, 1634, 1633, 1632, 1631, 1630, 1629, 1628, 1627, // [!code ++]
		1626, 1625, 1636, 1624, 1622, 1621, 1620, 1612, 1611, 1610, // [!code ++]
		1421, 1420, 1419, 1418, 1417, 1623, 1640, 1641, 1642, 1209, // [!code ++]
		1200, 1201, 1202, 1203, 1204, 1205, 1206, 1207, 1208, 1658, // [!code ++]
		1657, 1655, 1654, 1653, 1652, 1651, 1650, 1649, 1648, 1647, // [!code ++]
		1646, 1645, 1644, 1643, 1416, 1415, 1656, 1413, 1234, 1235, // [!code ++]
		1236, 1237, 1238, 1300, 1310, 1315, 1320, 1325, 1330, 1335, // [!code ++]
		1340, 1345, 1350, 1355, 1400, 1401, 1402, 1233, 1232, 1231, // [!code ++]
		1230, 1414, 1212, 1213, 1214, 1215, 1216, 1217, 1218, 1219, // [!code ++]
		1403, 1220, 1222, 1211, 1223, 1224, 1225, 1226, 1227, 1228, // [!code ++]
		1229, 1221, 1404, 1305, 1406, 1405, 1408, 1410, 1411, 1409, // [!code ++]
		1412, 1407 // [!code ++]
	};
}
public class Feat : Element
```

## FOOD

[`@@ -1,22 +1,22 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/FOOD.cs#L1-L22)
```cs:line-numbers=1
public class FOOD
{
	public const int food_CHA = 700; // [!code --]
 // [!code --]
	public const int food_cat = 701; // [!code --]
	public const int gainWeight = 705; // [!code ++]

	public const int food_god = 758; // [!code --]
	public const int food_bug = 704; // [!code ++]

	public const int justcooked = 757; // [!code --]
	public const int food_love = 703; // [!code ++]

	public const int food_poison = 702;

	public const int gainWeight = 705; // [!code --]
	public const int food_cat = 701; // [!code ++]

	public const int food_bug = 704; // [!code --]
	public const int justcooked = 757; // [!code ++]

	public const int food_love = 703; // [!code --]
	public const int food_god = 758; // [!code ++]

	public const int loseWeight = 706;

	public static readonly int[] IDS = new int[9] { 700, 701, 758, 757, 702, 705, 704, 703, 706 }; // [!code --]
	public const int food_CHA = 700; // [!code ++]
 // [!code ++]
	public static readonly int[] IDS = new int[9] { 705, 704, 703, 702, 701, 757, 758, 706, 700 }; // [!code ++]
}
```

## Game

[`@@ -217,6 +217,9 @@ private void _OnDeserialized(StreamingContext context)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/Game.cs#L217-L222)
```cs:line-numbers=217
	[JsonProperty]
	public List<Thing> lostThings = new List<Thing>();

	[JsonProperty] // [!code ++]
	public GamePrincipal principal = new GamePrincipal(); // [!code ++]
 // [!code ++]
	public int gameSpeedIndex = 1;

	public int lastGameSpeedIndex = 1;
```

[`@@ -461,6 +464,11 @@ public void OnLoad()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/Game.cs#L461-L466)
```cs:line-numbers=461
		}
	}
	TryAddQuest("into_darkness", "exile_kettle");
	if (version.IsBelow(0, 23, 94)) // [!code ++]
	{ // [!code ++]
		EClass.game.principal = IO.DeepCopy(EClass.setting.start.principals[0]); // [!code ++]
		player.validScore = -1; // [!code ++]
	} // [!code ++]
	if (version.IsBelow(0, 23, 93))
	{
		RecipeManager.BuildList();
```

## +GamePrincipal

::: details File Created
```cs
using System;
using Newtonsoft.Json;
using UnityEngine;

[Serializable]
public class GamePrincipal : EClass
{
	[JsonProperty]
	public int idTemplate;

	[JsonProperty]
	public int socre;

	[JsonProperty]
	public int bonusLoot;

	[JsonProperty]
	public bool deathPenaltyProtection;

	[JsonProperty]
	public bool opMilk;

	[JsonProperty]
	public bool manualSave;

	[JsonProperty]
	public bool permadeath;

	[JsonProperty]
	public bool infiniteMarketFund;

	[JsonProperty]
	public bool moreFood;

	[JsonProperty]
	public bool moreReward;

	public bool IsCustom => idTemplate == -1;

	public int GetGrade(int score)
	{
		return Mathf.Clamp(score / 100, 0, 5);
	}

	public string GetTitle()
	{
		int grade = GetGrade(GetScore());
		return Lang.GetList("pp_titles")[grade];
	}

	public int GetScore()
	{
		int num = 300;
		if (permadeath)
		{
			num += 200;
		}
		if (infiniteMarketFund)
		{
			num -= 200;
		}
		if (opMilk)
		{
			num -= 200;
		}
		if (manualSave)
		{
			num -= 100;
		}
		if (deathPenaltyProtection)
		{
			num -= 50;
		}
		return num;
	}

	public int GetValidScore()
	{
		int score = GetScore();
		if (EClass.player.validScore != -1)
		{
			if (score >= EClass.player.validScore)
			{
				return EClass.player.validScore;
			}
			return score;
		}
		return score;
	}

	public void Apply()
	{
		EClass.player.validScore = GetScore();
	}
}
```

:::
## GameSetting

[`@@ -240,6 +240,8 @@ public class StartSetting`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/GameSetting.cs#L240-L245)
```cs:line-numbers=240
		public List<Prologue> prologues;

		public List<GameDifficultySetting> difficulties;
 // [!code ++]
		public List<GamePrincipal> principals; // [!code ++]
	}

	[Serializable]
```

## HotItemContext

[`@@ -127,6 +127,10 @@ public static void Show(string id, Vector3 pos)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/HotItemContext.cs#L127-L132)
```cs:line-numbers=127
			{
				EClass.ui.AddLayer<LayerConfig>();
			});
			i.AddButton("worldSetting", delegate // [!code ++]
			{ // [!code ++]
				EClass.ui.AddLayer<LayerWorldSetting>(); // [!code ++]
			}); // [!code ++]
			i.AddSeparator();
			i.AddButton("LayerHoard", delegate
			{
```

## LayerHelp

[`@@ -8,6 +8,14 @@ public class LayerHelp : ELayer`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/LayerHelp.cs#L8-L13)
```cs:line-numbers=8

	public override bool blockWidgetClick => false;

	public override void OnInit() // [!code ++]
	{ // [!code ++]
		if (book.mode == UIBook.Mode.Book) // [!code ++]
		{ // [!code ++]
			SkinManager.LimitFontSizeMod_UI = -2; // [!code ++]
		} // [!code ++]
	} // [!code ++]
 // [!code ++]
	public override void OnAfterInit()
	{
		switch (book.mode)
```

[`@@ -49,5 +57,6 @@ private void OnDestroy()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/LayerHelp.cs#L49-L53)
```cs:line-numbers=49
			lastIdFile = book.idFile;
			lastIdTopic = book.idTopic;
		}
		SkinManager.LimitFontSizeMod_UI = 999; // [!code ++]
	}
}
```

## +LayerWorldSetting

::: details File Created
```cs
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class LayerWorldSetting : ELayer
{
	public UISelectableGroup groupTemplate;

	public List<UIButton> buttonTemplates;

	public UIButton toggleDeathPenaltyProtection;

	public UIButton toggleManualSave;

	public UIButton togglePermadeath;

	public UIButton toggleInfiniteMarketFund;

	public UIButton toggleOPMilk;

	public UIText textScore;

	public UIText textTitle;

	public UIText textValidScore;

	public Image imageScoreBar;

	public GamePrincipal pp => ELayer.game.principal;

	public int IdxCustom => 3;

	public override void OnInit()
	{
		for (int j = 0; j < buttonTemplates.Count; j++)
		{
			int i = j;
			UIButton uIButton = buttonTemplates[i];
			uIButton.mainText.SetText(Lang.GetList("pp_templates")[i]);
			if (i != IdxCustom)
			{
				uIButton.refObj = ELayer.setting.start.principals[i];
			}
			uIButton.SetOnClick(delegate
			{
				SetTemplate(i);
			});
		}
		Refresh();
	}

	public void SetTemplate(int idx)
	{
		pp.idTemplate = idx;
		if (idx == IdxCustom)
		{
			pp.idTemplate = -1;
		}
		else
		{
			ELayer.game.principal = IO.DeepCopy(ELayer.setting.start.principals[idx]);
		}
		Refresh();
	}

	public void Refresh()
	{
		groupTemplate.Select(pp.IsCustom ? IdxCustom : pp.idTemplate);
		toggleDeathPenaltyProtection.SetToggle(pp.deathPenaltyProtection, delegate(bool a)
		{
			Toggle(ref pp.deathPenaltyProtection, a);
		});
		toggleManualSave.SetToggle(pp.manualSave, delegate(bool a)
		{
			Toggle(ref pp.manualSave, a);
		});
		togglePermadeath.SetToggle(pp.permadeath, delegate(bool a)
		{
			Toggle(ref pp.permadeath, a);
		});
		toggleInfiniteMarketFund.SetToggle(pp.infiniteMarketFund, delegate(bool a)
		{
			Toggle(ref pp.infiniteMarketFund, a);
		});
		toggleOPMilk.SetToggle(pp.opMilk, delegate(bool a)
		{
			Toggle(ref pp.opMilk, a);
		});
		RefreshScore();
		void Toggle(ref bool flag, bool on)
		{
			flag = on;
			if (!pp.IsCustom)
			{
				pp.idTemplate = -1;
				groupTemplate.Select(IdxCustom);
			}
			RefreshScore();
		}
	}

	public void RefreshScore()
	{
		textTitle.text = pp.GetTitle() ?? "";
		textScore.text = "pp_score".lang(pp.GetScore().ToString() ?? "");
		textValidScore.text = "pp_validScore".lang(pp.GetValidScore().ToString() ?? "");
		imageScoreBar.rectTransform.sizeDelta = new Vector2(Mathf.Clamp(300f * (float)pp.GetScore() / 500f, 0f, 300f), 50f);
	}

	public override void OnKill()
	{
		pp.Apply();
	}
}
```

:::
## MUTATION

[`@@ -1,32 +1,40 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/MUTATION.cs#L1-L32)
```cs:line-numbers=1
public class MUTATION
{
	public const int mutationRegen = 1516; // [!code --]
	public const int mutationSpeedN = 1519; // [!code ++]

	public const int etherPoisonHand = 1565; // [!code --]
	public const int mutationSpeed = 1518; // [!code ++]

	public const int mutationSkin = 1510; // [!code --]
	public const int mutationRegenN = 1517; // [!code ++]
 // [!code ++]
	public const int mutationRegen = 1516; // [!code ++]

	public const int mutationSkinN = 1511;

	public const int mutationDex = 1514; // [!code ++]
 // [!code ++]
	public const int mutationEye = 1512;

	public const int mutationEyeN = 1513; // [!code --]
	public const int mutationSkin = 1510; // [!code ++]

	public const int mutationDex = 1514; // [!code --]
	public const int mutationStr = 1520; // [!code ++]

	public const int mutationDexN = 1515;

	public const int mutationRegenN = 1517; // [!code --]
	public const int mutationStrN = 1521; // [!code ++]

	public const int etherManaBattery = 1564; // [!code --]
	public const int mutationEyeN = 1513; // [!code ++]

	public const int mutationSpeedN = 1519; // [!code --]
	public const int mutationChaN = 1523; // [!code ++]
 // [!code ++]
	public const int etherPoisonHand = 1565; // [!code ++]
 // [!code ++]
	public const int mutationCha = 1522; // [!code ++]

	public const int etherProvoke = 1563;

	public const int etherArmor = 1562;

	public const int mutationSpeed = 1518; // [!code --]
	public const int etherStupid = 1561; // [!code ++]

	public const int etherWeak = 1560;

```

[`@@ -42,46 +50,38 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/MUTATION.cs#L42-L87)
```cs:line-numbers=42

	public const int etherWing = 1554;

	public const int etherEye = 1553; // [!code --]
	public const int etherManaBattery = 1564; // [!code ++]

	public const int etherFeet = 1552;

	public const int etherUgly = 1551;

	public const int etherStupid = 1561; // [!code --]
 // [!code --]
	public const int mutationStrN = 1521; // [!code --]
 // [!code --]
	public const int mutationStr = 1520; // [!code --]
 // [!code --]
	public const int mutationCha = 1522; // [!code --]
 // [!code --]
	public const int mutationChaN = 1523; // [!code --]
	public const int etherGravity = 1550; // [!code ++]

	public const int mutationBrainN = 1525; // [!code --]
	public const int mutationBodyN = 1531; // [!code ++]

	public const int mutationCold = 1526; // [!code --]
	public const int mutationBody = 1530; // [!code ++]

	public const int mutationBrain = 1524; // [!code --]
	public const int mutationLightningN = 1529; // [!code ++]

	public const int mutationLightning = 1528;

	public const int mutationLightningN = 1529; // [!code --]
	public const int mutationColdN = 1527; // [!code ++]

	public const int mutationBody = 1530; // [!code --]
	public const int mutationCold = 1526; // [!code ++]

	public const int mutationBodyN = 1531; // [!code --]
	public const int mutationBrainN = 1525; // [!code ++]

	public const int mutationColdN = 1527; // [!code --]
	public const int mutationBrain = 1524; // [!code ++]

	public const int etherGravity = 1550; // [!code --]
	public const int etherEye = 1553; // [!code ++]

	public static readonly int[] IDS = new int[38]
	{
		1516, 1565, 1510, 1511, 1512, 1513, 1514, 1515, 1517, 1564, // [!code --]
		1519, 1563, 1562, 1518, 1560, 1559, 1558, 1557, 1556, 1555, // [!code --]
		1554, 1553, 1552, 1551, 1561, 1521, 1520, 1522, 1523, 1525, // [!code --]
		1526, 1524, 1528, 1529, 1530, 1531, 1527, 1550 // [!code --]
		1519, 1518, 1517, 1516, 1511, 1514, 1512, 1510, 1520, 1515, // [!code ++]
		1521, 1513, 1523, 1565, 1522, 1563, 1562, 1561, 1560, 1559, // [!code ++]
		1558, 1557, 1556, 1555, 1554, 1564, 1552, 1551, 1550, 1531, // [!code ++]
		1530, 1529, 1528, 1527, 1526, 1525, 1524, 1553 // [!code ++]
	};
}
public class Mutation : Feat
```

## Map

[`@@ -610,12 +610,14 @@ public void Load(string path, bool import = false, PartialMap partial = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/Map.cs#L610-L621)
```cs:line-numbers=610
	Validate(ref bytes18, "roofBlocks");
	Validate(ref bytes19, "roofBlockMats");
	Validate(ref bytes20, "roofBlockDirs");
	int count = EClass.sources.floors.rows.Count; // [!code ++]
	int count2 = EClass.sources.materials.rows.Count; // [!code ++]
	int num3 = 0;
	for (int i = 0; i < num; i++)
	{
		for (int j = 0; j < num2; j++)
		{
			cells[i, j] = new Cell // [!code --]
			Cell cell = (cells[i, j] = new Cell // [!code ++]
			{
				x = (byte)i,
				z = (byte)j,
```

[`@@ -646,8 +648,16 @@ public void Load(string path, bool import = false, PartialMap partial = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/Map.cs#L646-L653)
```cs:line-numbers=646
				isWatered = bytes12[num3].GetBit(0),
				isObjDyed = bytes12[num3].GetBit(1),
				crossWall = bytes12[num3].GetBit(2)
			}; // [!code --]
			Critter.RebuildCritter(cells[i, j]); // [!code --]
			}); // [!code ++]
			if (cell._bridge >= count) // [!code ++]
			{ // [!code ++]
				cell._bridge = 0; // [!code ++]
			} // [!code ++]
			if (cell._bridgeMat >= count2) // [!code ++]
			{ // [!code ++]
				cell._bridgeMat = 1; // [!code ++]
			} // [!code ++]
			Critter.RebuildCritter(cell); // [!code ++]
			num3++;
		}
	}
```

## POLICY

[`@@ -3,7 +3,7 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/POLICY.cs#L3-L9)
```cs:line-numbers=3

public class POLICY
{
	public const int bed_quality = 2812; // [!code --]
	public const int forcePanty = 2712; // [!code ++]

	public const int platinum_ticket = 2815;

```

[`@@ -11,21 +11,21 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/POLICY.cs#L11-L31)
```cs:line-numbers=11

	public const int suite_room = 2813;

	public const int forcePanty = 2712; // [!code --]
	public const int livestock_priv = 2715; // [!code ++]
 // [!code ++]
	public const int tourist_safety = 2811; // [!code ++]

	public const int open_business = 2810;

	public const int home_discount = 2800;

	public const int livestock_priv = 2715; // [!code --]
 // [!code --]
	public const int store_ripoff = 2816;

	public const int tourist_safety = 2811; // [!code --]
	public const int bed_quality = 2812; // [!code ++]

	public const int store_premium = 2817;

	public const int license_stolen = 2824; // [!code --]
	public const int celeb = 2822; // [!code ++]

	public const int license_furniture = 2819;

```

[`@@ -33,10 +33,10 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/POLICY.cs#L33-L42)
```cs:line-numbers=33

	public const int legendary_heirloom = 2821;

	public const int celeb = 2822; // [!code --]
 // [!code --]
	public const int legendary_exhibition = 2823;

	public const int license_stolen = 2824; // [!code ++]
 // [!code ++]
	public const int milk_fan = 2825;

	public const int egg_fan = 2826;
```

[`@@ -49,51 +49,53 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/POLICY.cs#L49-L99)
```cs:line-numbers=49

	public const int incomeTransfer = 2711;

	public const int nocturnal_life = 2508; // [!code --]
	public const int self_sufficient = 2511; // [!code ++]

	public const int noAnimal = 2709;

	public const int wealth_tax = 2500; // [!code --]
	public const int noMother = 2710; // [!code ++]
 // [!code ++]
	public const int food_for_people = 2502; // [!code ++]

	public const int faith_tax = 2501;

	public const int food_for_people = 2502; // [!code --]
	public const int wealth_tax = 2500; // [!code ++]

	public const int noMother = 2710; // [!code --]
	public const int prohibition = 2503; // [!code ++]

	public const int impressment = 2504;

	public const int legal_drug = 2505;

	public const int human_right = 2506; // [!code --]
 // [!code --]
	public const int inquisition = 2507;

	public const int nocturnal_life = 2508; // [!code ++]
 // [!code ++]
	public const int vaccination = 2509;

	public const int ban_radio = 2510;

	public const int self_sufficient = 2511; // [!code --]
 // [!code --]
	public const int resident_tax = 2512;

	public const int prohibition = 2503; // [!code --]
	public const int human_right = 2506; // [!code ++]

	public const int taxfree = 2514;

	public const int resident_wanted = 2513;

	public const int auto_farm = 2707; // [!code ++]
 // [!code ++]
	public const int demon_invocation = 2706;

	public const int auto_farm = 2707; // [!code --]
	public const int taxTransfer = 2705; // [!code ++]

	public const int weed_no = 2703; // [!code --]
	public const int noDM = 2708; // [!code ++]

	public const int trash_no = 2702; // [!code --]
	public const int weed_no = 2703; // [!code ++]

	public const int border_watch = 2704;

	public const int noDM = 2708; // [!code --]
	public const int trash_sort = 2701; // [!code ++]

	public const int energy_conservation = 2700;

```

[`@@ -101,18 +103,16 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/POLICY.cs#L101-L118)
```cs:line-numbers=101

	public const int stop_growth = 2515;

	public const int trash_sort = 2701; // [!code --]
 // [!code --]
	public const int taxTransfer = 2705; // [!code --]
	public const int trash_no = 2702; // [!code ++]

	public static readonly int[] IDS = new int[51]
	{
		2812, 2815, 2814, 2813, 2712, 2810, 2800, 2715, 2816, 2811, // [!code --]
		2817, 2824, 2819, 2820, 2821, 2822, 2823, 2825, 2826, 2827, // [!code --]
		2828, 2818, 2711, 2508, 2709, 2500, 2501, 2502, 2710, 2504, // [!code --]
		2505, 2506, 2507, 2509, 2510, 2511, 2512, 2503, 2514, 2513, // [!code --]
		2706, 2707, 2703, 2702, 2704, 2708, 2700, 2516, 2515, 2701, // [!code --]
		2705 // [!code --]
		2712, 2815, 2814, 2813, 2715, 2811, 2810, 2800, 2816, 2812, // [!code ++]
		2817, 2822, 2819, 2820, 2821, 2823, 2824, 2825, 2826, 2827, // [!code ++]
		2828, 2818, 2711, 2511, 2709, 2710, 2502, 2501, 2500, 2503, // [!code ++]
		2504, 2505, 2507, 2508, 2509, 2510, 2512, 2506, 2514, 2513, // [!code ++]
		2707, 2706, 2705, 2708, 2703, 2704, 2701, 2700, 2516, 2515, // [!code ++]
		2702 // [!code ++]
	};
}
public class Policy : EClass
```

## Player

[`@@ -764,6 +764,9 @@ public void OnLeaveZone()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/Player.cs#L764-L769)
```cs:line-numbers=764
	[JsonProperty]
	public int customLightMod = 3;

	[JsonProperty] // [!code ++]
	public int validScore; // [!code ++]
 // [!code ++]
	[JsonProperty]
	public float angle;

```

[`@@ -923,6 +926,9 @@ public void OnLeaveZone()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/Player.cs#L923-L928)
```cs:line-numbers=923
	[JsonProperty]
	public Window.SaveData windowAllyInv;

	[JsonProperty] // [!code ++]
	public List<string> favMoongate = new List<string>(); // [!code ++]
 // [!code ++]
	public static int seedHallucination;

	public static int realHour;
```

[`@@ -2328,4 +2334,16 @@ public bool TooHeavyToMove()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/Player.cs#L2328-L2331)
```cs:line-numbers=2328
		}
		return false;
	}
 // [!code ++]
	public void ToggleFavMoongate(string id) // [!code ++]
	{ // [!code ++]
		if (favMoongate.Contains(id)) // [!code ++]
		{ // [!code ++]
			favMoongate.Remove(id); // [!code ++]
		} // [!code ++]
		else // [!code ++]
		{ // [!code ++]
			favMoongate.Add(id); // [!code ++]
		} // [!code ++]
	} // [!code ++]
}
```

## SKILL

[`@@ -1,6 +1,6 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SKILL.cs#L1-L6)
```cs:line-numbers=1
public class SKILL
{
	public const int armorHeavy = 122; // [!code --]
	public const int tactics = 132; // [!code ++]

	public const int twowield = 131;

```

[`@@ -8,6 +8,8 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SKILL.cs#L8-L13)
```cs:line-numbers=8

	public const int shield = 123;

	public const int armorHeavy = 122; // [!code ++]
 // [!code ++]
	public const int acidproof = 51;

	public const int weaponBlunt = 111;
```

[`@@ -18,15 +20,15 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SKILL.cs#L18-L32)
```cs:line-numbers=18

	public const int fireproof = 50;

	public const int tactics = 132; // [!code --]
	public const int marksman = 133; // [!code ++]

	public const int armorLight = 120;

	public const int marksman = 133; // [!code --]
	public const int eyeofmind = 134; // [!code ++]

	public const int evasionPlus = 151; // [!code --]
	public const int parasite = 227; // [!code ++]

	public const int strategy = 135; // [!code --]
	public const int evasion = 150; // [!code ++]

	public const int climbing = 242;

```

[`@@ -40,15 +42,15 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SKILL.cs#L40-L54)
```cs:line-numbers=40

	public const int digging = 230;

	public const int parasite = 227; // [!code --]
 // [!code --]
	public const int eyeofmind = 134; // [!code --]
	public const int PDR = 55; // [!code ++]

	public const int riding = 226;

	public const int lumberjack = 225; // [!code ++]
 // [!code ++]
	public const int mining = 220;

	public const int spotting = 210; // [!code --]
	public const int fishing = 245; // [!code ++]

	public const int weightlifting = 207;

```

[`@@ -56,20 +58,16 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SKILL.cs#L56-L75)
```cs:line-numbers=56

	public const int stealth = 152;

	public const int PDR = 55; // [!code --]
 // [!code --]
	public const int evasion = 150; // [!code --]
	public const int evasionPlus = 151; // [!code ++]

	public const int lumberjack = 225; // [!code --]
	public const int strategy = 135; // [!code ++]

	public const int EDR = 56;

	public const int throwing = 108; // [!code --]
	public const int weaponSword = 101; // [!code ++]

	public const int life = 60;

	public const int fishing = 245; // [!code --]
 // [!code --]
	public const int mana = 61;

	public const int vigor = 62;
```

[`@@ -96,11 +94,11 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SKILL.cs#L96-L106)
```cs:line-numbers=96

	public const int WIL = 75;

	public const int evasionPerfect = 57; // [!code --]
 // [!code --]
	public const int MAG = 76;

	public const int LUC = 78; // [!code --]
	public const int evasionPerfect = 57; // [!code ++]
 // [!code ++]
	public const int CHA = 77; // [!code ++]

	public const int SPD = 79;

```

[`@@ -128,11 +126,13 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SKILL.cs#L128-L138)
```cs:line-numbers=128

	public const int weaponDagger = 107;

	public const int CHA = 77; // [!code --]
	public const int throwing = 108; // [!code ++]
 // [!code ++]
	public const int LUC = 78; // [!code ++]

	public const int gathering = 250;

	public const int weaponSword = 101; // [!code --]
	public const int spotting = 210; // [!code ++]

	public const int blacksmith = 256;

```

[`@@ -190,7 +190,7 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SKILL.cs#L190-L196)
```cs:line-numbers=190

	public const int resImpact = 965;

	public const int resDamage = 971; // [!code --]
	public const int resDecay = 970; // [!code ++]

	public const int resCurse = 972;

```

[`@@ -200,18 +200,18 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SKILL.cs#L200-L217)
```cs:line-numbers=200

	public const int eleMind = 914;

	public const int resDecay = 970; // [!code --]
	public const int resDamage = 971; // [!code ++]

	public const int eleLightning = 912;

	public const int eleDarkness = 913;

	public const int alchemy = 257; // [!code ++]
 // [!code ++]
	public const int sculpture = 258;

	public const int jewelry = 259;

	public const int alchemy = 257; // [!code --]
 // [!code --]
	public const int weaving = 260;

	public const int handicraft = 261;
```

[`@@ -238,10 +238,10 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SKILL.cs#L238-L247)
```cs:line-numbers=238

	public const int regeneration = 300;

	public const int eleCold = 911; // [!code --]
 // [!code --]
	public const int eleFire = 910;

	public const int env = 313; // [!code ++]
 // [!code ++]
	public const int disarmTrap = 293;

	public const int fun = 312;
```

[`@@ -252,14 +252,14 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SKILL.cs#L252-L265)
```cs:line-numbers=252

	public const int memorization = 307;

	public const int env = 313; // [!code --]
 // [!code --]
	public const int magicDevice = 305;

	public const int casting = 304;

	public const int manaCapacity = 303;

	public const int eleCold = 911; // [!code ++]
 // [!code ++]
	public const int controlmana = 302;

	public const int meditation = 301;
```

[`@@ -268,19 +268,19 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SKILL.cs#L268-L286)
```cs:line-numbers=268

	public static readonly int[] IDS = new int[133]
	{
		122, 131, 130, 123, 51, 111, 110, 109, 50, 132, // [!code --]
		120, 133, 151, 135, 242, 241, 240, 237, 235, 230, // [!code --]
		227, 134, 226, 220, 210, 207, 200, 152, 55, 150, // [!code --]
		225, 56, 108, 60, 245, 61, 62, 64, 65, 66, // [!code --]
		67, 68, 70, 71, 72, 73, 74, 75, 57, 76, // [!code --]
		78, 79, 80, 90, 91, 92, 93, 100, 102, 103, // [!code --]
		104, 105, 106, 107, 77, 250, 101, 256, 916, 917, // [!code --]
		132, 131, 130, 123, 122, 51, 111, 110, 109, 50, // [!code ++]
		133, 120, 134, 227, 150, 242, 241, 240, 237, 235, // [!code ++]
		230, 55, 226, 225, 220, 245, 207, 200, 152, 151, // [!code ++]
		135, 56, 101, 60, 61, 62, 64, 65, 66, 67, // [!code ++]
		68, 70, 71, 72, 73, 74, 75, 76, 57, 77, // [!code ++]
		79, 80, 90, 91, 92, 93, 100, 102, 103, 104, // [!code ++]
		105, 106, 107, 108, 78, 250, 210, 256, 916, 917, // [!code ++]
		918, 919, 920, 921, 922, 923, 924, 925, 926, 950,
		951, 952, 915, 953, 955, 956, 957, 958, 959, 960,
		961, 962, 963, 964, 965, 971, 972, 255, 954, 914, // [!code --]
		970, 912, 913, 258, 259, 257, 260, 261, 280, 281, // [!code --]
		285, 286, 287, 289, 290, 291, 292, 288, 300, 911, // [!code --]
		910, 293, 312, 311, 310, 307, 313, 305, 304, 303, // [!code --]
		961, 962, 963, 964, 965, 970, 972, 255, 954, 914, // [!code ++]
		971, 912, 913, 257, 258, 259, 260, 261, 280, 281, // [!code ++]
		285, 286, 287, 289, 290, 291, 292, 288, 300, 910, // [!code ++]
		313, 293, 312, 311, 310, 307, 305, 304, 303, 911, // [!code ++]
		302, 301, 306
	};
}
```

## SLOT

[`@@ -1,40 +1,40 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SLOT.cs#L1-L40)
```cs:line-numbers=1
public class SLOT
{
	public const int finger = 36; // [!code --]
 // [!code --]
	public const int lightsource = 45; // [!code --]
	public const int leg = 38; // [!code ++]

	public const int toolbelt = 44;

	public const int token = 43; // [!code --]
	public const int tool = 40; // [!code ++]

	public const int ammo = 42; // [!code --]
	public const int back = 33; // [!code ++]

	public const int range = 41; // [!code --]
	public const int arm = 34; // [!code ++]

	public const int tool = 40; // [!code --]
	public const int ammo = 42; // [!code ++]

	public const int foot = 39; // [!code --]
	public const int lightsource = 45; // [!code ++]

	public const int leg = 38; // [!code --]
	public const int neck = 31; // [!code ++]

	public const int hand = 35; // [!code --]
	public const int torso = 32; // [!code ++]

	public const int waist = 37; // [!code --]
	public const int hand = 35; // [!code ++]

	public const int back = 33; // [!code --]
	public const int foot = 39; // [!code ++]

	public const int torso = 32; // [!code --]
	public const int finger = 36; // [!code ++]

	public const int neck = 31; // [!code --]
	public const int token = 43; // [!code ++]

	public const int head = 30;

	public const int arm = 34; // [!code --]
	public const int waist = 37; // [!code ++]
 // [!code ++]
	public const int range = 41; // [!code ++]

	public static readonly int[] IDS = new int[16]
	{
		36, 45, 44, 43, 42, 41, 40, 39, 38, 35, // [!code --]
		37, 33, 32, 31, 30, 34 // [!code --]
		38, 44, 40, 33, 34, 42, 45, 31, 32, 35, // [!code ++]
		39, 36, 43, 30, 37, 41 // [!code ++]
	};
}
```

## SPELL

[`@@ -1,224 +1,212 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SPELL.cs#L1-L224)
```cs:line-numbers=1
public class SPELL
{
	public const int hand_Void = 50416; // [!code --]
 // [!code --]
	public const int arrow_Fire = 50500; // [!code --]
 // [!code --]
	public const int arrow_Cold = 50501; // [!code --]
 // [!code --]
	public const int arrow_Lightning = 50502; // [!code --]
 // [!code --]
	public const int arrow_Darkness = 50503; // [!code --]
 // [!code --]
	public const int arrow_Mind = 50504; // [!code --]
 // [!code --]
	public const int arrow_Poison = 50505; // [!code --]
	public const int funnel_Nerve = 50608; // [!code ++]

	public const int arrow_Nether = 50506; // [!code --]
	public const int hand_Sound = 50407; // [!code ++]

	public const int arrow_Sound = 50507;

	public const int arrow_Chaos = 50510; // [!code --]
	public const int funnel_Sound = 50607; // [!code ++]
 // [!code ++]
	public const int miasma_Sound = 50707; // [!code ++]

	public const int arrow_Holy = 50509;

	public const int arrow_Magic = 50511; // [!code --]
	public const int bolt_Holy = 50309; // [!code ++]

	public const int arrow_Ether = 50512; // [!code --]
	public const int ball_Holy = 50109; // [!code ++]

	public const int arrow_Acid = 50513; // [!code --]
	public const int puddle_Sound = 50907; // [!code ++]

	public const int arrow_Cut = 50514; // [!code --]
	public const int ball_Nerve = 50108; // [!code ++]

	public const int arrow_Impact = 50515; // [!code --]
	public const int bolt_Nerve = 50308; // [!code ++]

	public const int arrow_Void = 50516; // [!code --]
	public const int hand_Nerve = 50408; // [!code ++]

	public const int funnel_Fire = 50600; // [!code --]
	public const int puddle_Nerve = 50908; // [!code ++]

	public const int funnel_Cold = 50601; // [!code --]
	public const int weapon_Nerve = 50808; // [!code ++]
 // [!code ++]
	public const int miasma_Nerve = 50708; // [!code ++]

	public const int arrow_Nerve = 50508;

	public const int funnel_Lightning = 50602; // [!code --]
	public const int weapon_Sound = 50807; // [!code ++]

	public const int hand_Cut = 50414; // [!code --]
	public const int hand_Holy = 50409; // [!code ++]

	public const int hand_Acid = 50413; // [!code --]
	public const int funnel_Poison = 50605; // [!code ++]

	public const int hand_Fire = 50400; // [!code --]
	public const int ball_Sound = 50107; // [!code ++]

	public const int bolt_Void = 50316; // [!code --]
	public const int funnel_Holy = 50609; // [!code ++]

	public const int bolt_Impact = 50315; // [!code --]
	public const int bolt_Mind = 50304; // [!code ++]

	public const int bolt_Cut = 50314; // [!code --]
	public const int hand_Mind = 50404; // [!code ++]

	public const int bolt_Acid = 50313; // [!code --]
	public const int arrow_Mind = 50504; // [!code ++]

	public const int bolt_Ether = 50312; // [!code --]
	public const int funnel_Mind = 50604; // [!code ++]

	public const int bolt_Magic = 50311; // [!code --]
	public const int miasma_Mind = 50704; // [!code ++]

	public const int hand_Cold = 50401; // [!code --]
	public const int weapon_Mind = 50804; // [!code ++]

	public const int hand_Lightning = 50402; // [!code --]
	public const int puddle_Mind = 50904; // [!code ++]

	public const int hand_Darkness = 50403; // [!code --]
	public const int ball_Poison = 50105; // [!code ++]

	public const int hand_Mind = 50404; // [!code --]
	public const int bolt_Poison = 50305; // [!code ++]

	public const int hand_Poison = 50405;

	public const int hand_Nether = 50406; // [!code --]
 // [!code --]
	public const int hand_Sound = 50407; // [!code --]
	public const int arrow_Poison = 50505; // [!code ++]

	public const int hand_Nerve = 50408; // [!code --]
	public const int miasma_Poison = 50705; // [!code ++]

	public const int hand_Holy = 50409; // [!code --]
	public const int weapon_Poison = 50805; // [!code ++]

	public const int hand_Chaos = 50410; // [!code --]
	public const int puddle_Poison = 50905; // [!code ++]

	public const int hand_Magic = 50411; // [!code --]
	public const int ball_Nether = 50106; // [!code ++]

	public const int hand_Ether = 50412; // [!code --]
	public const int bolt_Nether = 50306; // [!code ++]

	public const int hand_Impact = 50415; // [!code --]
	public const int hand_Nether = 50406; // [!code ++]

	public const int funnel_Darkness = 50603; // [!code --]
	public const int arrow_Nether = 50506; // [!code ++]

	public const int weapon_Lightning = 50802; // [!code --]
	public const int funnel_Nether = 50606; // [!code ++]

	public const int funnel_Poison = 50605; // [!code --]
	public const int miasma_Nether = 50706; // [!code ++]

	public const int weapon_Mind = 50804; // [!code --]
	public const int weapon_Nether = 50806; // [!code ++]

	public const int weapon_Poison = 50805; // [!code --]
	public const int puddle_Nether = 50906; // [!code ++]

	public const int weapon_Nether = 50806; // [!code --]
	public const int bolt_Sound = 50307; // [!code ++]

	public const int weapon_Sound = 50807; // [!code --]
	public const int miasma_Holy = 50709; // [!code ++]

	public const int weapon_Nerve = 50808; // [!code --]
	public const int weapon_Acid = 50813; // [!code ++]

	public const int weapon_Holy = 50809; // [!code --]
	public const int puddle_Holy = 50909; // [!code ++]

	public const int weapon_Chaos = 50810; // [!code --]
	public const int miasma_Acid = 50713; // [!code ++]

	public const int weapon_Magic = 50811; // [!code --]
	public const int puddle_Acid = 50913; // [!code ++]

	public const int weapon_Ether = 50812; // [!code --]
	public const int ball_Cut = 50114; // [!code ++]

	public const int weapon_Acid = 50813; // [!code --]
	public const int bolt_Cut = 50314; // [!code ++]

	public const int weapon_Cut = 50814; // [!code --]
	public const int hand_Cut = 50414; // [!code ++]

	public const int weapon_Impact = 50815; // [!code --]
	public const int arrow_Cut = 50514; // [!code ++]

	public const int weapon_Void = 50816; // [!code --]
	public const int funnel_Cut = 50614; // [!code ++]

	public const int weapon_Darkness = 50803; // [!code --]
	public const int miasma_Cut = 50714; // [!code ++]

	public const int puddle_Fire = 50900; // [!code --]
	public const int weapon_Cut = 50814; // [!code ++]

	public const int puddle_Lightning = 50902; // [!code --]
	public const int puddle_Cut = 50914; // [!code ++]

	public const int puddle_Darkness = 50903; // [!code --]
	public const int ball_Impact = 50115; // [!code ++]

	public const int puddle_Mind = 50904; // [!code --]
	public const int funnel_Acid = 50613; // [!code ++]

	public const int puddle_Poison = 50905; // [!code --]
	public const int bolt_Impact = 50315; // [!code ++]

	public const int puddle_Nether = 50906; // [!code --]
	public const int arrow_Impact = 50515; // [!code ++]

	public const int puddle_Sound = 50907; // [!code --]
	public const int funnel_Impact = 50615; // [!code ++]

	public const int puddle_Nerve = 50908; // [!code --]
	public const int miasma_Impact = 50715; // [!code ++]

	public const int puddle_Holy = 50909; // [!code --]
	public const int weapon_Impact = 50815; // [!code ++]

	public const int puddle_Chaos = 50910; // [!code --]
	public const int puddle_Impact = 50915; // [!code ++]

	public const int puddle_Magic = 50911; // [!code --]
	public const int ball_Void = 50116; // [!code ++]

	public const int puddle_Ether = 50912; // [!code --]
	public const int bolt_Void = 50316; // [!code ++]

	public const int puddle_Acid = 50913; // [!code --]
	public const int hand_Void = 50416; // [!code ++]

	public const int puddle_Cut = 50914; // [!code --]
	public const int arrow_Void = 50516; // [!code ++]

	public const int puddle_Cold = 50901; // [!code --]
	public const int funnel_Void = 50616; // [!code ++]

	public const int funnel_Mind = 50604; // [!code --]
	public const int miasma_Void = 50716; // [!code ++]

	public const int bolt_Chaos = 50310; // [!code --]
	public const int hand_Impact = 50415; // [!code ++]

	public const int weapon_Fire = 50800; // [!code --]
	public const int arrow_Acid = 50513; // [!code ++]

	public const int funnel_Nether = 50606; // [!code --]
	public const int hand_Acid = 50413; // [!code ++]

	public const int funnel_Sound = 50607; // [!code --]
	public const int bolt_Acid = 50313; // [!code ++]

	public const int funnel_Nerve = 50608; // [!code --]
	public const int ball_Chaos = 50110; // [!code ++]

	public const int funnel_Holy = 50609; // [!code --]
	public const int bolt_Chaos = 50310; // [!code ++]

	public const int funnel_Chaos = 50610; // [!code --]
	public const int hand_Chaos = 50410; // [!code ++]

	public const int funnel_Magic = 50611; // [!code --]
	public const int arrow_Chaos = 50510; // [!code ++]

	public const int funnel_Ether = 50612; // [!code --]
	public const int funnel_Chaos = 50610; // [!code ++]

	public const int funnel_Acid = 50613; // [!code --]
	public const int miasma_Chaos = 50710; // [!code ++]

	public const int funnel_Cut = 50614; // [!code --]
	public const int weapon_Chaos = 50810; // [!code ++]

	public const int funnel_Impact = 50615; // [!code --]
	public const int puddle_Chaos = 50910; // [!code ++]

	public const int funnel_Void = 50616; // [!code --]
	public const int ball_Magic = 50111; // [!code ++]

	public const int miasma_Fire = 50700; // [!code --]
	public const int bolt_Magic = 50311; // [!code ++]

	public const int miasma_Cold = 50701; // [!code --]
	public const int hand_Magic = 50411; // [!code ++]

	public const int weapon_Cold = 50801; // [!code --]
	public const int arrow_Magic = 50511; // [!code ++]

	public const int miasma_Lightning = 50702; // [!code --]
	public const int funnel_Magic = 50611; // [!code ++]

	public const int miasma_Mind = 50704; // [!code --]
	public const int miasma_Magic = 50711; // [!code ++]

	public const int miasma_Poison = 50705; // [!code --]
	public const int weapon_Magic = 50811; // [!code ++]

	public const int miasma_Nether = 50706; // [!code --]
	public const int puddle_Magic = 50911; // [!code ++]

	public const int miasma_Sound = 50707; // [!code --]
	public const int ball_Ether = 50112; // [!code ++]

	public const int miasma_Nerve = 50708; // [!code --]
	public const int bolt_Ether = 50312; // [!code ++]

	public const int miasma_Holy = 50709; // [!code --]
	public const int hand_Ether = 50412; // [!code ++]

	public const int miasma_Chaos = 50710; // [!code --]
	public const int arrow_Ether = 50512; // [!code ++]

	public const int miasma_Magic = 50711; // [!code --]
	public const int funnel_Ether = 50612; // [!code ++]

	public const int miasma_Ether = 50712;

	public const int miasma_Acid = 50713; // [!code --]
 // [!code --]
	public const int miasma_Cut = 50714; // [!code --]
	public const int weapon_Ether = 50812; // [!code ++]

	public const int miasma_Impact = 50715; // [!code --]
	public const int puddle_Ether = 50912; // [!code ++]

	public const int miasma_Void = 50716; // [!code --]
	public const int ball_Acid = 50113; // [!code ++]

	public const int miasma_Darkness = 50703; // [!code --]
	public const int weapon_Holy = 50809; // [!code ++]

	public const int bolt_Holy = 50309; // [!code --]
	public const int ball_Mind = 50104; // [!code ++]

	public const int ball_Lightning = 50102; // [!code --]
	public const int bolt_Fire = 50300; // [!code ++]

	public const int bolt_Sound = 50307; // [!code --]
	public const int weapon_Darkness = 50803; // [!code ++]

	public const int SpMutation = 8380;

```

[`@@ -266,11 +254,15 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SPELL.cs#L266-L276)
```cs:line-numbers=266

	public const int SpSpeedUp = 8510;

	public const int SpSilence = 8700; // [!code ++]
 // [!code ++]
	public const int SpWeakness = 8702; // [!code ++]
 // [!code ++]
	public const int SpLevitate = 8300;

	public const int SpReconstruction = 8288; // [!code --]
	public const int SpWeakResEle = 8704; // [!code ++]

	public const int SpChangeMaterialG = 8286; // [!code --]
	public const int SpReconstruction = 8288; // [!code ++]

	public const int SpChangeMaterial = 8285;

```

[`@@ -294,12 +286,14 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SPELL.cs#L294-L305)
```cs:line-numbers=294

	public const int SpTeleportShort = 8201;

	public const int SpReturn = 8220; // [!code --]
	public const int SpGate = 8202; // [!code ++]

	public const int SpSilence = 8700; // [!code --]
	public const int SpReturn = 8220; // [!code ++]

	public const int SpEvac = 8221;

	public const int SpIdentify = 8230; // [!code ++]
 // [!code ++]
	public const int SpIdentifyG = 8232;

	public const int SpUncurse = 8240;
```

[`@@ -322,71 +316,71 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SPELL.cs#L322-L392)
```cs:line-numbers=322

	public const int SpChangeMaterialLesser = 8284;

	public const int SpIdentify = 8230; // [!code --]
	public const int SpChangeMaterialG = 8286; // [!code ++]

	public const int bolt_Nerve = 50308; // [!code --]
	public const int SpBane = 8706; // [!code ++]

	public const int SpWeakness = 8702; // [!code --]
	public const int SpGravity = 8708; // [!code ++]

	public const int SpBane = 8706; // [!code --]
	public const int SpSpeedDown = 8710; // [!code ++]

	public const int ball_Cold = 50101; // [!code --]
	public const int miasma_Fire = 50700; // [!code ++]

	public const int ball_Darkness = 50103; // [!code --]
	public const int weapon_Fire = 50800; // [!code ++]

	public const int ball_Mind = 50104; // [!code --]
	public const int puddle_Fire = 50900; // [!code ++]

	public const int ball_Poison = 50105; // [!code --]
	public const int ball_Cold = 50101; // [!code ++]

	public const int ball_Nether = 50106; // [!code --]
	public const int bolt_Cold = 50301; // [!code ++]

	public const int ball_Sound = 50107; // [!code --]
	public const int hand_Cold = 50401; // [!code ++]

	public const int ball_Nerve = 50108; // [!code --]
	public const int arrow_Cold = 50501; // [!code ++]

	public const int ball_Holy = 50109; // [!code --]
	public const int funnel_Cold = 50601; // [!code ++]

	public const int ball_Chaos = 50110; // [!code --]
	public const int miasma_Cold = 50701; // [!code ++]

	public const int ball_Magic = 50111; // [!code --]
	public const int weapon_Cold = 50801; // [!code ++]

	public const int ball_Ether = 50112; // [!code --]
	public const int puddle_Cold = 50901; // [!code ++]

	public const int ball_Acid = 50113; // [!code --]
	public const int ball_Lightning = 50102; // [!code ++]

	public const int ball_Cut = 50114; // [!code --]
	public const int bolt_Lightning = 50302; // [!code ++]

	public const int ball_Impact = 50115; // [!code --]
	public const int hand_Lightning = 50402; // [!code ++]

	public const int ball_Void = 50116; // [!code --]
	public const int arrow_Lightning = 50502; // [!code ++]

	public const int puddle_Impact = 50915; // [!code --]
	public const int funnel_Lightning = 50602; // [!code ++]

	public const int bolt_Fire = 50300; // [!code --]
	public const int miasma_Lightning = 50702; // [!code ++]

	public const int bolt_Cold = 50301; // [!code --]
	public const int weapon_Lightning = 50802; // [!code ++]

	public const int bolt_Lightning = 50302; // [!code --]
	public const int puddle_Lightning = 50902; // [!code ++]

	public const int bolt_Darkness = 50303; // [!code --]
	public const int ball_Darkness = 50103; // [!code ++]

	public const int bolt_Mind = 50304; // [!code --]
	public const int bolt_Darkness = 50303; // [!code ++]

	public const int bolt_Poison = 50305; // [!code --]
	public const int hand_Darkness = 50403; // [!code ++]

	public const int bolt_Nether = 50306; // [!code --]
	public const int arrow_Darkness = 50503; // [!code ++]

	public const int ball_Fire = 50100; // [!code --]
	public const int funnel_Darkness = 50603; // [!code ++]

	public const int SpDrawBacker = 9503; // [!code --]
	public const int miasma_Darkness = 50703; // [!code ++]

	public const int SpDrawMetal = 9502; // [!code --]
	public const int funnel_Fire = 50600; // [!code ++]

	public const int SpDrawMonster = 9501; // [!code --]
	public const int arrow_Fire = 50500; // [!code ++]

	public const int SpGravity = 8708; // [!code --]
	public const int hand_Fire = 50400; // [!code ++]

	public const int SpSpeedDown = 8710; // [!code --]
	public const int weapon_Void = 50816; // [!code ++]

	public const int SpTelepathy = 8770;

```

[`@@ -406,15 +400,15 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SPELL.cs#L406-L420)
```cs:line-numbers=406

	public const int SpSummon = 9000;

	public const int SpWeakResEle = 8704; // [!code --]
 // [!code --]
	public const int SpSummonUndeadSister = 9001;

	public const int SpSummonFire = 9002; // [!code ++]
 // [!code ++]
	public const int SpSummonTentacle = 9003;

	public const int SpSummonMonster = 9004; // [!code --]
	public const int puddle_Darkness = 50903; // [!code ++]

	public const int SpSummonPawn = 9005; // [!code --]
	public const int SpSummonMonster = 9004; // [!code ++]

	public const int SpSummonYeek = 9006;

```

[`@@ -432,34 +426,42 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/SPELL.cs#L432-L465)
```cs:line-numbers=432

	public const int SpWardMonster = 9500;

	public const int SpSummonFire = 9002; // [!code --]
	public const int SpDrawMonster = 9501; // [!code ++]
 // [!code ++]
	public const int SpDrawMetal = 9502; // [!code ++]
 // [!code ++]
	public const int SpDrawBacker = 9503; // [!code ++]
 // [!code ++]
	public const int ball_Fire = 50100; // [!code ++]
 // [!code ++]
	public const int SpSummonPawn = 9005; // [!code ++]

	public const int puddle_Void = 50916;

	public static readonly int[] IDS = new int[218] // [!code --]
	public static readonly int[] IDS = new int[219] // [!code ++]
	{
		50416, 50500, 50501, 50502, 50503, 50504, 50505, 50506, 50507, 50510, // [!code --]
		50509, 50511, 50512, 50513, 50514, 50515, 50516, 50600, 50601, 50508, // [!code --]
		50602, 50414, 50413, 50400, 50316, 50315, 50314, 50313, 50312, 50311, // [!code --]
		50401, 50402, 50403, 50404, 50405, 50406, 50407, 50408, 50409, 50410, // [!code --]
		50411, 50412, 50415, 50603, 50802, 50605, 50804, 50805, 50806, 50807, // [!code --]
		50808, 50809, 50810, 50811, 50812, 50813, 50814, 50815, 50816, 50803, // [!code --]
		50900, 50902, 50903, 50904, 50905, 50906, 50907, 50908, 50909, 50910, // [!code --]
		50911, 50912, 50913, 50914, 50901, 50604, 50310, 50800, 50606, 50607, // [!code --]
		50608, 50609, 50610, 50611, 50612, 50613, 50614, 50615, 50616, 50700, // [!code --]
		50701, 50801, 50702, 50704, 50705, 50706, 50707, 50708, 50709, 50710, // [!code --]
		50711, 50712, 50713, 50714, 50715, 50716, 50703, 50309, 50102, 50307, // [!code --]
		8380, 8390, 8400, 8401, 8402, 8403, 8404, 8405, 8406, 8430, // [!code --]
		8450, 8470, 8471, 8480, 8490, 8491, 8500, 8501, 8502, 8503, // [!code --]
		8504, 8506, 8510, 8300, 8288, 8286, 8285, 7001, 7002, 7003, // [!code --]
		7004, 7005, 7006, 7007, 7800, 8200, 8201, 8220, 8700, 8221, // [!code --]
		8232, 8240, 8241, 8250, 8251, 8255, 8256, 8260, 8280, 8281, // [!code --]
		8284, 8230, 50308, 8702, 8706, 50101, 50103, 50104, 50105, 50106, // [!code --]
		50107, 50108, 50109, 50110, 50111, 50112, 50113, 50114, 50115, 50116, // [!code --]
		50915, 50300, 50301, 50302, 50303, 50304, 50305, 50306, 50100, 9503, // [!code --]
		9502, 9501, 8708, 8710, 8770, 8775, 8776, 8780, 8790, 8791, // [!code --]
		8800, 8801, 9000, 8704, 9001, 9003, 9004, 9005, 9006, 9007, // [!code --]
		9050, 9150, 9151, 9160, 9200, 9500, 9002, 50916 // [!code --]
		50608, 50407, 50507, 50607, 50707, 50509, 50309, 50109, 50907, 50108, // [!code ++]
		50308, 50408, 50908, 50808, 50708, 50508, 50807, 50409, 50605, 50107, // [!code ++]
		50609, 50304, 50404, 50504, 50604, 50704, 50804, 50904, 50105, 50305, // [!code ++]
		50405, 50505, 50705, 50805, 50905, 50106, 50306, 50406, 50506, 50606, // [!code ++]
		50706, 50806, 50906, 50307, 50709, 50813, 50909, 50713, 50913, 50114, // [!code ++]
		50314, 50414, 50514, 50614, 50714, 50814, 50914, 50115, 50613, 50315, // [!code ++]
		50515, 50615, 50715, 50815, 50915, 50116, 50316, 50416, 50516, 50616, // [!code ++]
		50716, 50415, 50513, 50413, 50313, 50110, 50310, 50410, 50510, 50610, // [!code ++]
		50710, 50810, 50910, 50111, 50311, 50411, 50511, 50611, 50711, 50811, // [!code ++]
		50911, 50112, 50312, 50412, 50512, 50612, 50712, 50812, 50912, 50113, // [!code ++]
		50809, 50104, 50300, 50803, 8380, 8390, 8400, 8401, 8402, 8403, // [!code ++]
		8404, 8405, 8406, 8430, 8450, 8470, 8471, 8480, 8490, 8491, // [!code ++]
		8500, 8501, 8502, 8503, 8504, 8506, 8510, 8700, 8702, 8300, // [!code ++]
		8704, 8288, 8285, 7001, 7002, 7003, 7004, 7005, 7006, 7007, // [!code ++]
		7800, 8200, 8201, 8202, 8220, 8221, 8230, 8232, 8240, 8241, // [!code ++]
		8250, 8251, 8255, 8256, 8260, 8280, 8281, 8284, 8286, 8706, // [!code ++]
		8708, 8710, 50700, 50800, 50900, 50101, 50301, 50401, 50501, 50601, // [!code ++]
		50701, 50801, 50901, 50102, 50302, 50402, 50502, 50602, 50702, 50802, // [!code ++]
		50902, 50103, 50303, 50403, 50503, 50603, 50703, 50600, 50500, 50400, // [!code ++]
		50816, 8770, 8775, 8776, 8780, 8790, 8791, 8800, 8801, 9000, // [!code ++]
		9001, 9002, 9003, 50903, 9004, 9006, 9007, 9050, 9150, 9151, // [!code ++]
		9160, 9200, 9500, 9501, 9502, 9503, 50100, 9005, 50916 // [!code ++]
	};
}
public class Spell : Ability
```

## Thing

[`@@ -1895,6 +1895,7 @@ public void TryLickEnchant(Chara c, bool msg = true, Chara tg = null, BodySlot s`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/Thing.cs#L1895-L1900)
```cs:line-numbers=1895
	{
		return;
	}
	SetInt(107, 1); // [!code ++]
	if (tg == null)
	{
		Rand.SetSeed(EClass.world.date.day + source._index + c.uid);
```

[`@@ -1904,7 +1905,11 @@ public void TryLickEnchant(Chara c, bool msg = true, Chara tg = null, BodySlot s`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/Thing.cs#L1904-L1910)
```cs:line-numbers=1904
			PlaySound("offering");
			PlayEffect("mutation");
		}
		AddEnchant(base.LV); // [!code --]
		Element element = AddEnchant(5 + Mathf.Max(EClass.pc.LUC, 0)); // [!code ++]
		if (element != null) // [!code ++]
		{ // [!code ++]
			SetInt(107, element.id); // [!code ++]
		} // [!code ++]
	}
	else
	{
```

[`@@ -1919,8 +1924,9 @@ public void TryLickEnchant(Chara c, bool msg = true, Chara tg = null, BodySlot s`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/Thing.cs#L1919-L1926)
```cs:line-numbers=1919
		}
		if (list.Count > 0)
		{
			Element element = list.RandomItem(); // [!code --]
			elements.ModBase(element.id, Mathf.Max(EClass.rnd(Mathf.Abs(element.vBase / 5)), 1)); // [!code --]
			Element element2 = list.RandomItem(); // [!code ++]
			elements.ModBase(element2.id, Mathf.Max(EClass.rnd(Mathf.Abs(element2.vBase / 5)), 1)); // [!code ++]
			SetInt(107, element2.id); // [!code ++]
		}
		if (msg)
		{
```

[`@@ -1930,7 +1936,6 @@ public void TryLickEnchant(Chara c, bool msg = true, Chara tg = null, BodySlot s`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/Thing.cs#L1930-L1936)
```cs:line-numbers=1930
			}
		}
		Rand.SetSeed();
		SetInt(107, 1); // [!code --]
	}

	public Element AddEnchant(int lv = -1)
```

## TraitMoongateEx

[`@@ -40,7 +40,24 @@ public void _OnUse()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/TraitMoongateEx.cs#L40-L46)
```cs:line-numbers=40
		EClass.pc.SayNothingHappans();
		return;
	}
	list.Sort((MapMetaData a, MapMetaData b) => DateTime.Compare(a.date, b.date)); // [!code --]
	foreach (MapMetaData item2 in list) // [!code ++]
	{ // [!code ++]
		bool flag = false; // [!code ++]
		foreach (string item3 in EClass.player.favMoongate) // [!code ++]
		{ // [!code ++]
			_ = item3; // [!code ++]
			if (EClass.player.favMoongate.Contains(item2.id)) // [!code ++]
			{ // [!code ++]
				flag = true; // [!code ++]
				break; // [!code ++]
			} // [!code ++]
		} // [!code ++]
		if (!flag) // [!code ++]
		{ // [!code ++]
			EClass.player.favMoongate.Remove(item2.id); // [!code ++]
		} // [!code ++]
	} // [!code ++]
	Sort(); // [!code ++]
	LayerList layer = null;
	bool skipDialog = false;
	layer = EClass.ui.AddLayer<LayerList>().SetList2(list, (MapMetaData a) => a.name, delegate(MapMetaData a, ItemGeneral b)
```

[`@@ -71,14 +88,38 @@ public void _OnUse()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/TraitMoongateEx.cs#L71-L84)
```cs:line-numbers=71
					});
				}
			});
			UIButton uIButton = b.AddSubButton(EClass.core.refs.icons.fav, delegate // [!code ++]
			{ // [!code ++]
				SE.ClickGeneral(); // [!code ++]
				EClass.player.ToggleFavMoongate(a.id); // [!code ++]
				Sort(); // [!code ++]
				EClass.ui.FreezeScreen(0.1f); // [!code ++]
				layer.list.List(); // [!code ++]
			}); // [!code ++]
			uIButton.icon.SetAlpha(EClass.player.favMoongate.Contains(a.id) ? 1f : 0.3f); // [!code ++]
			uIButton.icon.SetNativeSize(); // [!code ++]
			void func()
			{
				IO.DeleteFile(a.path);
				list.Remove(a);
				EClass.ui.FreezeScreen(0.1f); // [!code ++]
				layer.list.List();
				SE.Trash();
			}
		}).SetSize(500f)
			.SetTitles("wMoongate") as LayerList;
		static DateTime GetDate(MapMetaData meta) // [!code ++]
		{ // [!code ++]
			int num = EClass.player.favMoongate.IndexOf(meta.id); // [!code ++]
			if (num == -1) // [!code ++]
			{ // [!code ++]
				return meta.date; // [!code ++]
			} // [!code ++]
			return meta.date + new TimeSpan(-3650 - num, 0, 0, 0, 0); // [!code ++]
		} // [!code ++]
		void Sort() // [!code ++]
		{ // [!code ++]
			list.Sort((MapMetaData a, MapMetaData b) => DateTime.Compare(GetDate(a), GetDate(b))); // [!code ++]
		} // [!code ++]
	}
}
```

## UI

[`@@ -550,7 +550,7 @@ public void Say(string text, Sprite sprite = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/UI.cs#L550-L556)
```cs:line-numbers=550
		Debug.Log(text);
	}

	public void FreezeScreen(float duration) // [!code --]
	public void FreezeScreen(float duration, bool highlight = true) // [!code ++]
	{
		if ((bool)texFreeze)
		{
```

[`@@ -559,14 +559,18 @@ public void FreezeScreen(float duration)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/da6f1b0e9e689da2daf70903177bc7c189ba591f/Elin/UI.cs#L559-L572)
```cs:line-numbers=559
		texFreeze = ScreenCapture.CaptureScreenshotAsTexture();
		imageFreeze.SetActive(enable: true);
		imageFreeze.texture = texFreeze;
		if (duration != 0f) // [!code --]
		if (duration == 0f) // [!code ++]
		{ // [!code ++]
			return; // [!code ++]
		} // [!code ++]
		TweenUtil.Tween(duration, null, delegate // [!code ++]
		{
			TweenUtil.Tween(duration, null, delegate // [!code --]
			UnfreezeScreen(); // [!code ++]
			if (highlight) // [!code ++]
			{
				UnfreezeScreen(); // [!code --]
				UIButton.TryHihlight();
			}); // [!code --]
		} // [!code --]
			} // [!code ++]
		}); // [!code ++]
	}

	public void UnfreezeScreen()
```
