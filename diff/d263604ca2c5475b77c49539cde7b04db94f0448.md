---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 38 files modified.
version: EA 23.177 Nightly Patch 2
changes: ABILITY/ActEffect/ActRanged/ActRide/BaseListPeople/CINT/Card/CardRenderer/Chara/CharaRenderer/CoreDebug/CoreRef/DNA/DOMAIN/ELEMENT/ENC/FACTION/FEAT/FOOD/GoalCombat/LayerInfo/MUTATION/POLICY/Player/PointTarget/QuestDeliver/SKILL/ShopType/SourceRace/TaskDump/Thing/ThingGen/Trait/TraitBook/TraitMoyer/TraitTent/TraitToolHammerStrip/ZoneEventDefenseGame
---

# EA 23.177 Nightly Patch 2

August 11, 2025

38 files modified.

## Important Changes

**None.**
## ABILITY

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ABILITY.cs#L2-L13)
```cs:line-numbers=2

public class ABILITY
{
	public const int ActInstall = 5046; // [!code --]
 // [!code --]
	public const int AI_Drink = 5045; // [!code --]
 // [!code --]
	public const int ActPick = 5047;

	public const int ActInstall = 5046; // [!code ++]
 // [!code ++]
	public const int ActItem = 5048;

	public const int AI_OpenLock = 5049;
```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ABILITY.cs#L32-L42)
```cs:line-numbers=32

	public const int ActQuickCraft = 6012;

	public const int ActChat = 5044; // [!code --]
 // [!code --]
	public const int AI_PassTime = 6013;

	public const int ActRide = 6018; // [!code --]
	public const int AI_Drink = 5045; // [!code ++]
 // [!code ++]
	public const int AI_SelfHarm = 6015; // [!code ++]

	public const int ActParasite = 6019;

```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ABILITY.cs#L64-L78)
```cs:line-numbers=64

	public const int ActWeaken = 6610;

	public const int AI_SelfHarm = 6015; // [!code --]
 // [!code --]
	public const int ActFear = 6611;

	public const int AI_TendAnimal = 5043; // [!code --]
	public const int ActRide = 6018; // [!code ++]

	public const int AI_Read = 5041; // [!code --]
	public const int ActTouchSleep = 6612; // [!code ++]

	public const int TaskCut = 5011; // [!code --]
	public const int ActChat = 5044; // [!code ++]
 // [!code ++]
	public const int ActKick = 5042; // [!code ++]

	public const int AI_Goto = 5012;

```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ABILITY.cs#L100-L110)
```cs:line-numbers=100

	public const int AI_Eat = 5024;

	public const int ActKick = 5042; // [!code --]
 // [!code --]
	public const int AI_Grab = 5025;

	public const int GoalSleep = 5027; // [!code --]
	public const int AI_TendAnimal = 5043; // [!code ++]
 // [!code ++]
	public const int AI_Haul = 5026; // [!code ++]

	public const int ActReleaseHeld = 5028;

```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ABILITY.cs#L132-L146)
```cs:line-numbers=132

	public const int ActRanged = 5040;

	public const int AI_Haul = 5026; // [!code --]
	public const int AI_Read = 5041; // [!code ++]

	public const int ActTouchSleep = 6612; // [!code --]
	public const int GoalSleep = 5027; // [!code ++]

	public const int ActCurse = 6600; // [!code --]
	public const int ActTouchDrown = 6613; // [!code ++]

	public const int ActGazeDim = 6620; // [!code --]
	public const int ActCurse = 6600; // [!code ++]

	public const int breathe_Lightning = 50202; // [!code --]
	public const int ActGazeInsane = 6621; // [!code ++]

	public const int breathe_Darkness = 50203;

```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ABILITY.cs#L158-L174)
```cs:line-numbers=158

	public const int breathe_Chaos = 50210;

	public const int ActTouchDrown = 6613; // [!code --]
	public const int breathe_Magic = 50211; // [!code ++]

	public const int breathe_Ether = 50212; // [!code --]
	public const int ActGazeDim = 6620; // [!code ++]

	public const int breathe_Acid = 50213;

	public const int breathe_Cold = 50201; // [!code --]
 // [!code --]
	public const int breathe_Cut = 50214;

	public const int breathe_Void = 50216; // [!code --]
	public const int breathe_Lightning = 50202; // [!code ++]
 // [!code ++]
	public const int breathe_Impact = 50215; // [!code ++]

	public const int ActWait = 5000;

```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ABILITY.cs#L192-L270)
```cs:line-numbers=192

	public const int TaskDig = 5010;

	public const int breathe_Impact = 50215; // [!code --]
	public const int TaskCut = 5011; // [!code ++]

	public const int breathe_Fire = 50200; // [!code --]
	public const int breathe_Void = 50216; // [!code ++]

	public const int breathe_Magic = 50211; // [!code --]
	public const int breathe_Cold = 50201; // [!code ++]

	public const int ActHeadpat = 6904; // [!code --]
	public const int breathe_Ether = 50212; // [!code ++]

	public const int ActScream = 6631; // [!code --]
	public const int breathe_ = 7000; // [!code ++]

	public const int ActInsult = 6630; // [!code --]
	public const int ActGazeMutation = 6622; // [!code ++]

	public const int ActCatHuffing = 6627; // [!code --]
	public const int ActGazeMana = 6623; // [!code ++]

	public const int ActDrainBlood = 6626;

	public const int ActStealFood = 6641; // [!code --]
	public const int ActCatHuffing = 6627; // [!code ++]

	public const int ActGazeInsane = 6621; // [!code --]
	public const int ActInsult = 6630; // [!code ++]

	public const int ActGazeMana = 6623; // [!code --]
	public const int ActScream = 6631; // [!code ++]

	public const int ActStealMoney = 6642; // [!code --]
	public const int ActSteal = 6640; // [!code ++]

	public const int ActNeckHunt = 6650; // [!code --]
	public const int ActStealFood = 6641; // [!code ++]

	public const int ActDropMine = 6660; // [!code --]
	public const int breathe_Fire = 50200; // [!code ++]

	public const int breathe_ = 7000; // [!code --]
	public const int ActStealMoney = 6642; // [!code ++]
 // [!code ++]
	public const int ActDropMine = 6660; // [!code ++]

	public const int ActThrowPotion = 6661;

	public const int ActMultiHit = 6663; // [!code --]
	public const int ActSwarm = 6662; // [!code ++]
 // [!code ++]
	public const int ActNeckHunt = 6650; // [!code ++]

	public const int ActBladeStorm = 6664;

	public const int StTaunt = 6700; // [!code --]
	public const int ActHeadpat = 6904; // [!code ++]

	public const int StManaCost = 6720; // [!code --]
	public const int ActKizuamiTrick = 6903; // [!code ++]

	public const int SongSleep = 6750; // [!code --]
	public const int ActLulwyTrick = 6902; // [!code ++]

	public const int SongTulip = 6751; // [!code --]
	public const int ActJureHeal = 6901; // [!code ++]

	public const int ActManaAbsorb = 6900;

	public const int ActJureHeal = 6901; // [!code --]
	public const int SongTulip = 6751; // [!code ++]

	public const int ActLulwyTrick = 6902; // [!code --]
	public const int SongSleep = 6750; // [!code ++]

	public const int ActGazeMutation = 6622; // [!code --]
	public const int ActMultiHit = 6663; // [!code ++]

	public const int ActKizuamiTrick = 6903; // [!code --]
	public const int StManaCost = 6720; // [!code ++]

	public const int ActSwarm = 6662; // [!code --]
	public const int StTaunt = 6700; // [!code ++]

	public const int ActSteal = 6640; // [!code --]
	public const int ActSummonSpecial = 6800; // [!code ++]

	public static readonly int[] IDS = new int[124] // [!code --]
	public static readonly int[] IDS = new int[125] // [!code ++]
	{
		5046, 5045, 5047, 5048, 5049, 5050, 5051, 5052, 5053, 5054, // [!code --]
		5055, 6001, 6003, 6011, 6012, 5044, 6013, 6018, 6019, 6020, // [!code --]
		6050, 6400, 6410, 6420, 6450, 6500, 6601, 6602, 6603, 6604, // [!code --]
		6610, 6015, 6611, 5043, 5041, 5011, 5012, 5013, 5014, 5015, // [!code --]
		5016, 5017, 5018, 5019, 5020, 5021, 5022, 5023, 5024, 5042, // [!code --]
		5025, 5027, 5028, 5029, 5030, 5031, 5032, 5033, 5034, 5035, // [!code --]
		5036, 5037, 5038, 5039, 5040, 5026, 6612, 6600, 6620, 50202, // [!code --]
		50203, 50204, 50205, 50206, 50207, 50208, 50209, 50210, 6613, 50212, // [!code --]
		50213, 50201, 50214, 50216, 5000, 5001, 5002, 5003, 5004, 5005, // [!code --]
		5006, 5007, 5008, 5009, 5010, 50215, 50200, 50211, 6904, 6631, // [!code --]
		6630, 6627, 6626, 6641, 6621, 6623, 6642, 6650, 6660, 7000, // [!code --]
		6661, 6663, 6664, 6700, 6720, 6750, 6751, 6900, 6901, 6902, // [!code --]
		6622, 6903, 6662, 6640 // [!code --]
		5047, 5046, 5048, 5049, 5050, 5051, 5052, 5053, 5054, 5055, // [!code ++]
		6001, 6003, 6011, 6012, 6013, 5045, 6015, 6019, 6020, 6050, // [!code ++]
		6400, 6410, 6420, 6450, 6500, 6601, 6602, 6603, 6604, 6610, // [!code ++]
		6611, 6018, 6612, 5044, 5042, 5012, 5013, 5014, 5015, 5016, // [!code ++]
		5017, 5018, 5019, 5020, 5021, 5022, 5023, 5024, 5025, 5043, // [!code ++]
		5026, 5028, 5029, 5030, 5031, 5032, 5033, 5034, 5035, 5036, // [!code ++]
		5037, 5038, 5039, 5040, 5041, 5027, 6613, 6600, 6621, 50203, // [!code ++]
		50204, 50205, 50206, 50207, 50208, 50209, 50210, 50211, 6620, 50213, // [!code ++]
		50214, 50202, 50215, 5000, 5001, 5002, 5003, 5004, 5005, 5006, // [!code ++]
		5007, 5008, 5009, 5010, 5011, 50216, 50201, 50212, 7000, 6622, // [!code ++]
		6623, 6626, 6627, 6630, 6631, 6640, 6641, 50200, 6642, 6660, // [!code ++]
		6661, 6662, 6650, 6664, 6904, 6903, 6902, 6901, 6900, 6751, // [!code ++]
		6750, 6663, 6720, 6700, 6800 // [!code ++]
	};
}
public class Ability : Act
```

## ActEffect

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L423-L432)
```cs:line-numbers=423
	{
	case EffectId.Earthquake:
	{
		List<Point> list7 = EClass._map.ListPointsInCircle(CC.pos, 12f, mustBeWalkable: false); // [!code --]
		if (list7.Count == 0) // [!code --]
		List<Point> list5 = EClass._map.ListPointsInCircle(CC.pos, 12f, mustBeWalkable: false); // [!code ++]
		if (list5.Count == 0) // [!code ++]
		{
			list7.Add(CC.pos.Copy()); // [!code --]
			list5.Add(CC.pos.Copy()); // [!code ++]
		}
		CC.Say("spell_earthquake", CC, element.Name.ToLower());
		TryDelay(delegate
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L438-L444)
```cs:line-numbers=438
			Shaker.ShakeCam("ball");
		}
		EClass.Wait(1f, CC);
		DamageEle(CC, id, power, element, list7, actRef, "spell_earthquake"); // [!code --]
		DamageEle(CC, id, power, element, list5, actRef, "spell_earthquake"); // [!code ++]
		break;
	}
	case EffectId.Meteor:
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L446-L455)
```cs:line-numbers=446
		EffectMeteor.Create(cc.pos, 6, 10, delegate
		{
		});
		List<Point> list4 = EClass._map.ListPointsInCircle(CC.pos, 10f); // [!code --]
		if (list4.Count == 0) // [!code --]
		List<Point> list = EClass._map.ListPointsInCircle(CC.pos, 10f); // [!code ++]
		if (list.Count == 0) // [!code ++]
		{
			list4.Add(CC.pos.Copy()); // [!code --]
			list.Add(CC.pos.Copy()); // [!code ++]
		}
		CC.Say("spell_ball", CC, element.Name.ToLower());
		TryDelay(delegate
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L461-L467)
```cs:line-numbers=461
			Shaker.ShakeCam("ball");
		}
		EClass.Wait(1f, CC);
		DamageEle(CC, id, power, element, list4, actRef, "spell_ball"); // [!code --]
		DamageEle(CC, id, power, element, list, actRef, "spell_ball"); // [!code ++]
		return;
	}
	case EffectId.Hand:
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L469-L483)
```cs:line-numbers=469
	case EffectId.DrainMana:
	case EffectId.Sword:
	{
		List<Point> list = new List<Point>(); // [!code --]
		list.Add(tp.Copy()); // [!code --]
		List<Point> list7 = new List<Point>(); // [!code ++]
		list7.Add(tp.Copy()); // [!code ++]
		EClass.Wait(0.3f, CC);
		TryDelay(delegate
		{
			CC.PlaySound("spell_hand");
		});
		Chara cC = CC;
		EffectId id3 = id; // [!code --]
		EffectId id4 = id; // [!code ++]
		Element e = element;
		ActRef actref = actRef;
		object lang;
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L494-L500)
```cs:line-numbers=494
			lang = "";
			break;
		}
		if (!DamageEle(cC, id3, power, e, list, actref, (string)lang)) // [!code --]
		if (!DamageEle(cC, id4, power, e, list7, actref, (string)lang)) // [!code ++]
		{
			CC.Say("spell_hand_miss", CC, element.Name.ToLower());
		}
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L502-L531)
```cs:line-numbers=502
	}
	case EffectId.Arrow:
	{
		List<Point> list5 = new List<Point>(); // [!code --]
		list5.Add(tp.Copy()); // [!code --]
		List<Point> list4 = new List<Point>(); // [!code ++]
		list4.Add(tp.Copy()); // [!code ++]
		CC.Say("spell_arrow", CC, element.Name.ToLower());
		EClass.Wait(0.5f, CC);
		TryDelay(delegate
		{
			CC.PlaySound("spell_arrow");
		});
		DamageEle(CC, id, power, element, list5, actRef, "spell_arrow"); // [!code --]
		DamageEle(CC, id, power, element, list4, actRef, "spell_arrow"); // [!code ++]
		return;
	}
	case EffectId.Summon:
	{
		if (actRef.n1 == "special") // [!code ++]
		{ // [!code ++]
			SE.Play("warhorn"); // [!code ++]
			Msg.Say("warhorn"); // [!code ++]
		} // [!code ++]
		CC.Say("summon_ally", CC);
		if (EClass._zone.CountMinions(CC) >= CC.MaxSummon || CC.c_uidMaster != 0)
		{
			CC.Say("summon_ally_fail", CC);
			return;
		}
		string id4 = actRef.n1; // [!code --]
		string id3 = actRef.n1; // [!code ++]
		int num3 = 1;
		int num4 = -1;
		int radius = 3;
		bool flag3 = false;
		bool flag4 = actRef.n1 == "special"; // [!code ++]
		int num5 = -1;
		switch (actRef.n1)
		{
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L539-L545)
```cs:line-numbers=539
			num3 = 1 + EClass.rnd(2);
			break;
		case "special_force":
			id4 = "army_palmia"; // [!code --]
			id3 = "army_palmia"; // [!code ++]
			num3 = 4 + EClass.rnd(2);
			num5 = EClass._zone.DangerLv;
			break;
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L547-L552)
```cs:line-numbers=547
			num4 = 20 + EClass.rnd(10);
			radius = 1;
			break;
		case "special": // [!code ++]
			CC.SetInt(70, EClass.world.date.GetRaw() + 1440); // [!code ++]
			num3 = Mathf.Clamp(7 + CC.LV / 100, 4, 20); // [!code ++]
			num5 = CC.LV; // [!code ++]
			break; // [!code ++]
		}
		num3 += CC.Evalue(1240);
		for (int j = 0; j < num3; j++)
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L570-L575)
```cs:line-numbers=570
			}
			chara = actRef.n1 switch
			{
				"special" => (j != 0 || CC.HasMinion("imolonac") || CC.HasMinion("ygolonac")) ? CharaGen.Create("hound", 50) : CharaGen.Create((EClass.rnd(20) == 0) ? "imolonac" : "ygolonac"),  // [!code ++]
				"yeek" => CharaGen.CreateFromFilter(SpawnListChara.Get("summon_yeek", (SourceChara.Row r) => r.race == "yeek"), power / 10), 
				"orc" => CharaGen.CreateFromFilter(SpawnListChara.Get("summon_orc", (SourceChara.Row r) => r.race == "orc"), power / 10), 
				"pawn" => CharaGen.CreateFromFilter("c_pawn", power / 10), 
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L578-L590)
```cs:line-numbers=578
				"fire" => CharaGen.CreateFromElement("Fire", power / 10), 
				"fish" => CharaGen.CreateFromFilter(SpawnListChara.Get("summon_fish", (SourceChara.Row r) => r.ContainsTag("water") || r.model.Chara.race.tag.Contains("water")), power / 10), 
				"octopus" => CharaGen.CreateFromFilter(SpawnListChara.Get("summon_octopus", (SourceChara.Row r) => r.race == "octopus"), power / 10), 
				_ => CharaGen.Create(id4, power / 10),  // [!code --]
				_ => CharaGen.Create(id3, power / 10),  // [!code ++]
			};
			if (chara == null)
			{
				continue;
			}
			if (chara.rarity >= Rarity.Legendary) // [!code --]
			if (chara.rarity >= Rarity.Legendary && !flag4) // [!code ++]
			{
				j--;
				continue;
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L715-L722)
```cs:line-numbers=715
				radius2 = 1.5f;
			}
		}
		bool flag4 = id == EffectId.Explosive || id == EffectId.Suicide; // [!code --]
		List<Point> list6 = EClass._map.ListPointsInCircle(cc.pos, radius2, !flag4, !flag4); // [!code --]
		bool flag5 = id == EffectId.Explosive || id == EffectId.Suicide; // [!code ++]
		List<Point> list6 = EClass._map.ListPointsInCircle(cc.pos, radius2, !flag5, !flag5); // [!code ++]
		if (list6.Count == 0)
		{
			list6.Add(cc.pos.Copy());
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L815-L821)
```cs:line-numbers=815
		list8.Remove(CC);
		list8.Insert(0, CC);
	}
	bool flag5 = true; // [!code --]
	bool flag6 = true; // [!code ++]
	foreach (Card item2 in list8)
	{
		if (tc == null || item2 == tc)
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActEffect.cs#L829-L838)
```cs:line-numbers=829
			{
				return;
			}
			flag5 = false; // [!code --]
			flag6 = false; // [!code ++]
		}
	}
	if (flag5) // [!code --]
	if (flag6) // [!code ++]
	{
		CC.SayNothingHappans();
	}
```

## ActRanged

[`public override bool Perform()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActRanged.cs#L108-L114)
```cs:line-numbers=108
	int chaser = GetWeaponEnc(620);
	if (num > 0)
	{
		numFire += num / 10 + ((num % 10 > EClass.rnd(10)) ? 1 : 0); // [!code --]
		numFire += Mathf.Min(num / 10 + ((num % 10 > EClass.rnd(10)) ? 1 : 0), 10); // [!code ++]
		numFireWithoutDamageLoss += num / 100 + ((num % 100 > EClass.rnd(100)) ? 1 : 0); // [!code ++]
	}
	numFire += Act.CC.Evalue(1652);
	int num2 = numFire;
```

## ActRide

[`public static void Ride(Chara host, Chara t, bool parasite = false, bool talk =`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActRide.cs#L96-L101)
```cs:line-numbers=96
		host.SyncRide();
		t.noMove = false;
		host.Refresh();
		WidgetRoster.SetDirty(); // [!code ++]
	}

	public static void Unride(Chara host, Chara mount, bool talk = true)
```

[`public static void Unride(Chara host, bool parasite = false, bool talk = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ActRide.cs#L136-L140)
```cs:line-numbers=136
		{
			chara.MoveImmediate(randomPoint);
		}
		WidgetRoster.SetDirty(); // [!code ++]
	}
}
```

## BaseListPeople

[`void AddText(Hobby h, string lang, bool fix)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/BaseListPeople.cs#L199-L214)
```cs:line-numbers=199
		{
			for (int i = 0; i < h.source.things.Length; i += 2)
			{
				int num = Mathf.Max(1, h.source.things[i + 1].ToInt() * efficiency * a.homeBranch.GetProductBonus(a) / 100 / 1000); // [!code --]
				float num = Mathf.Max(1f, (long)h.source.things[i + 1].ToInt() * (long)efficiency * a.homeBranch.GetProductBonus(a) / 100 / 1000); // [!code ++]
				string text3 = h.source.things[i];
				string s = (text3.StartsWith("#") ? EClass.sources.categories.map[text3.Replace("#", "")].GetName() : EClass.sources.cards.map[h.source.things[i]].GetName());
				if (h.source.alias == "Breeding")
				{
					num = a.race.breeder * 100 / 2500;
					num = num * ((!(text3 == "_egg")) ? 1 : 2) / 3; // [!code --]
					if (a.race.breeder > 0 && num <= 0) // [!code --]
					num = num * (float)((!(text3 == "_egg")) ? 1 : 2) / 3f; // [!code ++]
					if (a.race.breeder > 0 && num <= 0f) // [!code ++]
					{
						num = 1; // [!code --]
						num = 1f; // [!code ++]
					}
				}
				t.note.AddText("NoteText_small", "・ " + "work_produce".lang(s.ToTitleCase(), num.ToString() ?? ""));
```

[`void AddText(Hobby h, string lang, bool fix)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/BaseListPeople.cs#L219-L225)
```cs:line-numbers=219
				{
					SourceElement.Row row = EClass.sources.elements.map[h.source.elements[j]];
					int num2 = h.source.elements[j + 1];
					int num3 = ((num2 < 0 || row.id == 2115 || row.id == 2207) ? (num2 / 10) : Mathf.Max(0, num2 * h.GetEfficiency(a) * a.homeBranch.efficiency / 100 / 1000)); // [!code --]
					float num3 = ((num2 < 0 || row.id == 2115 || row.id == 2207) ? ((float)(num2 / 10)) : Mathf.Max(0f, (long)num2 * (long)h.GetEfficiency(a) * a.homeBranch.efficiency / 100 / 1000)); // [!code ++]
					t.note.AddText("NoteText_small", "・ " + "workBonus_skill".lang(row.GetName().ToTitleCase(), ((num2 > 0) ? "+" : "") + num3) + ((row.id == 2115 || row.id == 2207) ? (" " + "fixedFactionSkill".lang()) : ""), (num2 >= 0) ? FontColor.Default : FontColor.Bad);
				}
			}
```

## CINT

[`public class CINT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/CINT.cs#L106-L111)
```cs:line-numbers=106

	public const int daysWithPC = 67;

	public const int dateSpecialSummon = 70; // [!code ++]
 // [!code ++]
	public const int fiamaPet = 100;

	public const int noRestock = 101;
```

## Card

[`public virtual int GetPrice(CurrencyType currency = CurrencyType.Money, bool sel`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Card.cs#L6935-L6941)
```cs:line-numbers=6935
			case "hammer_strip":
				return 5000;
			case "helm_chef":
				return 40000; // [!code --]
				return 25000; // [!code ++]
			}
			break;
		case CurrencyType.Plat:
```

## CardRenderer

[`public override void Draw(RenderParam p, ref Vector3 v, bool drawShadow)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/CardRenderer.cs#L262-L268)
```cs:line-numbers=262
		}
		p.y += pref.y;
		int shadow = pref.shadow;
		bool flag2 = isChara && owner.isHidden && !EClass.pc.canSeeInvisible && (!EClass.pc.hasTelepathy || !owner.Chara.race.visibleWithTelepathy); // [!code --]
		bool flag2 = isChara && owner.isHidden && !EClass.pc.canSeeInvisible && (!EClass.pc.hasTelepathy || !owner.Chara.visibleWithTelepathy); // [!code ++]
		if (drawShadow && shadow != 1 && SubPassData.Current.shadow && (!flag2 || owner.IsPC))
		{
			bool flag3 = ((!isChara) ? (owner.dir % 2 == 1) : (owner.dir == 1 || owner.dir == 2));
```

## Chara

[`public class Chara : Card, IPathfindWalker`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Chara.cs#L147-L152)
```cs:line-numbers=147

	public bool wasInWater;

	public bool visibleWithTelepathy; // [!code ++]
 // [!code ++]
	public SpriteReplacer spriteReplacer;

	private Faction _faction;
```

[`public bool CanSee(Card c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Chara.cs#L1207-L1213)
```cs:line-numbers=1207
	}
	if (c.isChara)
	{
		if (hasTelepathy && c.Chara.race.visibleWithTelepathy) // [!code --]
		if (hasTelepathy && c.Chara.visibleWithTelepathy) // [!code ++]
		{
			return true;
		}
```

[`public bool CanSee(Card c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Chara.cs#L1229-L1235)
```cs:line-numbers=1229

	public bool CanSeeLos(Card c, int dist = -1)
	{
		if (c.isHidden && !canSeeInvisible && (!hasTelepathy || !c.Chara.race.visibleWithTelepathy)) // [!code --]
		if (c.isHidden && !canSeeInvisible && (!hasTelepathy || !c.Chara.visibleWithTelepathy)) // [!code ++]
		{
			return false;
		}
```

[`public void HealAll()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Chara.cs#L1685-L1691)
```cs:line-numbers=1685

	public void Refresh(bool calledRecursive = false)
	{
		if (ride != null) // [!code --]
		if (source == null) // [!code ++]
		{ // [!code ++]
			Debug.LogError("source is null"); // [!code ++]
			SetSource(); // [!code ++]
		} // [!code ++]
		if (ride != null && ride.source != null) // [!code ++]
		{
			ride.Refresh(calledRecursive: true);
		}
```

[`public void Refresh(bool calledRecursive = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Chara.cs#L1702-L1709)
```cs:line-numbers=1702
	{
		base.isHidden = false;
	}
	visibleWithTelepathy = !IsUndead && !IsMachine && !IsHorror; // [!code ++]
	SetDirtySpeed();
	if (host != null && !calledRecursive) // [!code --]
	if (host != null && !calledRecursive && host.source != null) // [!code ++]
	{
		host.Refresh(calledRecursive: true);
	}
```

[`public void MakeMinion(Chara _master, MinionType type = MinionType.Default)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Chara.cs#L2263-L2268)
```cs:line-numbers=2263
		Refresh();
	}

	public bool HasMinion(string id) // [!code ++]
	{ // [!code ++]
		foreach (Chara chara in EClass._map.charas) // [!code ++]
		{ // [!code ++]
			if (chara.c_uidMaster == base.uid) // [!code ++]
			{ // [!code ++]
				return true; // [!code ++]
			} // [!code ++]
		} // [!code ++]
		return false; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public void ReleaseMinion()
	{
		base.c_uidMaster = 0;
```

[`public override void Die(Element e = null, Card origin = null, AttackSource atta`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Chara.cs#L5173-L5178)
```cs:line-numbers=5173
	enemy = null;
	_cooldowns = null;
	base.isSale = false;
	SetInt(70); // [!code ++]
	EClass._map.props.sales.Remove(this);
	Cure(CureType.Death);
	SetAI(new NoGoal());
```

## CharaRenderer

[`public void DrawHat()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/CharaRenderer.cs#L332-L343)
```cs:line-numbers=332
	}
	RenderObject.currentParam.liquidLv = 0;
	RenderObject.currentParam.x += 0.01f * (float)pref.equipX;
	RenderObject.currentParam.y += num + 0.01f * (float)pref.equipY; // [!code --]
	RenderObject.currentParam.y += num + 0.01f * (float)(pref.equipY + cardRow.pref.equipY); // [!code ++]
	RenderObject.currentParam.z -= pref.hatY;
	RenderObject.currentParam.tile = cardRow._tiles[owner.uid % cardRow._tiles.Length] * ((!flag) ? 1 : (-1));
	cardRow.renderData.Draw(RenderObject.currentParam);
	RenderObject.currentParam.x -= 0.01f * (float)pref.equipX;
	RenderObject.currentParam.y -= num + 0.01f * (float)pref.equipY; // [!code --]
	RenderObject.currentParam.y -= num + 0.01f * (float)(pref.equipY + cardRow.pref.equipY); // [!code ++]
	RenderObject.currentParam.z += pref.hatY;
	RenderObject.currentParam.liquidLv = liquidLv;
}
```

## CoreDebug

[`public void UpdateInput()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/CoreDebug.cs#L932-L937)
```cs:line-numbers=932
		EClass.pc.Pick(ThingGen.CreateSpellbook(8550));
		EClass.pc.Pick(ThingGen.CreatePotion(8550));
		EClass.pc.Pick(ThingGen.CreateSpellbook(9004));
		EClass.pc.Pick(ThingGen.CreateRedBook("advweek_1")); // [!code ++]
		Chara targetChara = EClass.scene.mouseTarget.TargetChara;
		if (targetChara != null)
		{
```

## CoreRef

[`public class PrefData`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/CoreRef.cs#L326-L331)
```cs:line-numbers=326
		public SourcePref pcc;

		public SourcePref replacer1;
 // [!code ++]
		public SourcePref blockFence; // [!code ++]
 // [!code ++]
		public SourcePref blockStairs; // [!code ++]
 // [!code ++]
		public SourcePref blockWall; // [!code ++]
	}

	public Biomes biomes;
```

## DNA

[`public void WriteNote(UINote n)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/DNA.cs#L601-L610)
```cs:line-numbers=601
		if (num3 >= 0)
		{
			text2 = text2 + "[" + "*".Repeat(Mathf.Clamp(num3, 1, 5)) + ((num3 > 5) ? "+" : "") + "]";
		} // [!code --]
		if (EClass.debug.showExtra) // [!code --]
		{ // [!code --]
			text2 = text2 + " " + element.Value; // [!code --]
			if (EClass.debug.showExtra) // [!code ++]
			{ // [!code ++]
				text2 = text2 + " (" + element.Value + ")"; // [!code ++]
			} // [!code ++]
		}
		n.AddText("gene_info".lang(element.Name.ToTitleCase(wholeText: true), text2), color2);
	}
```

## DOMAIN

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/DOMAIN.cs#L2-L43)
```cs:line-numbers=2

public class DOMAIN
{
	public const int domFaith = 802; // [!code --]
 // [!code --]
	public const int domMiracle = 803; // [!code --]
 // [!code --]
	public const int domMachine = 809; // [!code --]
 // [!code --]
	public const int domEyth = 814; // [!code --]
 // [!code --]
	public const int domOblivion = 813; // [!code --]
 // [!code --]
	public const int domEarth = 812;

	public const int domHealing = 811; // [!code --]
	public const int domOblivion = 813; // [!code ++]

	public const int domLuck = 810;

	public const int domMachine = 809; // [!code ++]
 // [!code ++]
	public const int domHarvest = 808;

	public const int domEyth = 814; // [!code ++]
 // [!code ++]
	public const int domFaith = 802; // [!code ++]
 // [!code ++]
	public const int domWind = 807;

	public const int domHarmony = 815; // [!code ++]
 // [!code ++]
	public const int domElement = 806;

	public const int domHarmony = 815; // [!code --]
	public const int domComm = 805; // [!code ++]
 // [!code ++]
	public const int domHealing = 811; // [!code ++]

	public const int domSurvival = 801;

	public const int domArcane = 804; // [!code --]
	public const int domMiracle = 803; // [!code ++]

	public const int domComm = 805; // [!code --]
	public const int domArcane = 804; // [!code ++]

	public const int domTest = 800;

	public static readonly int[] IDS = new int[16]
	{
		802, 803, 809, 814, 813, 812, 811, 810, 808, 807, // [!code --]
		806, 815, 801, 804, 805, 800 // [!code --]
		812, 813, 810, 809, 808, 814, 802, 807, 815, 806, // [!code ++]
		805, 811, 801, 803, 804, 800 // [!code ++]
	};
}
public class Domain : EClass
```

## ELEMENT

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ELEMENT.cs#L5-L13)
```cs:line-numbers=5

public class ELEMENT
{
	public const int roasted = 762; // [!code --]
	public const int air = 763; // [!code ++]

	public const int comfort = 750; // [!code --]
	public const int recharge = 761; // [!code ++]
 // [!code ++]
	public const int rare = 751; // [!code ++]

	public const int cute = 752;

```

[`public class ELEMENT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ELEMENT.cs#L23-L33)
```cs:line-numbers=23

	public const int stimulant = 760;

	public const int recharge = 761; // [!code --]
 // [!code --]
	public const int air = 763; // [!code --]
	public const int roasted = 762; // [!code ++]

	public const int rare = 751; // [!code --]
	public const int comfort = 750; // [!code ++]

	public const int _void = 0;

```

[`public class ELEMENT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ELEMENT.cs#L77-L84)
```cs:line-numbers=77

	public static readonly int[] IDS = new int[35]
	{
		762, 750, 752, 753, 754, 755, 756, 759, 760, 761, // [!code --]
		763, 751, 0, 3, 1, 2, 5, 10, 11, 12, // [!code --]
		763, 761, 751, 752, 753, 754, 755, 756, 759, 760, // [!code ++]
		762, 750, 0, 3, 1, 2, 5, 10, 11, 12, // [!code ++]
		13, 14, 16, 17, 18, 15, 21, 22, 23, 24,
		25, 26, 29, 85, 20
	};
```

## ENC

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ENC.cs#L8-L26)
```cs:line-numbers=8

	public const int r_DV = 650;

	public const int r_mana = 641; // [!code --]
 // [!code --]
	public const int mod_frustration = 624;

	public const int mod_flurry = 621; // [!code --]
 // [!code --]
	public const int mod_cleave = 622;

	public const int mod_feint = 623;

	public const int r_life = 640; // [!code ++]
 // [!code ++]
	public const int noDamage = 654;

	public const int r_life = 640; // [!code --]
	public const int r_mana = 641; // [!code ++]

	public const int onlyPet = 655;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ENC.cs#L42-L48)
```cs:line-numbers=42

	public const int convertFire = 850;

	public const int mod_chaser = 620; // [!code --]
	public const int mod_flurry = 621; // [!code ++]

	public const int convertImpact = 865;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ENC.cs#L50-L60)
```cs:line-numbers=50

	public const int permaCurse = 656;

	public const int mod_talisman = 609; // [!code --]
	public const int mod_chaser = 620; // [!code ++]

	public const int negateFear = 423; // [!code --]
	public const int negateSleep = 424; // [!code ++]

	public const int mod_scatter = 607; // [!code --]
	public const int mod_splash = 608; // [!code ++]

	public const int negateShockwave = 430;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ENC.cs#L68-L74)
```cs:line-numbers=68

	public const int negateConfusion = 425;

	public const int negateSleep = 424; // [!code --]
	public const int negateFear = 423; // [!code ++]

	public const int negateParalysis = 422;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ENC.cs#L96-L104)
```cs:line-numbers=96

	public const int corruption = 409;

	public const int mod_splash = 608; // [!code --]
	public const int resWeather = 408; // [!code ++]

	public const int travelSpeed = 407; // [!code --]
	public const int mod_talisman = 609; // [!code ++]

	public const int resMutation = 406;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ENC.cs#L118-L129)
```cs:line-numbers=118

	public const int sustain_END = 441;

	public const int resWeather = 408; // [!code --]
	public const int travelSpeed = 407; // [!code ++]

	public const int sustain_PER = 443;

	public const int force_weapon = 482; // [!code --]
 // [!code --]
	public const int optimizeMana = 483;

	public const int slot_rune = 484;
```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ENC.cs#L134-L146)
```cs:line-numbers=134

	public const int creativeChef = 487;

	public const int revealFaith = 481; // [!code --]
 // [!code --]
	public const int deathagony = 488;

	public const int mod_rapid = 602; // [!code --]
	public const int force_weapon = 482; // [!code ++]

	public const int mod_ammo_knockback = 603; // [!code --]
	public const int mod_ammo = 600; // [!code ++]
 // [!code ++]
	public const int mod_rapid = 602; // [!code ++]

	public const int mod_ammo_recover = 604;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ENC.cs#L148-L176)
```cs:line-numbers=148

	public const int mod_drill = 606;

	public const int sustain_DEX = 442; // [!code --]
 // [!code --]
	public const int mod_ammo = 600; // [!code --]
	public const int mod_scatter = 607; // [!code ++]

	public const int strongStomach = 480; // [!code --]
	public const int sustain_DEX = 442; // [!code ++]

	public const int mod_reload = 601;

	public const int bane_fish = 467; // [!code --]
	public const int revealFaith = 481; // [!code ++]
 // [!code ++]
	public const int mod_ammo_knockback = 603; // [!code ++]

	public const int bane_all = 468;

	public const int strongStomach = 480; // [!code ++]
 // [!code ++]
	public const int sustain_WIL = 445;

	public const int sustain_MAG = 446;

	public const int sustain_CHA = 447; // [!code --]
	public const int sustain_LER = 444; // [!code ++]
 // [!code ++]
	public const int bane_dragon = 460; // [!code ++]

	public const int bane_undead = 461;

	public const int bane_fairy = 462;

	public const int bane_dragon = 460; // [!code --]
	public const int sustain_CHA = 447; // [!code ++]

	public const int bane_animal = 463;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ENC.cs#L180-L198)
```cs:line-numbers=180

	public const int bane_god = 466;

	public const int sustain_LER = 444; // [!code --]
	public const int bane_fish = 467; // [!code ++]

	public static readonly int[] IDS = new int[91]
	{
		653, 652, 651, 650, 641, 624, 621, 622, 623, 654, // [!code --]
		640, 655, 851, 660, 661, 662, 663, 664, 665, 666, // [!code --]
		850, 620, 865, 852, 656, 609, 423, 607, 430, 429, // [!code --]
		428, 427, 426, 425, 424, 422, 421, 420, 419, 418, // [!code --]
		417, 416, 415, 414, 412, 411, 410, 409, 608, 407, // [!code --]
		406, 405, 404, 403, 402, 401, 400, 440, 441, 408, // [!code --]
		443, 482, 483, 484, 485, 486, 487, 481, 488, 602, // [!code --]
		603, 604, 605, 606, 442, 600, 480, 601, 467, 468, // [!code --]
		445, 446, 447, 461, 462, 460, 463, 464, 465, 466, // [!code --]
		444 // [!code --]
		653, 652, 651, 650, 624, 622, 623, 640, 654, 641, // [!code ++]
		655, 851, 660, 661, 662, 663, 664, 665, 666, 850, // [!code ++]
		621, 865, 852, 656, 620, 424, 608, 430, 429, 428, // [!code ++]
		427, 426, 425, 423, 422, 421, 420, 419, 418, 417, // [!code ++]
		416, 415, 414, 412, 411, 410, 409, 408, 609, 406, // [!code ++]
		405, 404, 403, 402, 401, 400, 440, 441, 407, 443, // [!code ++]
		483, 484, 485, 486, 487, 488, 482, 600, 602, 604, // [!code ++]
		605, 606, 607, 442, 601, 481, 603, 468, 480, 445, // [!code ++]
		446, 444, 460, 461, 462, 447, 463, 464, 465, 466, // [!code ++]
		467 // [!code ++]
	};
}
```

## FACTION

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FACTION.cs#L6-L17)
```cs:line-numbers=6
{
	public const int bfFertile = 3700;

	public const int bfUndersea = 3606; // [!code --]
 // [!code --]
	public const int bfCave = 3500; // [!code --]
 // [!code --]
	public const int bfRuin = 3702;

	public const int bfUndersea = 3606; // [!code ++]
 // [!code ++]
	public const int bfSea = 3605;

	public const int bfBeach = 3604;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FACTION.cs#L26-L31)
```cs:line-numbers=26

	public const int bfGeyser = 3701;

	public const int bfCave = 3500; // [!code ++]
 // [!code ++]
	public const int fPromo = 2202;

	public const int fAttraction = 2206;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FACTION.cs#L42-L67)
```cs:line-numbers=42

	public const int fTaxEvasion = 2119;

	public const int fEducation = 2116; // [!code --]
	public const int fLuck = 2118; // [!code ++]

	public const int bfTranquil = 3703;

	public const int fLoyal = 2117; // [!code --]
	public const int fEducation = 2116; // [!code ++]

	public const int fLuck = 2118; // [!code --]
	public const int fLoyal = 2117; // [!code ++]

	public const int fRation = 2207;

	public const int bfVolcano = 3704;

	public const int bfGum = 3803; // [!code --]
	public const int bfIce = 3804; // [!code ++]

	public const int bfFish = 3706;

	public const int actBuildInspect = 4006; // [!code --]
 // [!code --]
	public const int fAdmin = 2115;

	public const int actBuildInspect = 4006; // [!code ++]
 // [!code ++]
	public const int actBuildRecipe = 4005;

	public const int actBuildCollect = 4004;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FACTION.cs#L78-L84)
```cs:line-numbers=78

	public const int bfChitin = 3805;

	public const int bfIce = 3804; // [!code --]
	public const int bfGum = 3803; // [!code ++]

	public const int bfSilica = 3802;

```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FACTION.cs#L112-L121)
```cs:line-numbers=112

	public static readonly int[] IDS = new int[53]
	{
		3700, 3606, 3500, 3702, 3605, 3604, 3603, 3602, 3601, 3600, // [!code --]
		3701, 2202, 2206, 2205, 2204, 2203, 2201, 2200, 2119, 2116, // [!code --]
		3703, 2117, 2118, 2207, 3704, 3803, 3706, 4006, 2115, 4005, // [!code --]
		4004, 4003, 4002, 4001, 4000, 3900, 3805, 3804, 3802, 3801, // [!code --]
		3700, 3702, 3606, 3605, 3604, 3603, 3602, 3601, 3600, 3701, // [!code ++]
		3500, 2202, 2206, 2205, 2204, 2203, 2201, 2200, 2119, 2118, // [!code ++]
		3703, 2116, 2117, 2207, 3704, 3804, 3706, 2115, 4006, 4005, // [!code ++]
		4004, 4003, 4002, 4001, 4000, 3900, 3805, 3803, 3802, 3801, // [!code ++]
		3800, 3784, 3783, 3782, 3781, 3780, 3710, 3709, 3708, 3707,
		3705, 2003, 2120
	};
```

## FEAT

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FEAT.cs#L3-L9)
```cs:line-numbers=3

public class FEAT
{
	public const int featDwarf = 1215; // [!code --]
	public const int featSuccubus = 1216; // [!code ++]
 // [!code ++]
	public const int featBodyParts = 1644; // [!code ++]

	public const int featSorter = 1643;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FEAT.cs#L27-L37)
```cs:line-numbers=27

	public const int featHardy = 1630;

	public const int featSPD = 1629; // [!code --]
	public const int featParty = 1645; // [!code ++]

	public const int featBodyParts = 1644; // [!code --]
	public const int featSPD = 1629; // [!code ++]

	public const int featLuck = 1628; // [!code --]
	public const int featCHA = 1627; // [!code ++]

	public const int featWIL = 1626;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FEAT.cs#L55-L71)
```cs:line-numbers=55

	public const int featHealer = 1422;

	public const int featManaMeat = 1421; // [!code --]
 // [!code --]
	public const int featCHA = 1627; // [!code --]
	public const int featLuck = 1628; // [!code ++]

	public const int featExecutioner = 1420; // [!code --]
	public const int featManaMeat = 1421; // [!code ++]

	public const int featParty = 1645; // [!code --]
	public const int featLonelySoul = 1646; // [!code ++]

	public const int featSummoner = 1647; // [!code --]
	public const int featRapidMagic = 1648; // [!code ++]

	public const int featManaPrecision = 1214; // [!code --]
	public const int featDwarf = 1215; // [!code ++]

	public const int featSlowFood = 1200;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FEAT.cs#L89-L98)
```cs:line-numbers=89

	public const int featUndead = 1210;

	public const int featLonelySoul = 1646; // [!code --]
	public const int featSummoner = 1647; // [!code ++]

	public const int featSnail = 1211;

	public const int featManaPrecision = 1214; // [!code ++]
 // [!code ++]
	public const int featFisher = 1659;

	public const int featChef = 1658;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FEAT.cs#L115-L131)
```cs:line-numbers=115

	public const int featDefender = 1649;

	public const int featRapidMagic = 1648; // [!code --]
 // [!code --]
	public const int featFairyResist = 1212;

	public const int featMilitant = 1419; // [!code --]
	public const int featExecutioner = 1420; // [!code ++]

	public const int featElea = 1213;

	public const int featWitch = 1417; // [!code --]
 // [!code --]
	public const int featMassSummoner = 1240; // [!code --]
	public const int featSwordsage = 1418; // [!code ++]

	public const int featMeatCushion = 1241;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FEAT.cs#L141-L147)
```cs:line-numbers=141

	public const int featGod_healing1 = 1320;

	public const int featGod_luck1 = 1330; // [!code --]
	public const int featGod_harvest1 = 1325; // [!code ++]

	public const int featGod_harmony1 = 1335;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FEAT.cs#L167-L183)
```cs:line-numbers=167

	public const int featTourist = 1406;

	public const int featDemon = 1239; // [!code --]
 // [!code --]
	public const int featPaladin = 1407;

	public const int featElder = 1238; // [!code --]
	public const int featMassSummoner = 1240; // [!code ++]

	public const int featNorland = 1236; // [!code --]
	public const int featPaladin2 = 1408; // [!code ++]

	public const int featSwordsage = 1418; // [!code --]
	public const int featDemon = 1239; // [!code ++]

	public const int featGolem = 1217; // [!code --]
	public const int featRoran = 1237; // [!code ++]
 // [!code ++]
	public const int featMilitant = 1419; // [!code ++]

	public const int featMetal = 1218;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FEAT.cs#L203-L212)
```cs:line-numbers=203

	public const int featLittleOne = 1229;

	public const int featSuccubus = 1216; // [!code --]
 // [!code --]
	public const int featAdam = 1230;

	public const int featGolem = 1217; // [!code ++]
 // [!code ++]
	public const int featNirvana = 1231;

	public const int featBaby = 1232;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FEAT.cs#L217-L258)
```cs:line-numbers=217

	public const int featLightEater = 1235;

	public const int featRoran = 1237; // [!code --]
	public const int featNorland = 1236; // [!code ++]

	public const int featPaladin2 = 1408; // [!code --]
	public const int featElder = 1238; // [!code ++]

	public const int featGod_harvest1 = 1325; // [!code --]
	public const int featBoost = 1409; // [!code ++]

	public const int featReboot = 1410; // [!code --]
	public const int featGod_luck1 = 1330; // [!code ++]

	public const int featFoxMaid = 1415; // [!code --]
	public const int featEarthStrength = 1411; // [!code ++]

	public const int featInquisitor = 1416; // [!code --]
	public const int featLuckyCat = 1412; // [!code ++]
 // [!code ++]
	public const int featFairysan = 1413; // [!code ++]

	public const int featWhiteVixen = 1414;

	public const int featBoost = 1409; // [!code --]
	public const int featFoxMaid = 1415; // [!code ++]

	public const int featLuckyCat = 1412; // [!code --]
	public const int featInquisitor = 1416; // [!code ++]

	public const int featEarthStrength = 1411; // [!code --]
	public const int featWitch = 1417; // [!code ++]

	public const int featFairysan = 1413; // [!code --]
	public const int featReboot = 1410; // [!code ++]

	public static readonly int[] IDS = new int[118]
	{
		1215, 1643, 1642, 1641, 1640, 1636, 1635, 1634, 1633, 1632, // [!code --]
		1631, 1630, 1629, 1644, 1628, 1626, 1625, 1624, 1623, 1622, // [!code --]
		1621, 1620, 1612, 1611, 1610, 1422, 1421, 1627, 1420, 1645, // [!code --]
		1647, 1214, 1200, 1201, 1202, 1203, 1204, 1205, 1206, 1207, // [!code --]
		1208, 1209, 1210, 1646, 1211, 1659, 1658, 1657, 1656, 1655, // [!code --]
		1654, 1653, 1652, 1651, 1650, 1649, 1648, 1212, 1419, 1213, // [!code --]
		1417, 1240, 1241, 1242, 1300, 1305, 1310, 1315, 1320, 1330, // [!code --]
		1335, 1340, 1345, 1350, 1355, 1400, 1401, 1402, 1403, 1404, // [!code --]
		1405, 1406, 1239, 1407, 1238, 1236, 1418, 1217, 1218, 1219, // [!code --]
		1220, 1221, 1222, 1223, 1224, 1225, 1226, 1227, 1228, 1229, // [!code --]
		1216, 1230, 1231, 1232, 1233, 1234, 1235, 1237, 1408, 1325, // [!code --]
		1410, 1415, 1416, 1414, 1409, 1412, 1411, 1413 // [!code --]
		1216, 1644, 1643, 1642, 1641, 1640, 1636, 1635, 1634, 1633, // [!code ++]
		1632, 1631, 1630, 1645, 1629, 1627, 1626, 1625, 1624, 1623, // [!code ++]
		1622, 1621, 1620, 1612, 1611, 1610, 1422, 1628, 1421, 1646, // [!code ++]
		1648, 1215, 1200, 1201, 1202, 1203, 1204, 1205, 1206, 1207, // [!code ++]
		1208, 1209, 1210, 1647, 1211, 1214, 1659, 1658, 1657, 1656, // [!code ++]
		1655, 1654, 1653, 1652, 1651, 1650, 1649, 1212, 1420, 1213, // [!code ++]
		1418, 1241, 1242, 1300, 1305, 1310, 1315, 1320, 1325, 1335, // [!code ++]
		1340, 1345, 1350, 1355, 1400, 1401, 1402, 1403, 1404, 1405, // [!code ++]
		1406, 1407, 1240, 1408, 1239, 1237, 1419, 1218, 1219, 1220, // [!code ++]
		1221, 1222, 1223, 1224, 1225, 1226, 1227, 1228, 1229, 1230, // [!code ++]
		1217, 1231, 1232, 1233, 1234, 1235, 1236, 1238, 1409, 1330, // [!code ++]
		1411, 1412, 1413, 1414, 1415, 1416, 1417, 1410 // [!code ++]
	};
}
public class Feat : Element
```

## FOOD

[`public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/FOOD.cs#L1-L34)
```cs:line-numbers=1
public class FOOD
{
	public const int creativeDish = 764; // [!code --]
	public const int food_CHA = 700; // [!code ++]

	public const int food_god = 758; // [!code --]
	public const int food_cat = 701; // [!code ++]

	public const int justcooked = 757; // [!code --]
	public const int food_poison = 702; // [!code ++]

	public const int food_human = 708; // [!code --]
	public const int food_love = 703; // [!code ++]

	public const int kirimi = 707; // [!code --]
	public const int gainWeight = 705; // [!code ++]

	public const int loseWeight = 706;

	public const int gainWeight = 705; // [!code --]
 // [!code --]
	public const int food_bug = 704;

	public const int food_love = 703; // [!code --]
	public const int food_human = 708; // [!code ++]

	public const int food_poison = 702; // [!code --]
	public const int food_undead = 709; // [!code ++]

	public const int food_cat = 701; // [!code --]
	public const int justcooked = 757; // [!code ++]

	public const int food_undead = 709; // [!code --]
	public const int food_god = 758; // [!code ++]

	public const int food_CHA = 700; // [!code --]
	public const int creativeDish = 764; // [!code ++]
 // [!code ++]
	public const int kirimi = 707; // [!code ++]

	public static readonly int[] IDS = new int[13]
	{
		764, 758, 757, 708, 707, 706, 705, 704, 703, 702, // [!code --]
		701, 709, 700 // [!code --]
		700, 701, 702, 703, 705, 706, 704, 708, 709, 757, // [!code ++]
		758, 764, 707 // [!code ++]
	};
}
```

## GoalCombat

[`public virtual bool TryUseAbility(int dist, bool beforeMove = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/GoalCombat.cs#L771-L776)
```cs:line-numbers=771
			}
			num = tactics.P_Summon;
			break;
		case "summonSpecial": // [!code ++]
			if (owner.GetInt(70) > EClass.world.date.GetRaw()) // [!code ++]
			{ // [!code ++]
				continue; // [!code ++]
			} // [!code ++]
			num = 1000; // [!code ++]
			break; // [!code ++]
		case "suicide":
			if (owner.isBerserk || owner.IsPC || owner.HasCondition<ConWet>())
			{
```

## LayerInfo

[`public override void OnKill()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/LayerInfo.cs#L87-L93)
```cs:line-numbers=87
		base.OnKill();
		TweenUtil.Tween(0.2f, delegate
		{
			UIButton.TryShowTip<UIButton>(null, highlight: true, ignoreWhenRightClick: false); // [!code --]
			UIButton.TryShowTip<UIButton>(); // [!code ++]
		});
	}

```

## MUTATION

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/MUTATION.cs#L1-L91)
```cs:line-numbers=1
public class MUTATION
{
	public const int etherGravity = 1550; // [!code --]
 // [!code --]
	public const int mutationEyeN = 1513; // [!code --]
 // [!code --]
	public const int mutationEye = 1512; // [!code --]
	public const int mutationStr = 1520; // [!code ++]

	public const int mutationSkinN = 1511; // [!code --]
	public const int mutationSpeedN = 1519; // [!code ++]

	public const int mutationSkin = 1510;

	public const int etherEye = 1553; // [!code --]
	public const int mutationRegenN = 1517; // [!code ++]

	public const int etherWing = 1554; // [!code --]
	public const int mutationDex = 1514; // [!code ++]

	public const int etherNeck = 1555; // [!code --]
	public const int mutationDexN = 1515; // [!code ++]

	public const int etherUgly = 1551; // [!code --]
	public const int mutationEyeN = 1513; // [!code ++]

	public const int etherHead = 1557; // [!code --]
	public const int mutationEye = 1512; // [!code ++]

	public const int etherRain = 1558; // [!code --]
	public const int mutationSkinN = 1511; // [!code ++]

	public const int etherAddict = 1559; // [!code --]
	public const int mutationStrN = 1521; // [!code ++]

	public const int etherWeak = 1560; // [!code --]
	public const int mutationRegen = 1516; // [!code ++]

	public const int etherStupid = 1561; // [!code --]
	public const int mutationCha = 1522; // [!code ++]

	public const int etherArmor = 1562; // [!code --]
	public const int mutationSpeed = 1518; // [!code ++]

	public const int etherProvoke = 1563; // [!code --]
	public const int mutationBrain = 1524; // [!code ++]
 // [!code ++]
	public const int etherPoisonHand = 1565; // [!code ++]

	public const int etherManaBattery = 1564;

	public const int etherPoisonHand = 1565; // [!code --]
	public const int etherProvoke = 1563; // [!code ++]

	public const int mutationDex = 1514; // [!code --]
	public const int etherArmor = 1562; // [!code ++]

	public const int mutationDexN = 1515; // [!code --]
	public const int mutationChaN = 1523; // [!code ++]

	public const int etherViolence = 1556; // [!code --]
	public const int etherWeak = 1560; // [!code ++]

	public const int etherFeet = 1552; // [!code --]
	public const int etherAddict = 1559; // [!code ++]

	public const int mutationHairN = 1533; // [!code --]
	public const int etherRain = 1558; // [!code ++]

	public const int mutationRegen = 1516; // [!code --]
	public const int etherHead = 1557; // [!code ++]

	public const int mutationHair = 1532; // [!code --]
	public const int etherViolence = 1556; // [!code ++]

	public const int mutationBodyN = 1531; // [!code --]
	public const int etherNeck = 1555; // [!code ++]

	public const int mutationBody = 1530; // [!code --]
	public const int etherWing = 1554; // [!code ++]

	public const int mutationLightningN = 1529; // [!code --]
	public const int etherStupid = 1561; // [!code ++]

	public const int mutationColdN = 1527; // [!code --]
	public const int etherFeet = 1552; // [!code ++]
 // [!code ++]
	public const int etherEye = 1553; // [!code ++]

	public const int mutationCold = 1526;

	public const int mutationBrainN = 1525; // [!code --]
	public const int mutationColdN = 1527; // [!code ++]

	public const int mutationLightning = 1528;

	public const int mutationBrain = 1524; // [!code --]
	public const int mutationLightningN = 1529; // [!code ++]

	public const int mutationChaN = 1523; // [!code --]
	public const int mutationBody = 1530; // [!code ++]

	public const int mutationCha = 1522; // [!code --]
	public const int mutationBrainN = 1525; // [!code ++]

	public const int mutationStrN = 1521; // [!code --]
	public const int mutationHair = 1532; // [!code ++]

	public const int mutationStr = 1520; // [!code --]
	public const int mutationHairN = 1533; // [!code ++]

	public const int mutationSpeedN = 1519; // [!code --]
	public const int etherGravity = 1550; // [!code ++]

	public const int mutationSpeed = 1518; // [!code --]
	public const int etherUgly = 1551; // [!code ++]

	public const int mutationRegenN = 1517; // [!code --]
	public const int mutationBodyN = 1531; // [!code ++]

	public static readonly int[] IDS = new int[40]
	{
		1550, 1513, 1512, 1511, 1510, 1553, 1554, 1555, 1551, 1557, // [!code --]
		1558, 1559, 1560, 1561, 1562, 1563, 1564, 1565, 1514, 1515, // [!code --]
		1556, 1552, 1533, 1516, 1532, 1531, 1530, 1529, 1527, 1526, // [!code --]
		1525, 1528, 1524, 1523, 1522, 1521, 1520, 1519, 1518, 1517 // [!code --]
		1520, 1519, 1510, 1517, 1514, 1515, 1513, 1512, 1511, 1521, // [!code ++]
		1516, 1522, 1518, 1524, 1565, 1564, 1563, 1562, 1523, 1560, // [!code ++]
		1559, 1558, 1557, 1556, 1555, 1554, 1561, 1552, 1553, 1526, // [!code ++]
		1527, 1528, 1529, 1530, 1525, 1532, 1533, 1550, 1551, 1531 // [!code ++]
	};
}
public class Mutation : Feat
```

## POLICY

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/POLICY.cs#L3-L10)
```cs:line-numbers=3

public class POLICY
{
	public const int license_food = 2818; // [!code --]
 // [!code --]
	public const int suite_room = 2813;

	public const int mass_exhibition = 2814;
```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/POLICY.cs#L15-L27)
```cs:line-numbers=15

	public const int store_premium = 2817;

	public const int bed_quality = 2812; // [!code --]
	public const int license_food = 2818; // [!code ++]

	public const int license_furniture = 2819;

	public const int license_slaver = 2828; // [!code --]
 // [!code --]
	public const int legendary_heirloom = 2821; // [!code --]
	public const int license_general = 2820; // [!code ++]

	public const int celeb = 2822;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/POLICY.cs#L35-L49)
```cs:line-numbers=35

	public const int breed_season = 2827;

	public const int tourist_safety = 2811; // [!code --]
	public const int license_slaver = 2828; // [!code ++]

	public const int license_general = 2820; // [!code --]
	public const int bed_quality = 2812; // [!code ++]

	public const int open_business = 2810; // [!code --]
	public const int legendary_heirloom = 2821; // [!code ++]

	public const int stop_growth = 2515; // [!code --]
	public const int tourist_safety = 2811; // [!code ++]

	public const int livestock_priv = 2715; // [!code --]
	public const int speed_growth = 2516; // [!code ++]
 // [!code ++]
	public const int home_discount = 2800; // [!code ++]

	public const int nocturnal_life = 2508;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/POLICY.cs#L63-L97)
```cs:line-numbers=63

	public const int faith_tax = 2501;

	public const int home_discount = 2800; // [!code --]
 // [!code --]
	public const int wealth_tax = 2500;

	public const int open_business = 2810; // [!code ++]
 // [!code ++]
	public const int inquisition = 2507;

	public const int resident_tax = 2512;

	public const int resident_wanted = 2513;

	public const int human_right = 2506; // [!code --]
	public const int taxfree = 2514; // [!code ++]

	public const int speed_growth = 2516; // [!code --]
	public const int human_right = 2506; // [!code ++]

	public const int trash_sort = 2701; // [!code --]
	public const int energy_conservation = 2700; // [!code ++]

	public const int trash_no = 2702;

	public const int taxfree = 2514; // [!code --]
	public const int weed_no = 2703; // [!code ++]

	public const int border_watch = 2704; // [!code --]
	public const int stop_growth = 2515; // [!code ++]

	public const int taxTransfer = 2705;

	public const int demon_invocation = 2706;

	public const int weed_no = 2703; // [!code --]
	public const int auto_farm = 2707; // [!code ++]

	public const int noDM = 2708; // [!code --]
	public const int border_watch = 2704; // [!code ++]

	public const int noAnimal = 2709;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/POLICY.cs#L101-L118)
```cs:line-numbers=101

	public const int forcePanty = 2712;

	public const int energy_conservation = 2700; // [!code --]
	public const int livestock_priv = 2715; // [!code ++]

	public const int auto_farm = 2707; // [!code --]
	public const int trash_sort = 2701; // [!code ++]
 // [!code ++]
	public const int noDM = 2708; // [!code ++]

	public static readonly int[] IDS = new int[51]
	{
		2818, 2813, 2814, 2815, 2816, 2817, 2812, 2819, 2828, 2821, // [!code --]
		2822, 2823, 2824, 2825, 2826, 2827, 2811, 2820, 2810, 2515, // [!code --]
		2715, 2508, 2509, 2510, 2511, 2505, 2504, 2503, 2502, 2501, // [!code --]
		2800, 2500, 2507, 2512, 2513, 2506, 2516, 2701, 2702, 2514, // [!code --]
		2704, 2705, 2706, 2703, 2708, 2709, 2710, 2711, 2712, 2700, // [!code --]
		2707 // [!code --]
		2813, 2814, 2815, 2816, 2817, 2818, 2819, 2820, 2822, 2823, // [!code ++]
		2824, 2825, 2826, 2827, 2828, 2812, 2821, 2811, 2516, 2800, // [!code ++]
		2508, 2509, 2510, 2511, 2505, 2504, 2503, 2502, 2501, 2500, // [!code ++]
		2810, 2507, 2512, 2513, 2514, 2506, 2700, 2702, 2703, 2515, // [!code ++]
		2705, 2706, 2707, 2704, 2709, 2710, 2711, 2712, 2715, 2701, // [!code ++]
		2708 // [!code ++]
	};
}
public class Policy : EClass
```

## Player

[`public bool CanAcceptInput()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Player.cs#L2339-L2345)
```cs:line-numbers=2339

	public bool CanSee(Chara c)
	{
		if (EClass.pc.hasTelepathy && c.race.visibleWithTelepathy) // [!code --]
		if (EClass.pc.hasTelepathy && c.visibleWithTelepathy) // [!code ++]
		{
			return true;
		}
```

## PointTarget

[`public bool ShouldIgnore(Card c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/PointTarget.cs#L161-L167)
```cs:line-numbers=161
		}
		else
		{
			if ((!EClass.pc.hasTelepathy || !c.Chara.race.visibleWithTelepathy) && c.isHidden && !EClass.pc.canSeeInvisible) // [!code --]
			if ((!EClass.pc.hasTelepathy || !c.Chara.visibleWithTelepathy) && c.isHidden && !EClass.pc.canSeeInvisible) // [!code ++]
			{
				return true;
			}
```

## QuestDeliver

[`public override bool Deliver(Chara c, Thing t = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/QuestDeliver.cs#L215-L226)
```cs:line-numbers=215
		Thing thing = t.Split(num);
		bonusMoney += GetBonus(thing);
		Msg.Say("deliverItem", thing);
		if (ConsumeGoods) // [!code --]
		if (ConsumeGoods || c.things.IsFull()) // [!code ++]
		{
			thing.Destroy();
		}
		else
		{
			thing.isGifted = true; // [!code ++]
			thing = c.Pick(thing);
			if (c.CanEat(thing))
			{
```

## SKILL

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/SKILL.cs#L58-L64)
```cs:line-numbers=58

	public const int weightlifting = 207;

	public const int weaponStaff = 103; // [!code --]
	public const int weaponAxe = 102; // [!code ++]

	public const int weaponDagger = 107;

```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/SKILL.cs#L104-L110)
```cs:line-numbers=104

	public const int weaponBow = 104;

	public const int weaponAxe = 102; // [!code --]
	public const int weaponStaff = 103; // [!code ++]

	public const int weaponSword = 101;

```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/SKILL.cs#L270-L279)
```cs:line-numbers=270
{
	50, 109, 110, 111, 120, 122, 123, 130, 132, 245,
	242, 241, 240, 237, 235, 230, 227, 226, 225, 220,
	210, 200, 152, 151, 150, 135, 134, 131, 207, 103, // [!code --]
	210, 200, 152, 151, 150, 135, 134, 131, 207, 102, // [!code ++]
	107, 71, 70, 68, 67, 66, 65, 72, 64, 61,
	60, 57, 56, 55, 51, 62, 73, 74, 75, 106,
	105, 104, 102, 101, 100, 93, 92, 91, 90, 80, // [!code --]
	105, 104, 103, 101, 100, 93, 92, 91, 90, 80, // [!code ++]
	79, 78, 77, 76, 108, 250, 133, 256, 916, 917,
	918, 919, 920, 921, 922, 923, 924, 925, 926, 950,
	951, 952, 915, 953, 956, 957, 958, 959, 960, 961,
```

## ShopType

[`public enum ShopType`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ShopType.cs#L48-L52)
```cs:line-numbers=48
	Plat,
	LoytelMart,
	StrangeGirl,
	Sweet // [!code --]
	Sweet, // [!code ++]
	Moyer // [!code ++]
}
```

## SourceRace

[`public class Row : BaseRow`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/SourceRace.cs#L94-L101)
```cs:line-numbers=94

		public string detail;

		public bool visibleWithTelepathy; // [!code --]
 // [!code --]
		public Dictionary<int, int> elementMap;

		[NonSerialized]
```

[`public override void OnInit()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/SourceRace.cs#L231-L237)
```cs:line-numbers=231
			dictionary[301] = 1;
			dictionary[306] = 1;
			row.elementMap = Element.GetElementMap(row.elements, dictionary);
			row.visibleWithTelepathy = !row.IsUndead && !row.IsMachine && !row.IsHorror; // [!code --]
		}
	}
}
```

## TaskDump

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/TaskDump.cs#L123-L129)
```cs:line-numbers=123
		}
		static int SortVal(Thing t)
		{
			return t.GetWindowSaveData()?.priority ?? 0; // [!code --]
			return ((t.trait is TraitShippingChest) ? EClass.game.cards.container_shipping.GetWindowSaveData() : t.GetWindowSaveData())?.priority ?? 0; // [!code ++]
		}
	}

```

## Thing

[`public override SourcePref Pref`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Thing.cs#L50-L55)
```cs:line-numbers=50
{
	get
	{
		if (trait is TraitFakeBlock) // [!code ++]
		{ // [!code ++]
			TileType tileType = EClass.sources.blocks.map[base.refVal].tileType; // [!code ++]
			if (tileType is TileTypeFence) // [!code ++]
			{ // [!code ++]
				return EClass.core.refs.prefs.blockFence; // [!code ++]
			} // [!code ++]
			if (tileType is TileTypeStairs) // [!code ++]
			{ // [!code ++]
				return EClass.core.refs.prefs.blockStairs; // [!code ++]
			} // [!code ++]
			if (tileType is TileTypeWall) // [!code ++]
			{ // [!code ++]
				return EClass.core.refs.prefs.blockWall; // [!code ++]
			} // [!code ++]
		} // [!code ++]
		if (source.origin == null || source.pref.UsePref)
		{
			return source.pref;
```

## ThingGen

[`public static Thing CreateRedBook(string id, int num = 1)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ThingGen.cs#L164-L169)
```cs:line-numbers=164
	{
		Thing thing = Create("book").SetNum(num);
		thing.SetStr(53, id);
		thing.idSkin = (thing.trait as TraitBook).Item.skin; // [!code ++]
		return thing;
	}

```

## Trait

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1509-L1517)
```cs:line-numbers=1509
	owner.c_dateStockExpire = EClass.world.date.GetRaw(24 * RestockDay);
	owner.isRestocking = true;
	t.things.DestroyAll((Thing _t) => _t.GetInt(101) != 0);
	foreach (Thing thing7 in t.things) // [!code --]
	foreach (Thing thing8 in t.things) // [!code ++]
	{
		thing7.invX = -1; // [!code --]
		thing8.invX = -1; // [!code ++]
	}
	switch (ShopType)
	{
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1528-L1540)
```cs:line-numbers=1528
			break;
		}
		int num3 = 0;
		foreach (Thing thing8 in c_copyContainer.things) // [!code --]
		foreach (Thing thing9 in c_copyContainer.things) // [!code ++]
		{
			if (!owner.trait.CanCopy(thing8)) // [!code --]
			if (!owner.trait.CanCopy(thing9)) // [!code ++]
			{
				continue;
			}
			Thing thing4 = thing8.Duplicate(1); // [!code --]
			Thing thing4 = thing9.Duplicate(1); // [!code ++]
			thing4.isStolen = false;
			thing4.isCopy = true;
			thing4.c_priceFix = 0;
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1559-L1565)
```cs:line-numbers=1559
				break;
			}
			case CopyShopType.Spellbook:
				thing4.c_charges = thing8.c_charges; // [!code --]
				thing4.c_charges = thing9.c_charges; // [!code ++]
				break;
			}
			if (num4 > 1 && thing4.trait.CanStack)
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1604-L1610)
```cs:line-numbers=1604
		break;
	case ShopType.RedBook:
	{
		for (int n = 0; n < 30; n++) // [!code --]
		for (int num5 = 0; num5 < 30; num5++) // [!code ++]
		{
			AddThing(ThingGen.CreateFromCategory("book"));
		}
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1617-L1627)
```cs:line-numbers=1617
		AddThing(TraitSeed.MakeSeed("carrot")).SetNum(4 + EClass.rnd(4));
		AddThing(TraitSeed.MakeSeed("potato")).SetNum(4 + EClass.rnd(4));
		AddThing(TraitSeed.MakeSeed("corn")).SetNum(4 + EClass.rnd(4));
		for (int num5 = 0; num5 < EClass.rnd(3) + 1; num5++) // [!code --]
		for (int num6 = 0; num6 < EClass.rnd(3) + 1; num6++) // [!code ++]
		{
			Add("462", 1, 0);
		}
		for (int num6 = 0; num6 < EClass.rnd(3) + 1; num6++) // [!code --]
		for (int num7 = 0; num7 < EClass.rnd(3) + 1; num7++) // [!code ++]
		{
			Add("1167", 1, 0);
		}
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1702-L1708)
```cs:line-numbers=1702
					Add("littleball", 10, 0);
					break;
				}
				for (int k = 0; k < 10; k++) // [!code --]
				for (int l = 0; l < 10; l++) // [!code ++]
				{
					Thing thing3 = ThingGen.Create(EClass._zone.IsFestival ? "1123" : ((EClass.rnd(3) == 0) ? "1169" : "1160"));
					thing3.DyeRandom();
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1710-L1716)
```cs:line-numbers=1710
				}
				if (EClass._zone is Zone_Exile)
				{
					for (int l = 0; l < 30; l++) // [!code --]
					for (int m = 0; m < 30; m++) // [!code ++]
					{
						Add("1235", 1, -1);
						Add("1236", 1, -1);
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1746-L1752)
```cs:line-numbers=1746
				AddThing(ThingGen.CreatePerfume(9501, 5));
				AddThing(ThingGen.CreatePerfume(9502, 5));
				AddThing(ThingGen.CreatePerfume(9503, 5));
				for (int j = 0; j < 5; j++) // [!code --]
				for (int k = 0; k < 5; k++) // [!code ++]
				{
					Thing thing2 = ThingGen.CreateFromCategory("seasoning").SetNum(10);
					thing2.elements.SetBase(2, 40);
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1802-L1808)
```cs:line-numbers=1802
				float num = (float)(3 + Mathf.Min(ShopLv / 5, 10)) + Mathf.Sqrt(ShopLv);
				num = num * (float)(100 + EClass.pc.Evalue(1406) * 5) / 100f;
				num = Mathf.Min(num, 300f);
				for (int i = 0; (float)i < num; i++) // [!code --]
				for (int j = 0; (float)j < num; j++) // [!code ++]
				{
					Thing thing = CreateStock();
					if ((!thing.trait.IsNoShop || (ShopType == ShopType.LoytelMart && (EClass.debug.enable || EClass.player.flags.loytelMartLv >= 2))) && (!(thing.trait is TraitRod) || thing.c_charges != 0) && thing.GetPrice() > 0)
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1820-L1828)
```cs:line-numbers=1820
					continue;
				}
				string[] recipeKey = item3.row.recipeKey;
				for (int m = 0; m < recipeKey.Length; m++) // [!code --]
				for (int n = 0; n < recipeKey.Length; n++) // [!code ++]
				{
					if (recipeKey[m] == ShopType.ToString()) // [!code --]
					if (recipeKey[n] == ShopType.ToString()) // [!code ++]
					{
						NoRestock(ThingGen.CreateRecipe(item3.id));
						break;
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1831-L1847)
```cs:line-numbers=1831
			}
			switch (ShopType)
			{
			case ShopType.Moyer: // [!code ++]
			{ // [!code ++]
				for (int num10 = 1; num10 <= 3; num10++) // [!code ++]
				{ // [!code ++]
					AddAdvWeek(num10); // [!code ++]
				} // [!code ++]
				break; // [!code ++]
			} // [!code ++]
			case ShopType.StrangeGirl:
			{
				int num9 = (EClass.debug.enable ? 20 : (EClass._zone.development / 10)); // [!code --]
				if (num9 > 0) // [!code --]
				int num11 = (EClass.debug.enable ? 20 : (EClass._zone.development / 10)); // [!code ++]
				if (num11 > 0) // [!code ++]
				{
					Add("syringe_gene", num9, 0); // [!code --]
					Add("syringe_gene", num11, 0); // [!code ++]
					Add("diary_little", 1, 0);
				}
				if (num9 > 10) // [!code --]
				if (num11 > 10) // [!code ++]
				{
					Add("syringe_heaven", num9 / 5, 0); // [!code --]
					Add("syringe_heaven", num11 / 5, 0); // [!code ++]
				}
				break;
			}
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1894-L1905)
```cs:line-numbers=1894
					Add("ticket_armpillow", 1, 0);
					Add("ticket_champagne", 1, 0);
				}
				for (int num7 = 0; num7 < 3; num7++) // [!code --]
				for (int num8 = 0; num8 < 3; num8++) // [!code ++]
				{
					if (EClass.rnd(5) == 0)
					{
						TreasureType treasureType = ((EClass.rnd(10) == 0) ? TreasureType.BossNefia : ((EClass.rnd(10) == 0) ? TreasureType.Map : TreasureType.RandomChest));
						int num8 = EClass.rnd(EClass.rnd(ShopLv + (EClass.debug.enable ? 200 : 50)) + 1) + 1; // [!code --]
						int num9 = EClass.rnd(EClass.rnd(ShopLv + (EClass.debug.enable ? 200 : 50)) + 1) + 1; // [!code ++]
						Thing thing5 = ThingGen.Create(treasureType switch
						{
							TreasureType.Map => "chest_treasure", 
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1907-L1916)
```cs:line-numbers=1907
							_ => "chest3", 
						});
						thing5.c_lockedHard = true;
						thing5.c_lockLv = num8; // [!code --]
						thing5.c_priceAdd = 2000 + num8 * 250 * ((treasureType == TreasureType.RandomChest) ? 1 : 5); // [!code --]
						thing5.c_lockLv = num9; // [!code ++]
						thing5.c_priceAdd = 2000 + num9 * 250 * ((treasureType == TreasureType.RandomChest) ? 1 : 5); // [!code ++]
						thing5.c_revealLock = true;
						ThingGen.CreateTreasureContent(thing5, num8, treasureType, clearContent: true); // [!code --]
						ThingGen.CreateTreasureContent(thing5, num9, treasureType, clearContent: true); // [!code ++]
						AddThing(thing5);
					}
				}
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1920-L1926)
```cs:line-numbers=1920
			ShopType shopType = ShopType;
			if (shopType == ShopType.General || shopType == ShopType.Food)
			{
				for (int num10 = 0; num10 < (EClass.debug.enable ? 3 : 3); num10++) // [!code --]
				for (int num12 = 0; num12 < (EClass.debug.enable ? 3 : 3); num12++) // [!code ++]
				{
					if (EClass.rnd(3) == 0)
					{
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L1961-L2009)
```cs:line-numbers=1961
				}
				AddThing(ThingGen.CreateScroll(8780, EClass.rndHalf(5)));
			}
			foreach (Thing thing9 in t.things) // [!code --]
			foreach (Thing thing10 in t.things) // [!code ++]
			{
				thing9.c_idBacker = 0; // [!code --]
				thing10.c_idBacker = 0; // [!code ++]
				if (ShopType != ShopType.Copy)
				{
					thing9.TryMakeRandomItem(ShopLv); // [!code --]
					if (thing9.Num == 1) // [!code --]
					thing10.TryMakeRandomItem(ShopLv); // [!code ++]
					if (thing10.Num == 1) // [!code ++]
					{
						thing9.SetNum(thing9.trait.DefaultStock); // [!code --]
						thing10.SetNum(thing10.trait.DefaultStock); // [!code ++]
					}
					if (thing9.trait is TraitFoodMeal) // [!code --]
					if (thing10.trait is TraitFoodMeal) // [!code ++]
					{
						CraftUtil.MakeDish(thing9, ShopLv, owner.Chara); // [!code --]
						CraftUtil.MakeDish(thing10, ShopLv, owner.Chara); // [!code ++]
					}
					if (thing9.IsFood && owner.id == "rodwyn") // [!code --]
					if (thing10.IsFood && owner.id == "rodwyn") // [!code ++]
					{
						SourceElement.Row row = EClass.sources.elements.rows.Where((SourceElement.Row e) => !e.foodEffect.IsEmpty() && e.category != "feat" && e.chance > 0).RandomItem();
						thing9.elements.SetBase(row.id, 10 + EClass.rnd(10)); // [!code --]
						thing10.elements.SetBase(row.id, 10 + EClass.rnd(10)); // [!code ++]
					}
				}
				if (CurrencyType == CurrencyType.Casino_coin)
				{
					thing9.noSell = true; // [!code --]
					thing10.noSell = true; // [!code ++]
				}
				if (Guild.Thief.IsCurrentZone)
				{
					thing9.isStolen = true; // [!code --]
					thing10.isStolen = true; // [!code ++]
				}
				if (!(thing9.trait is TraitErohon)) // [!code --]
				if (!(thing10.trait is TraitErohon)) // [!code ++]
				{
					thing9.c_IDTState = 0; // [!code --]
					thing10.c_IDTState = 0; // [!code ++]
				}
				if (CurrencyType == CurrencyType.Money && (thing9.category.IsChildOf("meal") || thing9.category.IsChildOf("preserved")) && thing9.id != "ration") // [!code --]
				if (CurrencyType == CurrencyType.Money && (thing10.category.IsChildOf("meal") || thing10.category.IsChildOf("preserved")) && thing10.id != "ration") // [!code ++]
				{
					thing9.c_priceFix = -70; // [!code --]
					thing10.c_priceFix = -70; // [!code ++]
				}
				if (thing9.trait is TraitErohon) // [!code --]
				if (thing10.trait is TraitErohon) // [!code ++]
				{
					thing9.c_IDTState = 5; // [!code --]
					thing10.c_IDTState = 5; // [!code ++]
				}
				if (thing9.IsContainer && !thing9.c_revealLock) // [!code --]
				if (thing10.IsContainer && !thing10.c_revealLock) // [!code ++]
				{
					thing9.RemoveThings(); // [!code --]
					thing10.RemoveThings(); // [!code ++]
					t.c_lockLv = 0;
				}
			}
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L2011-L2021)
```cs:line-numbers=2011
			{
				return;
			}
			int num11 = t.things.width * 10; // [!code --]
			if (t.things.Count > num11) // [!code --]
			int num13 = t.things.width * 10; // [!code ++]
			if (t.things.Count > num13) // [!code ++]
			{
				int num12 = t.things.Count - num11; // [!code --]
				for (int num13 = 0; num13 < num12; num13++) // [!code --]
				int num14 = t.things.Count - num13; // [!code ++]
				for (int num15 = 0; num15 < num14; num15++) // [!code ++]
				{
					t.things.LastItem().Destroy();
				}
```

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L2024-L2032)
```cs:line-numbers=2024
			Thing Add(string id, int a, int idSkin)
			{
				CardBlueprint.SetNormalRarity();
				Thing thing6 = ThingGen.Create(id, -1, ShopLv).SetNum(a); // [!code --]
				thing6.idSkin = ((idSkin == -1) ? EClass.rnd(thing6.source.skins.Length + 1) : idSkin); // [!code --]
				return t.AddThing(thing6); // [!code --]
				Thing thing7 = ThingGen.Create(id, -1, ShopLv).SetNum(a); // [!code ++]
				thing7.idSkin = ((idSkin == -1) ? EClass.rnd(thing7.source.skins.Length + 1) : idSkin); // [!code ++]
				return t.AddThing(thing7); // [!code ++]
			} // [!code ++]
			void AddAdvWeek(int i) // [!code ++]
			{ // [!code ++]
				Thing thing6 = ThingGen.CreateRedBook("advweek_" + i); // [!code ++]
				thing6.c_priceFix = -90; // [!code ++]
				AddThing(thing6); // [!code ++]
			}
			Thing AddThing(Thing _t)
			{
```

[`public Thing CreateStock()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/Trait.cs#L2242-L2247)
```cs:line-numbers=2242
				return FromFilter("shop_junk");
			}
			case ShopType.Junk:
			case ShopType.Moyer: // [!code ++]
				return FromFilter("shop_junk");
			case ShopType.Souvenir:
				return FromFilter("shop_souvenir");
```

## TraitBook

[`public override void OnCreate(int lv)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/TraitBook.cs#L33-L38)
```cs:line-numbers=33
		{
			owner.SetStr(53, BookList.GetRandomItem(IdCat).id);
		}
		owner.idSkin = Item.skin; // [!code ++]
	}

	public override void OnImportMap()
```

## TraitMoyer

[`public class TraitMoyer : TraitUniqueChara`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/TraitMoyer.cs#L1-L4)
```cs:line-numbers=1
public class TraitMoyer : TraitUniqueChara
{
	public override ShopType ShopType => ShopType.Moyer; // [!code ++]
 // [!code ++]
	public override bool CanInvite => false;
}
```

## TraitTent

[`public class TraitTent : TraitNewZone`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/TraitTent.cs#L10-L15)
```cs:line-numbers=10

	public override bool CanBeHeld => true;

	public override bool CanBeShipped => false; // [!code ++]
 // [!code ++]
	public override int UseDist => 1;

	public override void OnChangePlaceState(PlaceState state)
```

## TraitToolHammerStrip

[`public override void TrySetHeldAct(ActPlan p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/TraitToolHammerStrip.cs#L6-L12)
```cs:line-numbers=6
{
	p.pos.Things.ForEach(delegate(Thing t)
	{
		if (t.category.tag.Contains("enc") && t.encLV > 0) // [!code --]
		if (!t.isMasked && !t.isHidden && t.category.tag.Contains("enc") && t.encLV > 0) // [!code ++]
		{
			p.TrySetAct("actHammerFurniture".lang(t.Name), delegate
			{
```

## ZoneEventDefenseGame

[`public void NextWave(int add = 0)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ZoneEventDefenseGame.cs#L85-L90)
```cs:line-numbers=85
	turns = 0;
	EClass._zone._dangerLv += ((EClass._zone.DangerLv >= 100) ? (EClass._zone.DangerLv / 100 * 5 + 5) : 5);
	SE.Play("warhorn");
	Msg.Say("warhorn"); // [!code ++]
	Msg.Say("defense_wave", wave.ToString() ?? "", EClass._zone.DangerLv.ToString() ?? "");
	Spawn(2 + base.quest.difficulty + add);
	AggroEnemy();
```

[`public void Horn_Next()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ZoneEventDefenseGame.cs#L146-L151)
```cs:line-numbers=146
public void Horn_Retreat()
{
	SE.Play("warhorn");
	Msg.Say("warhorn"); // [!code ++]
	Msg.Say("defense_retreat");
	retreated = true;
	instance.status = ZoneInstance.Status.Success;
```

[`public void Horn_Retreat()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d263604ca2c5475b77c49539cde7b04db94f0448/Elin/ZoneEventDefenseGame.cs#L155-L160)
```cs:line-numbers=155
public void Horn_Ally()
{
	SE.Play("warhorn");
	Msg.Say("warhorn"); // [!code ++]
	ActEffect.ProcAt(EffectId.Summon, 100, BlessedState.Normal, EClass.pc, EClass.pc, EClass.pc.pos, isNeg: false, new ActRef
	{
		n1 = "special_force"
```
