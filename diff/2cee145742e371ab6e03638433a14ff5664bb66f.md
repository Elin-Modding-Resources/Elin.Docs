---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 8 files modified.
version: EA 23.219 Nightly Patch 2
changes: ActEffect/Chara/EffectId/FactionBranch/SPELL/Trait/TraitBigDaddy/TraitLittleOne
---

# EA 23.219 Nightly Patch 2

October 14, 2025

8 files modified.

## Important Changes

**None.**
## ActEffect

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L375-L381)
```cs:line-numbers=375
			}
			num2++;
		}
		if ((id == EffectId.Explosive || id == EffectId.Suicide || id == EffectId.Rocket) && ((id != EffectId.Suicide && id != EffectId.Meteor) || !EClass._zone.IsPCFaction)) // [!code --]
		if ((id == EffectId.Explosive || id == EffectId.Suicide || id == EffectId.Rocket) && (!EClass._zone.IsPCFaction || !EClass.Branch.HasItemProtection)) // [!code ++]
		{
			int num7 = id switch
			{
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1471-L1491)
```cs:line-numbers=1471
			ActThrow.Throw(CC, TC.pos, t3, ThrowMethod.Punish, 0.7f);
		}
		break;
	case EffectId.StripBlessing: // [!code ++]
	{ // [!code ++]
		int num13 = 0; // [!code ++]
		foreach (Condition condition4 in TC.conditions) // [!code ++]
		{ // [!code ++]
			if (condition4.Type == ConditionType.Buff) // [!code ++]
			{ // [!code ++]
				num13++; // [!code ++]
			} // [!code ++]
		} // [!code ++]
		if (num13 == 0) // [!code ++]
		{ // [!code ++]
			CC.SayNothingHappans(); // [!code ++]
			break; // [!code ++]
		} // [!code ++]
		TC.pos.PlayEffect("holyveil"); // [!code ++]
		TC.pos.PlaySound("holyveil"); // [!code ++]
		TC.Say("unpolluted", TC); // [!code ++]
		bool valid = true; // [!code ++]
		TC.conditions.ForeachReverse(delegate(Condition c) // [!code ++]
		{ // [!code ++]
			if (valid && c.Type == ConditionType.Buff) // [!code ++]
			{ // [!code ++]
				c.Kill(); // [!code ++]
				if (CC.IsHostile(TC)) // [!code ++]
				{ // [!code ++]
					valid = false; // [!code ++]
				} // [!code ++]
			} // [!code ++]
		}); // [!code ++]
		break; // [!code ++]
	} // [!code ++]
	case EffectId.ShutterHex:
	{
		if (!CC.IsHostile(TC))
		{
			break;
		}
		int num10 = 0; // [!code --]
		foreach (Condition condition4 in TC.conditions) // [!code --]
		int num8 = 0; // [!code ++]
		foreach (Condition condition5 in TC.conditions) // [!code ++]
		{
			if (condition4.Type == ConditionType.Debuff) // [!code --]
			if (condition5.Type == ConditionType.Debuff) // [!code ++]
			{
				num10++; // [!code --]
				num8++; // [!code ++]
			}
		}
		if (num10 == 0) // [!code --]
		if (num8 == 0) // [!code ++]
		{
			CC.SayNothingHappans();
			break;
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1502-L1515)
```cs:line-numbers=1502
		});
		TC.Say("abShutterHex", TC);
		Point center = CC.pos.Copy();
		List<Chara> list6 = TC.pos.ListCharasInRadius(TC, 4, (Chara c) => c == TC || c.IsHostile(CC)); // [!code --]
		for (int l = 0; l < num10; l++) // [!code --]
		List<Chara> list5 = TC.pos.ListCharasInRadius(TC, 4, (Chara c) => c == TC || c.IsHostile(CC)); // [!code ++]
		for (int l = 0; l < num8; l++) // [!code ++]
		{
			TweenUtil.Delay((float)l * 0.1f, delegate
			{
				center.PlaySound("shutterhex");
			});
			foreach (Chara item4 in list6) // [!code --]
			foreach (Chara item4 in list5) // [!code ++]
			{
				if (item4.ExistsOnMap)
				{
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1522-L1529)
```cs:line-numbers=1522
					{
						effect.Play(center, 0f, pos);
					});
					int num11 = Dice.Create("SpShutterHex", power, CC, (actRef.refThing != null) ? null : actRef.act).Roll(); // [!code --]
					item4.DamageHP(num11, 919, power, AttackSource.None, CC, showEffect: false); // [!code --]
					int num9 = Dice.Create("SpShutterHex", power, CC, (actRef.refThing != null) ? null : actRef.act).Roll(); // [!code ++]
					item4.DamageHP(num9, 919, power, AttackSource.None, CC, showEffect: false); // [!code ++]
				}
			}
		}
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1578-L1584)
```cs:line-numbers=1578
			break;
		}
		Thing thing4 = null;
		bool flag8 = actRef.n1 == "food"; // [!code --]
		bool flag9 = actRef.n1 == "food"; // [!code ++]
		if (actRef.n1 == "money")
		{
			int currency = TC.GetCurrency();
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1592-L1602)
```cs:line-numbers=1592
		else
		{
			Func<Thing, bool> func = (Thing t) => true;
			if (flag8) // [!code --]
			if (flag9) // [!code ++]
			{
				func = (Thing t) => t.IsFood;
			}
			List<Thing> list5 = TC.things.List(delegate(Thing t) // [!code --]
			List<Thing> list6 = TC.things.List(delegate(Thing t) // [!code ++]
			{
				if (t.parentCard?.trait is TraitChestMerchant || t.trait is TraitTool || t.IsThrownWeapon)
				{
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1604-L1612)
```cs:line-numbers=1604
				}
				return t.trait.CanBeDestroyed && t.things.Count == 0 && t.invY != 1 && t.trait.CanBeStolen && !t.trait.CanOnlyCarry && !t.IsUnique && !t.isEquipped && t.blessedState == BlessedState.Normal && func(t);
			}, onlyAccessible: true);
			if (list5.Count > 0) // [!code --]
			if (list6.Count > 0) // [!code ++]
			{
				thing4 = list5.RandomItem(); // [!code --]
				thing4 = list6.RandomItem(); // [!code ++]
				if (thing4.Num > 1)
				{
					thing4 = thing4.Split(1);
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1687-L1712)
```cs:line-numbers=1687
		List<Thing> list = new List<Thing>();
		TC.things.Foreach(delegate(Thing t)
		{
			int num13 = 0; // [!code --]
			int num14 = 0; // [!code ++]
			if ((t.isEquipped || t.IsRangedWeapon || blessed) && t.blessedState < BlessedState.Normal)
			{
				if (t.blessedState == BlessedState.Cursed)
				{
					num13 = EClass.rnd(200); // [!code --]
					num14 = EClass.rnd(200); // [!code ++]
				}
				if (t.blessedState == BlessedState.Doomed)
				{
					num13 = EClass.rnd(1000); // [!code --]
					num14 = EClass.rnd(1000); // [!code ++]
				}
				if (blessed)
				{
					num13 /= 2; // [!code --]
					num14 /= 2; // [!code ++]
				}
				if (id == EffectId.UncurseEQGreater)
				{
					num13 /= 10; // [!code --]
					num14 /= 10; // [!code ++]
				}
				if (power >= num13) // [!code --]
				if (power >= num14) // [!code ++]
				{
					TC.Say("uncurseEQ_success", t);
					t.SetBlessedState(BlessedState.Normal);
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1750-L1767)
```cs:line-numbers=1750
				text3 = text4;
			}
		}
		Condition condition2 = Condition.Create(text3, power, delegate(Condition con) // [!code --]
		Condition condition = Condition.Create(text3, power, delegate(Condition con) // [!code ++]
		{
			if (!actRef.aliasEle.IsEmpty())
			{
				con.SetElement(EClass.sources.elements.alias[actRef.aliasEle].id);
			}
		});
		condition2.isPerfume = TC.IsPC && actRef.isPerfume; // [!code --]
		Condition condition3 = TC.AddCondition(condition2); // [!code --]
		if (condition3 != null && condition3.isPerfume) // [!code --]
		condition.isPerfume = TC.IsPC && actRef.isPerfume; // [!code ++]
		Condition condition2 = TC.AddCondition(condition); // [!code ++]
		if (condition2 != null && condition2.isPerfume) // [!code ++]
		{
			condition3.value = 3; // [!code --]
			condition2.value = 3; // [!code ++]
			Msg.Say("perfume", TC);
		}
		if (!text4.IsEmpty())
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1774-L1785)
```cs:line-numbers=1774
	{
		EClass.game.religions.Trickery.Talk("ability");
		bool hex = CC.IsHostile(TC);
		List<SourceStat.Row> list8 = EClass.sources.stats.rows.Where((SourceStat.Row con) => con.tag.Contains("random") && con.group == (hex ? "Debuff" : "Buff")).ToList(); // [!code --]
		List<SourceStat.Row> list7 = EClass.sources.stats.rows.Where((SourceStat.Row con) => con.tag.Contains("random") && con.group == (hex ? "Debuff" : "Buff")).ToList(); // [!code ++]
		int power2 = power;
		for (int m = 0; m < 4 + EClass.rnd(2); m++)
		{
			SourceStat.Row row2 = list8.RandomItem(); // [!code --]
			list8.Remove(row2); // [!code --]
			SourceStat.Row row2 = list7.RandomItem(); // [!code ++]
			list7.Remove(row2); // [!code ++]
			Proc(hex ? EffectId.DebuffKizuami : EffectId.Buff, CC, TC, power2, new ActRef
			{
				n1 = row2.alias
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1802-L1814)
```cs:line-numbers=1802
			power = power * 2 / 3;
		}
		int a2 = power;
		int num8 = TC.WIL * (isPowerful ? 20 : 5); // [!code --]
		ConHolyVeil condition = TC.GetCondition<ConHolyVeil>(); // [!code --]
		if (condition != null) // [!code --]
		int num10 = TC.WIL * (isPowerful ? 20 : 5); // [!code ++]
		ConHolyVeil condition3 = TC.GetCondition<ConHolyVeil>(); // [!code ++]
		if (condition3 != null) // [!code ++]
		{
			num8 += condition.power * 5; // [!code --]
			num10 += condition3.power * 5; // [!code ++]
		}
		if (id != EffectId.DebuffKizuami && EClass.rnd(a2) < num8 / EClass.sources.stats.alias[n].hexPower && EClass.rnd(10) != 0) // [!code --]
		if (id != EffectId.DebuffKizuami && EClass.rnd(a2) < num10 / EClass.sources.stats.alias[n].hexPower && EClass.rnd(10) != 0) // [!code ++]
		{
			TC.Say("debuff_resist", TC);
			CC.DoHostileAction(TC);
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1915-L1930)
```cs:line-numbers=1915
		tc.bio.SetGender(gender2);
		tc.Say("transGender", tc, Gender.Name(tc.bio.gender));
		tc.Talk("tail");
		int age = tc.bio.GetAge(tc.Chara); // [!code --]
		if (blessed && age > 1) // [!code --]
		int age2 = tc.bio.GetAge(tc.Chara); // [!code ++]
		if (blessed && age2 > 1) // [!code ++]
		{
			tc.Say("ageDown", tc);
			tc.bio.SetAge(tc.Chara, age - 1); // [!code --]
			tc.bio.SetAge(tc.Chara, age2 - 1); // [!code ++]
		}
		else if (flag)
		{
			tc.Say("ageUp", tc);
			tc.bio.SetAge(tc.Chara, age + 1); // [!code --]
			tc.bio.SetAge(tc.Chara, age2 + 1); // [!code ++]
		}
		break;
	}
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1932-L1946)
```cs:line-numbers=1932
	{
		tc.PlaySound("mutation");
		tc.PlayEffect("mutation");
		int age3 = tc.bio.GetAge(tc.Chara); // [!code --]
		if (!flag && age3 <= 0) // [!code --]
		int age = tc.bio.GetAge(tc.Chara); // [!code ++]
		if (!flag && age <= 0) // [!code ++]
		{
			tc.SayNothingHappans();
			break;
		}
		age3 = Mathf.Max(0, age3 * 100 / (flag ? 75 : (blessed ? 400 : 200))) + (flag ? 1 : 0); // [!code --]
		age = Mathf.Max(0, age * 100 / (flag ? 75 : (blessed ? 400 : 200))) + (flag ? 1 : 0); // [!code ++]
		tc.Say(flag ? "ageUp" : "ageDown", tc);
		tc.bio.SetAge(tc.Chara, age3); // [!code --]
		tc.bio.SetAge(tc.Chara, age); // [!code ++]
		break;
	}
	case EffectId.EternalYouth:
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1952-L1958)
```cs:line-numbers=1952
			tc.SayNothingHappans();
			break;
		}
		int age2 = tc.bio.GetAge(tc.Chara); // [!code --]
		int age3 = tc.bio.GetAge(tc.Chara); // [!code ++]
		if (flag)
		{
			if (tc.c_lockedAge != 0)
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1960-L1966)
```cs:line-numbers=1960
				tc.Say("eternalYouth2", tc);
				tc.c_lockedAge = 0;
				tc.elements.Remove(1243);
				tc.bio.SetAge(tc.Chara, age2); // [!code --]
				tc.bio.SetAge(tc.Chara, age3); // [!code ++]
			}
			Redirect(EffectId.Youth, BlessedState.Cursed, default(ActRef));
		}
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L1972-L1978)
```cs:line-numbers=1972
		{
			tc.PlaySound("dropRewardXmas");
			tc.Say("eternalYouth1", tc);
			tc.c_lockedAge = age2 + 1; // [!code --]
			tc.c_lockedAge = age3 + 1; // [!code ++]
			tc.elements.SetBase(1243, 1);
			if (blessed)
			{
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L2027-L2050)
```cs:line-numbers=2027
	case EffectId.DamageMindGreat:
	case EffectId.Weaken:
	{
		bool flag9 = id == EffectId.DamageBody || id == EffectId.DamageBodyGreat; // [!code --]
		bool flag7 = id == EffectId.DamageBody || id == EffectId.DamageBodyGreat; // [!code ++]
		bool mind = id == EffectId.DamageMind || id == EffectId.DamageMindGreat;
		int num9 = ((id == EffectId.DamageBody || id == EffectId.DamageMind) ? 1 : (4 + EClass.rnd(4))); // [!code --]
		int num7 = ((id == EffectId.DamageBody || id == EffectId.DamageMind) ? 1 : (4 + EClass.rnd(4))); // [!code ++]
		if (id == EffectId.Weaken)
		{
			flag9 = EClass.rnd(2) == 0; // [!code --]
			mind = !flag9; // [!code --]
			num9 = 1; // [!code --]
			flag7 = EClass.rnd(2) == 0; // [!code ++]
			mind = !flag7; // [!code ++]
			num7 = 1; // [!code ++]
		}
		else
		{
			TC.PlayEffect("debuff");
			TC.PlaySound("debuff");
		}
		TC.Say(flag9 ? "damageBody" : "damageMind", TC); // [!code --]
		for (int k = 0; k < num9; k++) // [!code --]
		TC.Say(flag7 ? "damageBody" : "damageMind", TC); // [!code ++]
		for (int k = 0; k < num7; k++) // [!code ++]
		{
			TC.DamageTempElements(power, flag9, mind, id != EffectId.Weaken); // [!code --]
			TC.DamageTempElements(power, flag7, mind, id != EffectId.Weaken); // [!code ++]
		}
		if (TC.IsPC)
		{
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L2072-L2090)
```cs:line-numbers=2072
	case EffectId.RestoreBody:
	case EffectId.RestoreMind:
	{
		bool flag7 = id == EffectId.RestoreBody; // [!code --]
		bool flag8 = id == EffectId.RestoreBody; // [!code ++]
		if (flag)
		{
			Redirect(flag7 ? EffectId.DamageBodyGreat : EffectId.DamageMindGreat, BlessedState.Normal, default(ActRef)); // [!code --]
			Redirect(flag8 ? EffectId.DamageBodyGreat : EffectId.DamageMindGreat, BlessedState.Normal, default(ActRef)); // [!code ++]
			break;
		}
		TC.Say(flag7 ? "restoreBody" : "restoreMind", TC); // [!code --]
		TC.Say(flag8 ? "restoreBody" : "restoreMind", TC); // [!code ++]
		TC.PlaySound("heal");
		TC.PlayEffect("heal");
		TC.CureHost(flag7 ? CureType.CureBody : CureType.CureMind, power, state); // [!code --]
		TC.CureHost(flag8 ? CureType.CureBody : CureType.CureMind, power, state); // [!code ++]
		if (blessed)
		{
			Redirect(flag7 ? EffectId.EnhanceBodyGreat : EffectId.EnhanceMindGreat, BlessedState.Normal, default(ActRef)); // [!code --]
			Redirect(flag8 ? EffectId.EnhanceBodyGreat : EffectId.EnhanceMindGreat, BlessedState.Normal, default(ActRef)); // [!code ++]
		}
		break;
	}
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L2104-L2120)
```cs:line-numbers=2104
		{
			Debug.Log(actRef.act.id);
		}
		int num7 = Dice.Create((actRef.act != null && EClass.sources.calc.map.ContainsKey(actRef.act.ID)) ? actRef.act.ID : "SpHealLight", power, CC, (actRef.refThing != null) ? null : actRef.act).Roll(); // [!code --]
		int num12 = Dice.Create((actRef.act != null && EClass.sources.calc.map.ContainsKey(actRef.act.ID)) ? actRef.act.ID : "SpHealLight", power, CC, (actRef.refThing != null) ? null : actRef.act).Roll(); // [!code ++]
		if (actRef.refThing != null)
		{
			num7 = num7 * (100 + actRef.refThing.Evalue(750) * 10) / 100; // [!code --]
			num12 = num12 * (100 + actRef.refThing.Evalue(750) * 10) / 100; // [!code ++]
		}
		if (flag)
		{
			TC.DamageHP(num7 / 2, 919, power); // [!code --]
			TC.DamageHP(num12 / 2, 919, power); // [!code ++]
			break;
		}
		TC.HealHPHost(num7, (actRef.refThing == null && id != EffectId.JureHeal) ? HealSource.Magic : HealSource.Item); // [!code --]
		TC.HealHPHost(num12, (actRef.refThing == null && id != EffectId.JureHeal) ? HealSource.Magic : HealSource.Item); // [!code ++]
		TC.CureHost(CureType.Heal, power, state);
		TC.Say((power >= 300) ? "heal_heavy" : "heal_light", TC);
		break;
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L2218-L2225)
```cs:line-numbers=2218
		if (TC.HasElement(1211))
		{
			TC.Say("drinkSaltWater_snail", TC);
			int num12 = ((TC.hp > 10) ? (TC.hp - EClass.rnd(10)) : 10000); // [!code --]
			TC.DamageHP(num12, AttackSource.None, CC); // [!code --]
			int num11 = ((TC.hp > 10) ? (TC.hp - EClass.rnd(10)) : 10000); // [!code ++]
			TC.DamageHP(num11, AttackSource.None, CC); // [!code ++]
		}
		else if (TC.IsPC)
		{
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/ActEffect.cs#L2385-L2394)
```cs:line-numbers=2385
		{
			power /= 4;
		}
		List<Thing> list7 = TC.things.List((Thing t) => (t.Num <= 1 && t.IsEquipmentOrRanged && !t.IsToolbelt && !t.IsLightsource && t.isEquipped) ? true : false); // [!code --]
		if (list7.Count != 0) // [!code --]
		List<Thing> list8 = TC.things.List((Thing t) => (t.Num <= 1 && t.IsEquipmentOrRanged && !t.IsToolbelt && !t.IsLightsource && t.isEquipped) ? true : false); // [!code ++]
		if (list8.Count != 0) // [!code ++]
		{
			Thing thing5 = list7.RandomItem(); // [!code --]
			Thing thing5 = list8.RandomItem(); // [!code ++]
			TC.Say("acid_hit", TC);
			if (thing5.isAcidproof)
			{
```

## Chara

[`public Chara SetGlobal()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/Chara.cs#L1492-L1498)
```cs:line-numbers=1492

	public void RemoveGlobal()
	{
		if (IsGlobal && !(trait is TraitUniqueChara) && !base.IsUnique && !EClass.game.cards.listAdv.Contains(this)) // [!code --]
		if (IsGlobal) // [!code ++]
		{
			global = null;
			EClass.game.cards.globalCharas.Remove(this);
```

## EffectId

[`public enum EffectId`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/EffectId.cs#L129-L133)
```cs:line-numbers=129
	LittleSisterMigration = 305,
	ReturnVoid = 306,
	Bit = 307,
	Rocket = 308 // [!code --]
	Rocket = 308, // [!code ++]
	StripBlessing = 309 // [!code ++]
}
```

## FactionBranch

[`public void BanishMember(Chara c, bool skipMsg = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/FactionBranch.cs#L1499-L1504)
```cs:line-numbers=1499
	{
		Msg.Say("banish", c, EClass._zone.Name);
	}
	if (c.trait.RemoveGlobalOnBanish) // [!code ++]
	{ // [!code ++]
		c.RemoveGlobal(); // [!code ++]
	} // [!code ++]
	if (c.IsGlobal)
	{
		c.OnBanish();
```

[`public void RemoveMemeber(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/FactionBranch.cs#L1518-L1524)
```cs:line-numbers=1518
		c.currentZone.map.props.sales.Remove(c);
	}
	c.RefreshWorkElements();
	c.RemoveGlobal(); // [!code --]
	if (!(c.trait is TraitUniqueChara) && !c.IsUnique && !EClass.game.cards.listAdv.Contains(c)) // [!code ++]
	{ // [!code ++]
		c.RemoveGlobal(); // [!code ++]
	} // [!code ++]
	members.Remove(c);
	EClass.pc.faction.charaElements.OnRemoveMember(c);
	c.SetFaction(EClass.game.factions.Wilds);
```

## SPELL

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L2-L8)
```cs:line-numbers=2
{
	public const int hand_Impact = 50415;

	public const int hand_Void = 50416; // [!code --]
	public const int sword_Nether = 51006; // [!code ++]

	public const int bit_Nether = 51106;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L56-L66)
```cs:line-numbers=56

	public const int hand_Holy = 50409;

	public const int arrow_Void = 50516; // [!code --]
	public const int hand_Void = 50416; // [!code ++]

	public const int arrow_Holy = 50509;

	public const int sword_Nether = 51006; // [!code --]
	public const int arrow_Void = 50516; // [!code ++]

	public const int weapon_Nether = 50806;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L80-L89)
```cs:line-numbers=80

	public const int bit_Mind = 51104;

	public const int ball_Poison = 50105; // [!code --]
 // [!code --]
	public const int puddle_Void = 50916;

	public const int ball_Poison = 50105; // [!code ++]
 // [!code ++]
	public const int weapon_Void = 50816;

	public const int bolt_Poison = 50305;
```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L102-L111)
```cs:line-numbers=102

	public const int sword_Poison = 51005;

	public const int bit_Poison = 51105; // [!code --]
 // [!code --]
	public const int miasma_Void = 50716;

	public const int bit_Poison = 51105; // [!code ++]
 // [!code ++]
	public const int ball_Nether = 50106;

	public const int funnel_Void = 50616;
```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L258-L265)
```cs:line-numbers=258

	public const int bit_Darkness = 51103;

	public const int SpHealCritical = 8402; // [!code --]
 // [!code --]
	public const int SpHeal = 8403;

	public const int SpHealEris = 8404;
```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L292-L297)
```cs:line-numbers=292

	public const int SpHero = 8504;

	public const int SpResEle = 8506; // [!code ++]
 // [!code ++]
	public const int SpInvisibility = 8775; // [!code ++]
 // [!code ++]
	public const int SpTelepathy = 8770;

	public const int SpSpeedDown = 8710;
```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L302-L312)
```cs:line-numbers=302

	public const int SpBane = 8706;

	public const int SpNightmare = 8705; // [!code --]
	public const int SpHealCritical = 8402; // [!code ++]

	public const int SpHealHeavy = 8401; // [!code --]
	public const int SpNightmare = 8705; // [!code ++]

	public const int SpWeakResEle = 8704; // [!code --]
	public const int SpWeakness = 8702; // [!code ++]

	public const int SpSilence = 8700;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L318-L366)
```cs:line-numbers=318

	public const int SpBreath = 8507;

	public const int SpResEle = 8506; // [!code --]
 // [!code --]
	public const int SpWeakness = 8702; // [!code --]
	public const int SpWeakResEle = 8704; // [!code ++]

	public const int SpInvisibility = 8775; // [!code --]
	public const int SpHealHeavy = 8401; // [!code ++]

	public const int SpHealLight = 8400;

	public const int SpMutation = 8380; // [!code --]
	public const int SpWish = 8390; // [!code ++]

	public const int ball_ = 7001; // [!code --]
	public const int SpReturn = 8220; // [!code ++]

	public const int bolt_ = 7002; // [!code --]
	public const int SpGate = 8202; // [!code ++]

	public const int hand_ = 7003; // [!code --]
	public const int SpTeleportShort = 8201; // [!code ++]

	public const int arrow_ = 7004; // [!code --]
	public const int SpTeleport = 8200; // [!code ++]

	public const int funnel_ = 7005; // [!code --]
	public const int puddle_ = 7800; // [!code ++]

	public const int miasma_ = 7006; // [!code --]
	public const int bit_ = 7009; // [!code ++]

	public const int weapon_ = 7007; // [!code --]
	public const int SpEvac = 8221; // [!code ++]

	public const int sword_ = 7008;

	public const int bit_ = 7009; // [!code --]
	public const int miasma_ = 7006; // [!code ++]

	public const int puddle_ = 7800; // [!code --]
	public const int funnel_ = 7005; // [!code ++]

	public const int SpTeleport = 8200; // [!code --]
	public const int arrow_ = 7004; // [!code ++]

	public const int SpTeleportShort = 8201; // [!code --]
	public const int hand_ = 7003; // [!code ++]

	public const int SpGate = 8202; // [!code --]
	public const int bolt_ = 7002; // [!code ++]

	public const int SpReturn = 8220; // [!code --]
	public const int ball_ = 7001; // [!code ++]

	public const int SpEvac = 8221; // [!code --]
	public const int weapon_ = 7007; // [!code ++]
 // [!code ++]
	public const int SpSeeInvisible = 8776; // [!code ++]

	public const int SpIdentify = 8230;

	public const int SpIdentifyG = 8232; // [!code --]
	public const int SpUncurse = 8240; // [!code ++]
 // [!code ++]
	public const int SpMutation = 8380; // [!code ++]

	public const int SpLevitate = 8300;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L372-L382)
```cs:line-numbers=372

	public const int SpChangeMaterialLesser = 8284;

	public const int SpFaith = 8281; // [!code --]
	public const int SpIdentifyG = 8232; // [!code ++]

	public const int SpWish = 8390; // [!code --]
	public const int SpFaith = 8281; // [!code ++]

	public const int SpLighten = 8280; // [!code --]
	public const int SpMagicMap = 8260; // [!code ++]

	public const int SpEnchantArmorGreat = 8256;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L388-L402)
```cs:line-numbers=388

	public const int SpUncurseG = 8241;

	public const int SpUncurse = 8240; // [!code --]
 // [!code --]
	public const int SpMagicMap = 8260; // [!code --]
	public const int SpLighten = 8280; // [!code ++]

	public const int SpSeeInvisible = 8776; // [!code --]
	public const int ball_Mind = 50104; // [!code ++]

	public const int SpIncognito = 8780;

	public const int SpTransmuteBroom = 8790; // [!code --]
	public const int SpTransmutePutit = 8791; // [!code ++]

	public const int puddle_Fire = 50900;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L468-L473)
```cs:line-numbers=468

	public const int arrow_Fire = 50500;

	public const int SpSummonShubKid = 9010; // [!code ++]
 // [!code ++]
	public const int SpSummonTako = 9009;

	public const int SpSummonFish = 9008;
```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L478-L488)
```cs:line-numbers=478

	public const int SpSummonPawn = 9005;

	public const int SpSummonMonster = 9004; // [!code --]
	public const int SpSummonShadow = 9050; // [!code ++]

	public const int SpSummonShubKid = 9010; // [!code --]
	public const int SpSummonMonster = 9004; // [!code ++]

	public const int SpSummonTentacle = 9003; // [!code --]
	public const int SpSummonFire = 9002; // [!code ++]

	public const int SpSummonUndeadSister = 9001;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L494-L508)
```cs:line-numbers=494

	public const int SpTransmuteCat = 8792;

	public const int SpTransmutePutit = 8791; // [!code --]
 // [!code --]
	public const int SpSummonFire = 9002; // [!code --]
	public const int SpSummonTentacle = 9003; // [!code ++]

	public const int ball_Mind = 50104; // [!code --]
	public const int SpTransmuteBroom = 8790; // [!code ++]

	public const int SpSummonShadow = 9050; // [!code --]
	public const int SpSummonTidalWave = 9051; // [!code ++]

	public const int SpSummonTrooper = 9052; // [!code --]
	public const int SpMeteor = 9150; // [!code ++]

	public const int hand_Fire = 50400;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L516-L525)
```cs:line-numbers=516

	public const int SpDrawMetal = 9502;

	public const int SpSummonTidalWave = 9051; // [!code --]
	public const int SpSummonTrooper = 9052; // [!code ++]

	public const int SpDrawMonster = 9501;

	public const int SpStripBlessing = 9210; // [!code ++]
 // [!code ++]
	public const int SpShutterHex = 9200;

	public const int SpExterminate = 9160;
```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/SPELL.cs#L530-L570)
```cs:line-numbers=530

	public const int SpEarthquake = 9151;

	public const int SpMeteor = 9150; // [!code --]
 // [!code --]
	public const int SpWardMonster = 9500;

	public const int bit_Void = 51116;

	public static readonly int[] IDS = new int[268] // [!code --]
	public static readonly int[] IDS = new int[269] // [!code ++]
	{
		50415, 50416, 51106, 50107, 50316, 50307, 50407, 50507, 50607, 50707, // [!code --]
		50415, 51006, 51106, 50107, 50316, 50307, 50407, 50507, 50607, 50707, // [!code ++]
		50807, 50907, 51007, 51107, 50108, 50308, 50408, 50508, 50608, 50708,
		50808, 50908, 51008, 51108, 50109, 50116, 50309, 50409, 50516, 50509, // [!code --]
		51006, 50806, 50404, 50504, 50604, 50704, 50804, 50904, 51004, 51104, // [!code --]
		50105, 50916, 50816, 50305, 50405, 50906, 50505, 50705, 50805, 50905, // [!code --]
		51005, 51105, 50716, 50106, 50616, 50306, 50406, 50506, 50606, 50706, // [!code --]
		50808, 50908, 51008, 51108, 50109, 50116, 50309, 50409, 50416, 50509, // [!code ++]
		50516, 50806, 50404, 50504, 50604, 50704, 50804, 50904, 51004, 51104, // [!code ++]
		50916, 50105, 50816, 50305, 50405, 50906, 50505, 50705, 50805, 50905, // [!code ++]
		51005, 50716, 51105, 50106, 50616, 50306, 50406, 50506, 50606, 50706, // [!code ++]
		50605, 50609, 50709, 50809, 50912, 51012, 51112, 50113, 50815, 50304,
		50413, 50513, 50613, 50713, 50813, 50913, 51013, 50812, 51113, 50715,
		50314, 50414, 50514, 50614, 50714, 50814, 50914, 51014, 51114, 50115,
		50615, 50315, 50114, 50712, 50612, 50512, 50909, 51009, 51109, 50110,
		51115, 50310, 50410, 50510, 50610, 50710, 50810, 50910, 51010, 51110,
		50111, 51015, 50311, 50411, 50511, 50611, 50711, 50811, 50911, 51011,
		51111, 50112, 50915, 50312, 50412, 50515, 50313, 50101, 51103, 8402, // [!code --]
		8403, 8404, 8405, 8406, 8430, 8450, 8470, 8471, 8480, 8490, // [!code --]
		8491, 8500, 8501, 8502, 8503, 8504, 8770, 8710, 8708, 8707, // [!code --]
		8706, 8705, 8401, 8704, 8700, 8555, 8550, 8510, 8507, 8506, // [!code --]
		8702, 8775, 8400, 8380, 7001, 7002, 7003, 7004, 7005, 7006, // [!code --]
		7007, 7008, 7009, 7800, 8200, 8201, 8202, 8220, 8221, 8230, // [!code --]
		8232, 8300, 8288, 8286, 8285, 8284, 8281, 8390, 8280, 8256, // [!code --]
		8255, 8251, 8250, 8241, 8240, 8260, 8776, 8780, 8790, 50900, // [!code --]
		51000, 51100, 50301, 50401, 50501, 50601, 50701, 50801, 50901, 51001, // [!code --]
		51101, 50102, 50302, 50402, 50502, 50602, 51003, 50903, 50803, 50703, // [!code --]
		50603, 50503, 50800, 50403, 50103, 51102, 51002, 50902, 50802, 50702, // [!code --]
		50303, 50700, 50600, 50500, 9009, 9008, 9007, 9006, 9005, 9004, // [!code --]
		9010, 9003, 9001, 9000, 8801, 8800, 8792, 8791, 9002, 50104, // [!code --]
		9050, 9052, 50400, 50300, 51016, 50100, 9503, 9502, 9051, 9501, // [!code --]
		9200, 9160, 9156, 9155, 9151, 9150, 9500, 51116 // [!code --]
		51111, 50112, 50915, 50312, 50412, 50515, 50313, 50101, 51103, 8403, // [!code ++]
		8404, 8405, 8406, 8430, 8450, 8470, 8471, 8480, 8490, 8491, // [!code ++]
		8500, 8501, 8502, 8503, 8504, 8506, 8775, 8770, 8710, 8708, // [!code ++]
		8707, 8706, 8402, 8705, 8702, 8700, 8555, 8550, 8510, 8507, // [!code ++]
		8704, 8401, 8400, 8390, 8220, 8202, 8201, 8200, 7800, 7009, // [!code ++]
		8221, 7008, 7006, 7005, 7004, 7003, 7002, 7001, 7007, 8776, // [!code ++]
		8230, 8240, 8380, 8300, 8288, 8286, 8285, 8284, 8232, 8281, // [!code ++]
		8260, 8256, 8255, 8251, 8250, 8241, 8280, 50104, 8780, 8791, // [!code ++]
		50900, 51000, 51100, 50301, 50401, 50501, 50601, 50701, 50801, 50901, // [!code ++]
		51001, 51101, 50102, 50302, 50402, 50502, 50602, 51003, 50903, 50803, // [!code ++]
		50703, 50603, 50503, 50800, 50403, 50103, 51102, 51002, 50902, 50802, // [!code ++]
		50702, 50303, 50700, 50600, 50500, 9010, 9009, 9008, 9007, 9006, // [!code ++]
		9005, 9050, 9004, 9002, 9001, 9000, 8801, 8800, 8792, 9003, // [!code ++]
		8790, 9051, 9150, 50400, 50300, 51016, 50100, 9503, 9502, 9052, // [!code ++]
		9501, 9210, 9200, 9160, 9156, 9155, 9151, 9500, 51116 // [!code ++]
	};
}
public class Spell : Ability
```

## Trait

[`public virtual int CostRerollShop`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/Trait.cs#L553-L558)
```cs:line-numbers=553

	public virtual string LangBarter => "daBuy";

	public virtual bool RemoveGlobalOnBanish => false; // [!code ++]
 // [!code ++]
	public string TextNextRestock => GetTextRestock(LangBarter, pet: false);

	public string TextNextRestockPet => GetTextRestock((SlaverType == SlaverType.Slave) ? "daBuySlave" : "daBuyPet", pet: true);
```

## TraitBigDaddy

[`public override int MaxRandomAbility`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/TraitBigDaddy.cs#L13-L16)
```cs:line-numbers=13
			return 3;
		}
	}
 // [!code ++]
	public override bool RemoveGlobalOnBanish => true; // [!code ++]
}
```

## TraitLittleOne

[`public class TraitLittleOne : TraitChara`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2cee145742e371ab6e03638433a14ff5664bb66f/Elin/TraitLittleOne.cs#L5-L8)
```cs:line-numbers=5
	public override bool CanInvite => false;

	public override bool IsCountAsResident => true;
 // [!code ++]
	public override bool RemoveGlobalOnBanish => true; // [!code ++]
}
```
