---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 15 files modified.
version: EA 23.256 Nightly Patch 1
changes: ActEffect/CardFilter/Chara/FEAT/FOOD/InvOwnerEffect/InvOwnerReconstruction/LayerDragGrid/LayerPeople/ListOwner/MUTATION/POLICY/TraitBed/TraitShackle/Zone
---

# EA 23.256 Nightly Patch 1

January 7, 2026

15 files modified.

## Important Changes

Possible breaking changes. Click the filename to view the chunk.
### [CardFilter (1)](#cardfilter)
```cs:no-line-numbers
public static FilterItem GetFilterItem(string text) // [!code --]

```
### [LayerDragGrid (1)](#layerdraggrid)
```cs:no-line-numbers
public static LayerDragGrid CreateReconstruction(Chara cc, BlessedState state = BlessedState.Normal, int price = 0, int count = 1) // [!code --]
public static LayerDragGrid CreateReconstruction(Chara cc, BlessedState state = BlessedState.Normal, int power = 100, int price = 0, int count = 1) // [!code ++]
```
## ActEffect

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L1349-L1355)
```cs:line-numbers=1349
	{
		if (!tc.isThing)
		{
			LayerDragGrid.CreateReconstruction(CC, state); // [!code --]
			LayerDragGrid.CreateReconstruction(CC, state, power); // [!code ++]
			return;
		}
		if (tc.Num > 1)
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L1580-L1594)
```cs:line-numbers=1580
		break;
	case EffectId.StripBlessing:
	{
		List<Condition> list9 = new List<Condition>(); // [!code --]
		List<Condition> list4 = new List<Condition>(); // [!code ++]
		foreach (Condition condition4 in TC.conditions)
		{
			if (GetBlessingDifficulty(condition4) > 0 && EClass.rnd(GetBlessingDifficulty(condition4)) == 0)
			{
				list9.Add(condition4); // [!code --]
				list4.Add(condition4); // [!code ++]
			}
		}
		if (list9.Count == 0) // [!code --]
		if (list4.Count == 0) // [!code ++]
		{
			CC.SayNothingHappans();
			break;
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L1596-L1604)
```cs:line-numbers=1596
		TC.pos.PlayEffect("holyveil");
		TC.pos.PlaySound("holyveil");
		TC.Say("unpolluted", TC);
		list9.Shuffle(); // [!code --]
		list4.Shuffle(); // [!code ++]
		{
			foreach (Condition item4 in list9) // [!code --]
			foreach (Condition item4 in list4) // [!code ++]
			{
				item4.Kill();
				if (CC.IsHostile(TC))
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L1715-L1740)
```cs:line-numbers=1715
			TC.Say((actRef.n1 == "money") ? "abStealNegateMoney" : "abStealNegate", TC);
			break;
		}
		Thing thing5 = null; // [!code --]
		bool flag7 = actRef.n1 == "food"; // [!code --]
		Thing thing6 = null; // [!code ++]
		bool flag9 = actRef.n1 == "food"; // [!code ++]
		if (actRef.n1 == "money")
		{
			int currency = TC.GetCurrency();
			if (currency > 0)
			{
				currency = Mathf.Clamp(EClass.rnd(currency / 10), 1, 100 + EClass.rndHalf(CC.LV * 200));
				thing5 = ThingGen.Create("money").SetNum(currency); // [!code --]
				thing6 = ThingGen.Create("money").SetNum(currency); // [!code ++]
				TC.ModCurrency(-currency);
			}
		}
		else
		{
			Func<Thing, bool> func = (Thing t) => true;
			if (flag7) // [!code --]
			if (flag9) // [!code ++]
			{
				func = (Thing t) => t.IsFood;
			}
			List<Thing> list5 = TC.things.List(delegate(Thing t) // [!code --]
			List<Thing> list9 = TC.things.List(delegate(Thing t) // [!code ++]
			{
				if (t.parentCard?.trait is TraitChestMerchant || t.trait is TraitTool || t.IsThrownWeapon)
				{
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L1742-L1771)
```cs:line-numbers=1742
				}
				return t.trait.CanBeDestroyed && t.things.Count == 0 && t.invY != 1 && t.trait.CanBeStolen && !t.trait.CanOnlyCarry && !t.IsUnique && !t.isEquipped && t.blessedState == BlessedState.Normal && func(t);
			}, onlyAccessible: true);
			if (list5.Count > 0) // [!code --]
			if (list9.Count > 0) // [!code ++]
			{
				thing5 = list5.RandomItem(); // [!code --]
				if (thing5.Num > 1) // [!code --]
				thing6 = list9.RandomItem(); // [!code ++]
				if (thing6.Num > 1) // [!code ++]
				{
					thing5 = thing5.Split(1); // [!code --]
					thing6 = thing6.Split(1); // [!code ++]
				}
			}
			CC.AddCooldown(6640, 200);
		}
		if (thing5 == null) // [!code --]
		if (thing6 == null) // [!code ++]
		{
			CC.Say("abStealNothing", CC, TC);
			break;
		}
		thing5.SetInt(116, 1); // [!code --]
		TC.PlaySound(thing5.material.GetSoundDrop(thing5.sourceCard)); // [!code --]
		CC.Pick(thing5, msg: false); // [!code --]
		CC.Say("abSteal", CC, TC, thing5.Name); // [!code --]
		thing6.SetInt(116, 1); // [!code ++]
		TC.PlaySound(thing6.material.GetSoundDrop(thing6.sourceCard)); // [!code ++]
		CC.Pick(thing6, msg: false); // [!code ++]
		CC.Say("abSteal", CC, TC, thing6.Name); // [!code ++]
		if (actRef.n1 == "food")
		{
			if (CC.hunger.value != 0)
			{
				CC.InstantEat(thing5); // [!code --]
				CC.InstantEat(thing6); // [!code ++]
			}
		}
		else
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L1790-L1796)
```cs:line-numbers=1790
		{
			break;
		}
		List<Thing> list4 = TC.things.List(delegate(Thing t) // [!code --]
		List<Thing> list5 = TC.things.List(delegate(Thing t) // [!code ++]
		{
			if (!t.isEquipped || t.blessedState == BlessedState.Doomed || t.IsToolbelt)
			{
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L1798-L1809)
```cs:line-numbers=1798
			}
			return (t.blessedState < BlessedState.Blessed || EClass.rnd(10) == 0) ? true : false;
		});
		if (list4.Count == 0) // [!code --]
		if (list5.Count == 0) // [!code ++]
		{
			CC.SayNothingHappans();
			break;
		}
		Thing thing4 = list4.RandomItem(); // [!code --]
		Thing thing4 = list5.RandomItem(); // [!code ++]
		TC.Say("curse_hit", TC, thing4);
		thing4.SetBlessedState((thing4.blessedState == BlessedState.Cursed) ? BlessedState.Doomed : BlessedState.Cursed);
		LayerInventory.SetDirty(thing4);
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L1888-L1905)
```cs:line-numbers=1888
				text3 = text4;
			}
		}
		Condition condition2 = Condition.Create(text3, power, delegate(Condition con) // [!code --]
		Condition condition = Condition.Create(text3, power, delegate(Condition con) // [!code ++]
		{
			if (!actRef.aliasEle.IsEmpty())
			{
				con.SetElement(EClass.sources.elements.alias[actRef.aliasEle].id);
			}
		});
		condition2.isPerfume = TC.IsPC && actRef.isPerfume; // [!code --]
		Condition condition3 = TC.AddCondition(condition2); // [!code --]
		if (condition3 != null && condition3.isPerfume) // [!code --]
		condition.isPerfume = TC.IsPC && actRef.isPerfume; // [!code ++]
		Condition condition2 = TC.AddCondition(condition); // [!code ++]
		if (condition2 != null && condition2.isPerfume) // [!code ++]
		{
			condition3.value = 3; // [!code --]
			condition2.value = 3; // [!code ++]
			Msg.Say("perfume", TC);
		}
		if (!text4.IsEmpty())
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L1912-L1923)
```cs:line-numbers=1912
	{
		EClass.game.religions.Trickery.Talk("ability");
		bool hex = CC.IsHostile(TC);
		List<SourceStat.Row> list6 = EClass.sources.stats.rows.Where((SourceStat.Row con) => con.tag.Contains("random") && con.group == (hex ? "Debuff" : "Buff")).ToList(); // [!code --]
		List<SourceStat.Row> list7 = EClass.sources.stats.rows.Where((SourceStat.Row con) => con.tag.Contains("random") && con.group == (hex ? "Debuff" : "Buff")).ToList(); // [!code ++]
		int power2 = power;
		for (int k = 0; k < 4 + EClass.rnd(2); k++)
		{
			SourceStat.Row row2 = list6.RandomItem(); // [!code --]
			list6.Remove(row2); // [!code --]
			SourceStat.Row row2 = list7.RandomItem(); // [!code ++]
			list7.Remove(row2); // [!code ++]
			Proc(hex ? EffectId.DebuffKizuami : EffectId.Buff, CC, TC, power2, new ActRef
			{
				n1 = row2.alias
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L1940-L1952)
```cs:line-numbers=1940
			power = power * 2 / 3;
		}
		int a2 = power;
		int num7 = TC.WIL * (isPowerful ? 20 : 5); // [!code --]
		ConHolyVeil condition = TC.GetCondition<ConHolyVeil>(); // [!code --]
		if (condition != null) // [!code --]
		int num10 = TC.WIL * (isPowerful ? 20 : 5); // [!code ++]
		ConHolyVeil condition3 = TC.GetCondition<ConHolyVeil>(); // [!code ++]
		if (condition3 != null) // [!code ++]
		{
			num7 += condition.power * 5; // [!code --]
			num10 += condition3.power * 5; // [!code ++]
		}
		if (id != EffectId.DebuffKizuami && EClass.rnd(a2) < num7 / EClass.sources.stats.alias[n].hexPower && EClass.rnd(10) != 0) // [!code --]
		if (id != EffectId.DebuffKizuami && EClass.rnd(a2) < num10 / EClass.sources.stats.alias[n].hexPower && EClass.rnd(10) != 0) // [!code ++]
		{
			TC.Say("debuff_resist", TC);
			CC.DoHostileAction(TC);
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L2053-L2068)
```cs:line-numbers=2053
		tc.bio.SetGender(gender2);
		tc.Say("transGender", tc, Gender.Name(tc.bio.gender));
		tc.Talk("tail");
		int age = tc.bio.GetAge(tc.Chara); // [!code --]
		if (blessed && age > 1) // [!code --]
		int age3 = tc.bio.GetAge(tc.Chara); // [!code ++]
		if (blessed && age3 > 1) // [!code ++]
		{
			tc.Say("ageDown", tc);
			tc.bio.SetAge(tc.Chara, age - 1); // [!code --]
			tc.bio.SetAge(tc.Chara, age3 - 1); // [!code ++]
		}
		else if (flag)
		{
			tc.Say("ageUp", tc);
			tc.bio.SetAge(tc.Chara, age + 1); // [!code --]
			tc.bio.SetAge(tc.Chara, age3 + 1); // [!code ++]
		}
		break;
	}
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L2070-L2104)
```cs:line-numbers=2070
	{
		tc.PlaySound("mutation");
		tc.PlayEffect("mutation");
		int num8 = ((actRef.refThing != null) ? actRef.refThing.GetInt(118) : actRef.refVal); // [!code --]
		if (num8 == 0) // [!code --]
		int num11 = ((actRef.refThing != null) ? actRef.refThing.GetInt(118) : actRef.refVal); // [!code ++]
		if (num11 == 0) // [!code ++]
		{
			num8 = tc.GetInt(118); // [!code --]
			if (num8 == 0) // [!code --]
			num11 = tc.GetInt(118); // [!code ++]
			if (num11 == 0) // [!code ++]
			{
				num8 = EClass.game.seed + tc.uid; // [!code --]
				num11 = EClass.game.seed + tc.uid; // [!code ++]
			}
			num8++; // [!code --]
			num11++; // [!code ++]
		}
		tc.Say("transBlood", tc);
		tc.Talk("tail");
		tc.c_bloodData = null;
		tc.SetInt(118, num8); // [!code --]
		tc.SetInt(118, num11); // [!code ++]
		break;
	}
	case EffectId.Youth:
	{
		tc.PlaySound("mutation");
		tc.PlayEffect("mutation");
		int age3 = tc.bio.GetAge(tc.Chara); // [!code --]
		if (!flag && age3 <= 0) // [!code --]
		int age = tc.bio.GetAge(tc.Chara); // [!code ++]
		if (!flag && age <= 0) // [!code ++]
		{
			tc.SayNothingHappans();
			break;
		}
		age3 = Mathf.Max(0, age3 * 100 / (flag ? 75 : (blessed ? 400 : 200))) + (flag ? 1 : 0); // [!code --]
		age = Mathf.Max(0, age * 100 / (flag ? 75 : (blessed ? 400 : 200))) + (flag ? 1 : 0); // [!code ++]
		tc.Say(flag ? "ageUp" : "ageDown", tc);
		tc.bio.SetAge(tc.Chara, age3); // [!code --]
		tc.bio.SetAge(tc.Chara, age); // [!code ++]
		break;
	}
	case EffectId.EternalYouth:
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L2147-L2152)
```cs:line-numbers=2147
		{
			EClass.game.religions.Wind.Talk("ability");
		}
		if (flag) // [!code ++]
		{ // [!code ++]
			if (id == EffectId.BuffStats) // [!code ++]
			{ // [!code ++]
				id = EffectId.DebuffStats; // [!code ++]
			} // [!code ++]
			else if (id == EffectId.DebuffStats) // [!code ++]
			{ // [!code ++]
				id = EffectId.BuffStats; // [!code ++]
			} // [!code ++]
		} // [!code ++]
		if (power < 0 || id == EffectId.DebuffStats)
		{
			power = Mathf.Abs(power);
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L2187-L2198)
```cs:line-numbers=2187
	{
		bool flag10 = id == EffectId.DamageBody || id == EffectId.DamageBodyGreat;
		bool mind2 = id == EffectId.DamageMind || id == EffectId.DamageMindGreat;
		int num11 = ((id == EffectId.DamageBody || id == EffectId.DamageMind) ? 1 : (4 + EClass.rnd(4))); // [!code --]
		int num9 = ((id == EffectId.DamageBody || id == EffectId.DamageMind) ? 1 : (4 + EClass.rnd(4))); // [!code ++]
		if (id == EffectId.Weaken)
		{
			flag10 = EClass.rnd(2) == 0;
			mind2 = !flag10;
			num11 = 1; // [!code --]
			num9 = 1; // [!code ++]
		}
		else
		{
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L2200-L2206)
```cs:line-numbers=2200
			TC.PlaySound("debuff");
		}
		TC.Say(flag10 ? "damageBody" : "damageMind", TC);
		for (int l = 0; l < num11; l++) // [!code --]
		for (int l = 0; l < num9; l++) // [!code ++]
		{
			TC.DamageTempElements(power, flag10, mind2, id != EffectId.Weaken);
		}
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L2215-L2248)
```cs:line-numbers=2215
	case EffectId.EnhanceBodyGreat:
	case EffectId.EnhanceMindGreat:
	{
		bool flag8 = id == EffectId.EnhanceBody || id == EffectId.EnhanceBodyGreat; // [!code --]
		bool flag7 = id == EffectId.EnhanceBody || id == EffectId.EnhanceBodyGreat; // [!code ++]
		bool mind = id == EffectId.EnhanceMind || id == EffectId.EnhanceMindGreat;
		if (id != EffectId.EnhanceBody && id != EffectId.EnhanceMind)
		{
			EClass.rnd(4);
		}
		TC.Say(flag8 ? "enhanceBody" : "enhanceMind", TC); // [!code --]
		TC.Say(flag7 ? "enhanceBody" : "enhanceMind", TC); // [!code ++]
		TC.PlayEffect("buff");
		TC.PlaySound("buff");
		TC.EnhanceTempElements(power, flag8, mind, onlyRenew: true); // [!code --]
		TC.EnhanceTempElements(power, flag7, mind, onlyRenew: true); // [!code ++]
		break;
	}
	case EffectId.RestoreBody:
	case EffectId.RestoreMind:
	{
		bool flag9 = id == EffectId.RestoreBody; // [!code --]
		bool flag8 = id == EffectId.RestoreBody; // [!code ++]
		if (flag)
		{
			Redirect(flag9 ? EffectId.DamageBodyGreat : EffectId.DamageMindGreat, BlessedState.Normal, default(ActRef)); // [!code --]
			Redirect(flag8 ? EffectId.DamageBodyGreat : EffectId.DamageMindGreat, BlessedState.Normal, default(ActRef)); // [!code ++]
			break;
		}
		TC.Say(flag9 ? "restoreBody" : "restoreMind", TC); // [!code --]
		TC.Say(flag8 ? "restoreBody" : "restoreMind", TC); // [!code ++]
		TC.PlaySound("heal");
		TC.PlayEffect("heal");
		TC.CureHost(flag9 ? CureType.CureBody : CureType.CureMind, power, state); // [!code --]
		TC.CureHost(flag8 ? CureType.CureBody : CureType.CureMind, power, state); // [!code ++]
		if (blessed)
		{
			Redirect(flag9 ? EffectId.EnhanceBodyGreat : EffectId.EnhanceMindGreat, BlessedState.Normal, default(ActRef)); // [!code --]
			Redirect(flag8 ? EffectId.EnhanceBodyGreat : EffectId.EnhanceMindGreat, BlessedState.Normal, default(ActRef)); // [!code ++]
		}
		break;
	}
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L2258-L2274)
```cs:line-numbers=2258
		{
			EClass.game.religions.Healing.Talk("ability");
		}
		int num10 = Dice.Create((actRef.act != null && EClass.sources.calc.map.ContainsKey(actRef.act.ID)) ? actRef.act.ID : "SpHealLight", power, CC, (actRef.refThing != null) ? null : actRef.act).Roll(); // [!code --]
		int num8 = Dice.Create((actRef.act != null && EClass.sources.calc.map.ContainsKey(actRef.act.ID)) ? actRef.act.ID : "SpHealLight", power, CC, (actRef.refThing != null) ? null : actRef.act).Roll(); // [!code ++]
		if (actRef.refThing != null)
		{
			num10 = num10 * (100 + actRef.refThing.Evalue(750) * 10) / 100; // [!code --]
			num8 = num8 * (100 + actRef.refThing.Evalue(750) * 10) / 100; // [!code ++]
		}
		if (flag)
		{
			TC.DamageHP(num10 / 2, 919, power); // [!code --]
			TC.DamageHP(num8 / 2, 919, power); // [!code ++]
			break;
		}
		TC.HealHPHost(num10, (actRef.refThing == null && id != EffectId.JureHeal) ? HealSource.Magic : HealSource.Item); // [!code --]
		TC.HealHPHost(num8, (actRef.refThing == null && id != EffectId.JureHeal) ? HealSource.Magic : HealSource.Item); // [!code ++]
		TC.CureHost(CureType.Heal, power, state);
		TC.Say((power >= 300) ? "heal_heavy" : "heal_light", TC);
		break;
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L2372-L2379)
```cs:line-numbers=2372
		if (TC.HasElement(1211))
		{
			TC.Say("drinkSaltWater_snail", TC);
			int num9 = ((TC.hp > 10) ? (TC.hp - EClass.rnd(10)) : 10000); // [!code --]
			TC.DamageHP(num9, AttackSource.None, CC); // [!code --]
			int num7 = ((TC.hp > 10) ? (TC.hp - EClass.rnd(10)) : 10000); // [!code ++]
			TC.DamageHP(num7, AttackSource.None, CC); // [!code ++]
		}
		else if (TC.IsPC)
		{
```

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ActEffect.cs#L2539-L2558)
```cs:line-numbers=2539
		{
			power /= 4;
		}
		List<Thing> list7 = TC.things.List((Thing t) => (t.Num <= 1 && t.IsEquipmentOrRanged && !t.IsToolbelt && !t.IsLightsource && t.isEquipped) ? true : false); // [!code --]
		if (list7.Count != 0) // [!code --]
		List<Thing> list6 = TC.things.List((Thing t) => (t.Num <= 1 && t.IsEquipmentOrRanged && !t.IsToolbelt && !t.IsLightsource && t.isEquipped) ? true : false); // [!code ++]
		if (list6.Count != 0) // [!code ++]
		{
			Thing thing6 = list7.RandomItem(); // [!code --]
			Thing thing5 = list6.RandomItem(); // [!code ++]
			TC.Say("acid_hit", TC);
			if (thing6.isAcidproof) // [!code --]
			if (thing5.isAcidproof) // [!code ++]
			{
				TC.Say("acid_nullify", thing6); // [!code --]
				TC.Say("acid_nullify", thing5); // [!code ++]
			}
			else if (thing6.encLV > -5) // [!code --]
			else if (thing5.encLV > -5) // [!code ++]
			{
				TC.Say("acid_rust", TC, thing6); // [!code --]
				thing6.ModEncLv(-1); // [!code --]
				LayerInventory.SetDirty(thing6); // [!code --]
				TC.Say("acid_rust", TC, thing5); // [!code ++]
				thing5.ModEncLv(-1); // [!code ++]
				LayerInventory.SetDirty(thing5); // [!code ++]
			}
			if (TC.IsPCParty)
			{
```

## CardFilter

[`public class FilterItem`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/CardFilter.cs#L8-L13)
```cs:line-numbers=8
	{
		public bool exclude;

		public bool supersede; // [!code ++]
 // [!code ++]
		public string name;
	}

```

[`public bool Pass(CardRow source)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/CardFilter.cs#L103-L120)
```cs:line-numbers=103
	for (int i = 0; i < tags.Count; i++)
	{
		FilterItem filterItem = tags[i];
		if (filterItem.exclude) // [!code --]
		if (filterItem.supersede) // [!code ++]
		{ // [!code ++]
			if (ContainsTag(source, filterItem.name)) // [!code ++]
			{ // [!code ++]
				flag = true; // [!code ++]
				break; // [!code ++]
			} // [!code ++]
		} // [!code ++]
		else if (filterItem.exclude) // [!code ++]
		{
			if (ContainsTag(source, filterItem.name))
			{
				return false;
			}
			continue; // [!code --]
		}
		flag2 = true; // [!code --]
		if (!flag && ContainsTag(source, filterItem.name)) // [!code --]
		else // [!code ++]
		{
			flag = true; // [!code --]
			flag2 = true; // [!code ++]
			if (!flag && ContainsTag(source, filterItem.name)) // [!code ++]
			{ // [!code ++]
				flag = true; // [!code ++]
			} // [!code ++]
		}
	}
	if (flag2 && !flag)
```

[`public bool Pass(CardRow source)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/CardFilter.cs#L124-L129)
```cs:line-numbers=124
	for (int j = 0; j < filters.Count; j++)
	{
		FilterItem filterItem2 = filters[j];
		if (filterItem2.supersede) // [!code ++]
		{ // [!code ++]
			break; // [!code ++]
		} // [!code ++]
		if (filterItem2.exclude)
		{
			if (source.filter.Contains(filterItem2.name))
```

[`public bool Pass(CardRow source)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/CardFilter.cs#L168-L189)
```cs:line-numbers=168

	public void BuildList(List<FilterItem> list, string[] strs)
	{
		if (strs != null) // [!code --]
		if (strs == null) // [!code ++]
		{ // [!code ++]
			return; // [!code ++]
		} // [!code ++]
		foreach (string text in strs) // [!code ++]
		{
			foreach (string text in strs) // [!code --]
			if (text.Length != 0) // [!code ++]
			{
				list.Add(GetFilterItem(text)); // [!code --]
				FilterItem filterItem = new FilterItem(); // [!code ++]
				_ = text[0]; // [!code ++]
				switch (text[0]) // [!code ++]
				{ // [!code ++]
				case '*': // [!code ++]
					filterItem.supersede = true; // [!code ++]
					filterItem.name = text.Substring(1); // [!code ++]
					break; // [!code ++]
				case '-': // [!code ++]
					filterItem.exclude = true; // [!code ++]
					filterItem.name = text.Substring(1); // [!code ++]
					break; // [!code ++]
				default: // [!code ++]
					filterItem.name = text; // [!code ++]
					break; // [!code ++]
				} // [!code ++]
				list.Add(filterItem); // [!code ++]
			}
		}
	}
 // [!code --]
	public static FilterItem GetFilterItem(string text) // [!code --]
	{ // [!code --]
		bool flag = text.StartsWith("-"); // [!code --]
		return new FilterItem // [!code --]
		{ // [!code --]
			exclude = flag, // [!code --]
			name = (flag ? text.Substring(1) : text) // [!code --]
		}; // [!code --]
	} // [!code --]
}
```

## Chara

[`public void RefreshSpeed(Element.BonusInfo info = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/Chara.cs#L1906-L1919)
```cs:line-numbers=1906
		info?.AddText("minSpeed".lang((elements.ValueWithoutLink(79) / 3).ToString() ?? ""));
	}
	int num = 100;
	if (EClass._zone.map != null && EClass._zone.IsUnderwater) // [!code --]
	if (EClass._zone.map != null && (EClass._zone.IsUnderwater || (base.Cell.IsTopWater && !base.Cell.isFloating))) // [!code ++]
	{
		int num2 = Evalue(200);
		num = 50 + Mathf.Clamp((int)Mathf.Sqrt(num2) * 5 - EClass._zone.DangerLv / 50, 0, 50) + Mathf.Clamp((int)Mathf.Sqrt(num2), 0, 25); // [!code --]
		int num3 = Evalue(1252); // [!code ++]
		num = 50 + Mathf.Clamp((int)Mathf.Sqrt(num2) * 5 - EClass._zone.DangerLv / 50, (num3 > 0) ? 50 : 0, 50) + Mathf.Clamp((int)Mathf.Sqrt(num2), 0, 25); // [!code ++]
		if (info != null && num != 100)
		{
			info.AddFix(num - 100, EClass.sources.elements.map[200].GetName().ToTitleCase());
		}
		if (num3 > 0) // [!code ++]
		{ // [!code ++]
			num += num3 * 20; // [!code ++]
			info?.AddFix(num3 * 20, EClass.sources.elements.map[1252].GetName().ToTitleCase()); // [!code ++]
		} // [!code ++]
	}
	if (IsPCFaction)
	{
```

[`public override MoveResult _Move(Point newPoint, MoveType type = MoveType.Walk)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/Chara.cs#L3165-L3170)
```cs:line-numbers=3165
			EClass.pc.SetPCCState(PCCState.ShoesOff);
		}
	}
	bool flag6 = flag4 || EClass._zone.IsUnderwater; // [!code ++]
	if (wasInWater != flag6) // [!code ++]
	{ // [!code ++]
		wasInWater = flag6; // [!code ++]
		RefreshSpeed(); // [!code ++]
	} // [!code ++]
	hasMovedThisTurn = true;
	return MoveResult.Success;
}
```

[`public bool IsHostile(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/Chara.cs#L6569-L6574)
```cs:line-numbers=6569
				return true;
			}
		}
		if (id == "unicorn" && c.HasElement(1216)) // [!code ++]
		{ // [!code ++]
			return true; // [!code ++]
		} // [!code ++]
		return false;
	}

```

## FEAT

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/FEAT.cs#L123-L129)
```cs:line-numbers=123

	public const int featDismantler = 1661;

	public const int featComat = 1750; // [!code --]
	public const int featSpike = 1221; // [!code ++]

	public const int featFate = 1220;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/FEAT.cs#L139-L190)
```cs:line-numbers=139

	public const int featHealer = 1422;

	public const int featSpike = 1221; // [!code --]
 // [!code --]
	public const int featGod_harvest1 = 1325; // [!code --]
 // [!code --]
	public const int featFarmer = 1403; // [!code --]
 // [!code --]
	public const int featArcher = 1404; // [!code --]
 // [!code --]
	public const int featPianist = 1405; // [!code --]
 // [!code --]
	public const int featTourist = 1406; // [!code --]
 // [!code --]
	public const int featPaladin = 1407; // [!code --]
 // [!code --]
	public const int featPaladin2 = 1408; // [!code --]
 // [!code --]
	public const int featBoost = 1409; // [!code --]
 // [!code --]
	public const int featWizard = 1402; // [!code --]
 // [!code --]
	public const int featReboot = 1410; // [!code --]
 // [!code --]
	public const int featLuckyCat = 1412; // [!code --]
 // [!code --]
	public const int featFairysan = 1413; // [!code --]
 // [!code --]
	public const int featWhiteVixen = 1414; // [!code --]
 // [!code --]
	public const int featFoxMaid = 1415; // [!code --]
 // [!code --]
	public const int featInquisitor = 1416; // [!code --]
 // [!code --]
	public const int featWitch = 1417; // [!code --]
 // [!code --]
	public const int featSwordsage = 1418; // [!code --]
 // [!code --]
	public const int featEarthStrength = 1411; // [!code --]
 // [!code --]
	public const int featThief = 1401; // [!code --]
 // [!code --]
	public const int featWarrior = 1400; // [!code --]
	public const int featComat = 1750; // [!code ++]

	public const int featGod_strife1 = 1355; // [!code --]
	public const int featExecutioner = 1420; // [!code ++]

	public const int featAshborn = 1251;

	public const int featAquatic = 1252; // [!code ++]
 // [!code ++]
	public const int featGoodKarma = 1270;

	public const int featBadKarma = 1271;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/FEAT.cs#L205-L212)
```cs:line-numbers=205

	public const int featGod_healing1 = 1320;

	public const int featMiscreation = 1248; // [!code --]
 // [!code --]
	public const int featGod_luck1 = 1330;

	public const int featGod_harmony1 = 1335;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/FEAT.cs#L217-L229)
```cs:line-numbers=217

	public const int featGod_moonshadow1 = 1350;

	public const int featMilitant = 1419; // [!code --]
	public const int featGod_strife1 = 1355; // [!code ++]
 // [!code ++]
	public const int featWarrior = 1400; // [!code ++]
 // [!code ++]
	public const int featThief = 1401; // [!code ++]
 // [!code ++]
	public const int featWizard = 1402; // [!code ++]
 // [!code ++]
	public const int featFarmer = 1403; // [!code ++]
 // [!code ++]
	public const int featArcher = 1404; // [!code ++]

	public const int featVampire = 1250;

	public const int featExecutioner = 1420; // [!code --]
	public const int featBloodBond = 1249; // [!code ++]

	public const int featPegasus = 1246; // [!code --]
	public const int featMiscreation = 1248; // [!code ++]
 // [!code ++]
	public const int featLibra = 1247; // [!code ++]

	public const int featBaby = 1232;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/FEAT.cs#L245-L281)
```cs:line-numbers=245

	public const int featShiva = 1224;

	public const int featLibra = 1247; // [!code --]
 // [!code --]
	public const int featCosmicHorror = 1233;

	public const int featBloodBond = 1249; // [!code --]
	public const int featPianist = 1405; // [!code ++]

	public const int featLightEater = 1235; // [!code --]
	public const int featHeavyEater = 1234; // [!code ++]

	public const int featSevenSense = 1245; // [!code --]
	public const int featNorland = 1236; // [!code ++]

	public const int featCentaur = 1244; // [!code --]
	public const int featRoran = 1237; // [!code ++]

	public const int featEternalYouth = 1243; // [!code --]
	public const int featElder = 1238; // [!code ++]

	public const int featNorland = 1236; // [!code --]
	public const int featDemon = 1239; // [!code ++]

	public const int featGeneSlot = 1242; // [!code --]
	public const int featMassSummoner = 1240; // [!code ++]

	public const int featMeatCushion = 1241;

	public const int featMassSummoner = 1240; // [!code --]
	public const int featGeneSlot = 1242; // [!code ++]

	public const int featDemon = 1239; // [!code --]
	public const int featEternalYouth = 1243; // [!code ++]

	public const int featElder = 1238; // [!code --]
	public const int featCentaur = 1244; // [!code ++]

	public const int featRoran = 1237; // [!code --]
	public const int featSevenSense = 1245; // [!code ++]

	public const int featHeavyEater = 1234; // [!code --]
	public const int featPegasus = 1246; // [!code ++]
 // [!code ++]
	public const int featLightEater = 1235; // [!code ++]
 // [!code ++]
	public const int featTourist = 1406; // [!code ++]
 // [!code ++]
	public const int featGod_harvest1 = 1325; // [!code ++]
 // [!code ++]
	public const int featPaladin2 = 1408; // [!code ++]
 // [!code ++]
	public const int featMilitant = 1419; // [!code ++]
 // [!code ++]
	public const int featSwordsage = 1418; // [!code ++]
 // [!code ++]
	public const int featWitch = 1417; // [!code ++]
 // [!code ++]
	public const int featInquisitor = 1416; // [!code ++]
 // [!code ++]
	public const int featFoxMaid = 1415; // [!code ++]
 // [!code ++]
	public const int featPaladin = 1407; // [!code ++]
 // [!code ++]
	public const int featFairysan = 1413; // [!code ++]
 // [!code ++]
	public const int featBoost = 1409; // [!code ++]
 // [!code ++]
	public const int featReboot = 1410; // [!code ++]
 // [!code ++]
	public const int featWhiteVixen = 1414; // [!code ++]
 // [!code ++]
	public const int featLuckyCat = 1412; // [!code ++]
 // [!code ++]
	public const int featEarthStrength = 1411; // [!code ++]

	public static readonly int[] IDS = new int[136] // [!code --]
	public static readonly int[] IDS = new int[137] // [!code ++]
	{
		1223, 1650, 1649, 1648, 1647, 1646, 1645, 1644, 1643, 1642,
		1641, 1640, 1636, 1635, 1634, 1651, 1633, 1631, 1630, 1629,
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/FEAT.cs#L283-L296)
```cs:line-numbers=283
		1611, 1632, 1652, 1653, 1654, 1222, 1200, 1201, 1202, 1203,
		1204, 1205, 1206, 1207, 1208, 1209, 1210, 1211, 1212, 1213,
		1214, 1215, 1655, 1656, 1657, 1658, 1659, 1660, 1610, 1661,
		1750, 1220, 1219, 1218, 1217, 1216, 1662, 1422, 1221, 1325, // [!code --]
		1403, 1404, 1405, 1406, 1407, 1408, 1409, 1402, 1410, 1412, // [!code --]
		1413, 1414, 1415, 1416, 1417, 1418, 1411, 1401, 1400, 1355, // [!code --]
		1251, 1270, 1271, 1272, 1273, 1290, 1300, 1305, 1310, 1315, // [!code --]
		1320, 1248, 1330, 1335, 1340, 1345, 1350, 1419, 1250, 1420, // [!code --]
		1246, 1232, 1231, 1421, 1230, 1229, 1228, 1227, 1226, 1225, // [!code --]
		1224, 1247, 1233, 1249, 1235, 1245, 1244, 1243, 1236, 1242, // [!code --]
		1241, 1240, 1239, 1238, 1237, 1234 // [!code --]
		1221, 1220, 1219, 1218, 1217, 1216, 1662, 1422, 1750, 1420, // [!code ++]
		1251, 1252, 1270, 1271, 1272, 1273, 1290, 1300, 1305, 1310, // [!code ++]
		1315, 1320, 1330, 1335, 1340, 1345, 1350, 1355, 1400, 1401, // [!code ++]
		1402, 1403, 1404, 1250, 1249, 1248, 1247, 1232, 1231, 1421, // [!code ++]
		1230, 1229, 1228, 1227, 1226, 1225, 1224, 1233, 1405, 1234, // [!code ++]
		1236, 1237, 1238, 1239, 1240, 1241, 1242, 1243, 1244, 1245, // [!code ++]
		1246, 1235, 1406, 1325, 1408, 1419, 1418, 1417, 1416, 1415, // [!code ++]
		1407, 1413, 1409, 1410, 1414, 1412, 1411 // [!code ++]
	};
}
public class Feat : Element
```

## FOOD

[`public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/FOOD.cs#L1-L36)
```cs:line-numbers=1
public class FOOD
{
	public const int food_CHA = 700; // [!code --]
	public const int food_cat = 701; // [!code ++]

	public const int food_god = 758; // [!code --]
	public const int food_poison = 702; // [!code ++]

	public const int justcooked = 757; // [!code --]
	public const int food_love = 703; // [!code ++]

	public const int food_blood = 710;

	public const int food_undead = 709; // [!code --]
	public const int gainWeight = 705; // [!code ++]

	public const int food_human = 708; // [!code --]
	public const int loseWeight = 706; // [!code ++]

	public const int kirimi = 707; // [!code --]
	public const int food_CHA = 700; // [!code ++]

	public const int loseWeight = 706; // [!code --]
	public const int kirimi = 707; // [!code ++]

	public const int food_bug = 704; // [!code --]
	public const int food_human = 708; // [!code ++]

	public const int food_love = 703; // [!code --]
	public const int food_undead = 709; // [!code ++]

	public const int food_poison = 702; // [!code --]
	public const int food_bug = 704; // [!code ++]

	public const int food_cat = 701; // [!code --]
	public const int food_god = 758; // [!code ++]

	public const int creativeDish = 764;

	public const int gainWeight = 705; // [!code --]
	public const int justcooked = 757; // [!code ++]

	public static readonly int[] IDS = new int[14]
	{
		700, 758, 757, 710, 709, 708, 707, 706, 704, 703, // [!code --]
		702, 701, 764, 705 // [!code --]
		701, 702, 703, 710, 705, 706, 700, 707, 708, 709, // [!code ++]
		704, 758, 764, 757 // [!code ++]
	};
}
```

## InvOwnerEffect

[`public class InvOwnerEffect : InvOwnerDraglet`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/InvOwnerEffect.cs#L6-L11)
```cs:line-numbers=6

	public bool superior;

	public int power = 100; // [!code ++]
 // [!code ++]
	public InvOwnerEffect(Card owner = null, Card container = null, CurrencyType _currency = CurrencyType.Money)
		: base(owner, container, _currency)
	{
```

## InvOwnerReconstruction

[`public override bool ShouldShowGuide(Thing t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/InvOwnerReconstruction.cs#L42-L47)
```cs:line-numbers=42

	public override void _OnProcess(Thing t)
	{
		ActEffect.Proc(EffectId.Reconstruction, 100, state, t.GetRootCard(), t); // [!code --]
		ActEffect.Proc(EffectId.Reconstruction, power, state, t.GetRootCard(), t); // [!code ++]
	}
}
```

## LayerDragGrid

[`public static LayerDragGrid CreateLighten(Chara cc, BlessedState state = Blessed`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/LayerDragGrid.cs#L529-L541)
```cs:line-numbers=529
		});
	}

	public static LayerDragGrid CreateReconstruction(Chara cc, BlessedState state = BlessedState.Normal, int price = 0, int count = 1) // [!code --]
	public static LayerDragGrid CreateReconstruction(Chara cc, BlessedState state = BlessedState.Normal, int power = 100, int price = 0, int count = 1) // [!code ++]
	{
		return TryProc(cc, new InvOwnerReconstruction
		{
			state = state,
			price = price,
			count = count // [!code --]
			count = count, // [!code ++]
			power = power // [!code ++]
		});
	}
}
```

## LayerPeople

[`public static LayerPeople CreateBed(TraitBed bed)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/LayerPeople.cs#L135-L141)
```cs:line-numbers=135
	});
	layerPeople.multi.AddOwner(1, new ListPeopleBed
	{
		textHeader = "listBedHolder".lang(bed.MaxHolders.ToString() ?? ""), // [!code --]
		funcHeader = () => "listBedHolder".lang(bed.CountHolders() + " / " + bed.MaxHolders), // [!code ++]
		bed = bed
	});
	ELayer.ui.AddLayer(layerPeople);
```

## ListOwner

[`using System;`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ListOwner.cs#L1-L3)
```cs:line-numbers=1
using System; // [!code ++]
 // [!code ++]
public class ListOwner<T1, T2> : ListOwner
{
	public virtual void OnClick(T1 a, T2 b)
```

[`public class ListOwner : EClass`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ListOwner.cs#L36-L41)
```cs:line-numbers=36

	public int index;

	public Func<string> funcHeader; // [!code ++]
 // [!code ++]
	public ListOwner Main
	{
		get
```

[`public virtual string TextHeader`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ListOwner.cs#L58-L68)
```cs:line-numbers=58
	{
		get
		{
			if (!textHeader.IsEmpty()) // [!code --]
			if (funcHeader == null) // [!code ++]
			{
				return textHeader.lang(); // [!code --]
				if (!textHeader.IsEmpty()) // [!code ++]
				{ // [!code ++]
					return textHeader.lang(); // [!code ++]
				} // [!code ++]
				return ""; // [!code ++]
			}
			return ""; // [!code --]
			return funcHeader(); // [!code ++]
		}
	}

```

[`public virtual void OnSwitchContent()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ListOwner.cs#L82-L88)
```cs:line-numbers=82
		{
			window.SetTitles(IdTitle, IdHeaderRow);
		}
		if (!textHeader.IsEmpty()) // [!code --]
		RefreshCaption(); // [!code ++]
	} // [!code ++]
 // [!code ++]
	public void RefreshCaption() // [!code ++]
	{ // [!code ++]
		if (!TextHeader.IsEmpty()) // [!code ++]
		{
			window.SetCaption(TextHeader);
		}
```

[`public void MoveToOther(object c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/ListOwner.cs#L105-L109)
```cs:line-numbers=105
		other.List();
		list.RebuildLayoutTo(layer);
		SE.Resource();
		RefreshCaption(); // [!code ++]
		other.RefreshCaption(); // [!code ++]
	}
}
```

## MUTATION

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/MUTATION.cs#L1-L29)
```cs:line-numbers=1
public class MUTATION
{
	public const int mutationSkin = 1510; // [!code --]
 // [!code --]
	public const int etherPoisonHand = 1565; // [!code --]
 // [!code --]
	public const int mutationColdN = 1527; // [!code --]
 // [!code --]
	public const int mutationCold = 1526; // [!code --]
 // [!code --]
	public const int mutationBrainN = 1525; // [!code --]
	public const int mutationSpeedN = 1519; // [!code ++]

	public const int mutationBrain = 1524; // [!code --]
	public const int mutationSpeed = 1518; // [!code ++]

	public const int mutationCha = 1522;

	public const int mutationStrN = 1521; // [!code --]
 // [!code --]
	public const int mutationStr = 1520; // [!code --]
 // [!code --]
	public const int mutationLightning = 1528; // [!code --]
 // [!code --]
	public const int mutationSpeedN = 1519; // [!code --]
 // [!code --]
	public const int mutationRegenN = 1517; // [!code --]
 // [!code --]
	public const int mutationRegen = 1516;

	public const int mutationDexN = 1515;
```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/MUTATION.cs#L36-L58)
```cs:line-numbers=36

	public const int mutationSkinN = 1511;

	public const int mutationSpeed = 1518; // [!code --]
	public const int mutationSkin = 1510; // [!code ++]

	public const int mutationLightningN = 1529; // [!code --]
	public const int mutationStr = 1520; // [!code ++]
 // [!code ++]
	public const int mutationStrN = 1521; // [!code ++]
 // [!code ++]
	public const int mutationRegenN = 1517; // [!code ++]

	public const int mutationChaN = 1523;

	public const int mutationBodyN = 1531; // [!code --]
	public const int mutationBrainN = 1525; // [!code ++]
 // [!code ++]
	public const int etherPoisonHand = 1565; // [!code ++]

	public const int etherManaBattery = 1564;

	public const int etherProvoke = 1563;

	public const int mutationBody = 1530; // [!code --]
	public const int etherArmor = 1562; // [!code ++]

	public const int etherStupid = 1561;

	public const int etherWeak = 1560; // [!code --]
	public const int mutationBrain = 1524; // [!code ++]

	public const int etherAddict = 1559;

```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/MUTATION.cs#L62-L91)
```cs:line-numbers=62

	public const int etherViolence = 1556;

	public const int etherArmor = 1562; // [!code --]
	public const int etherNeck = 1555; // [!code ++]

	public const int etherWing = 1554;

	public const int etherEye = 1553; // [!code --]
	public const int etherWeak = 1560; // [!code ++]

	public const int etherFeet = 1552;

	public const int etherUgly = 1551; // [!code --]
	public const int etherEye = 1553; // [!code ++]

	public const int etherGravity = 1550; // [!code --]
	public const int mutationCold = 1526; // [!code ++]

	public const int mutationHairN = 1533; // [!code --]
	public const int mutationColdN = 1527; // [!code ++]
 // [!code ++]
	public const int mutationLightningN = 1529; // [!code ++]
 // [!code ++]
	public const int mutationBody = 1530; // [!code ++]
 // [!code ++]
	public const int mutationLightning = 1528; // [!code ++]

	public const int mutationHair = 1532;

	public const int etherNeck = 1555; // [!code --]
	public const int mutationHairN = 1533; // [!code ++]
 // [!code ++]
	public const int etherGravity = 1550; // [!code ++]
 // [!code ++]
	public const int etherUgly = 1551; // [!code ++]
 // [!code ++]
	public const int mutationBodyN = 1531; // [!code ++]

	public static readonly int[] IDS = new int[40]
	{
		1510, 1565, 1527, 1526, 1525, 1524, 1522, 1521, 1520, 1528, // [!code --]
		1519, 1517, 1516, 1515, 1514, 1513, 1512, 1511, 1518, 1529, // [!code --]
		1523, 1531, 1564, 1563, 1530, 1561, 1560, 1559, 1558, 1557, // [!code --]
		1556, 1562, 1554, 1553, 1552, 1551, 1550, 1533, 1532, 1555 // [!code --]
		1519, 1518, 1522, 1516, 1515, 1514, 1513, 1512, 1511, 1510, // [!code ++]
		1520, 1521, 1517, 1523, 1525, 1565, 1564, 1563, 1562, 1561, // [!code ++]
		1524, 1559, 1558, 1557, 1556, 1555, 1554, 1560, 1552, 1553, // [!code ++]
		1526, 1527, 1529, 1530, 1528, 1532, 1533, 1550, 1551, 1531 // [!code ++]
	};
}
public class Mutation : Feat
```

## POLICY

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/POLICY.cs#L3-L8)
```cs:line-numbers=3

public class POLICY
{
	public const int legendary_heirloom = 2821; // [!code ++]
 // [!code ++]
	public const int store_premium = 2817;

	public const int license_food = 2818;
```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/POLICY.cs#L11-L29)
```cs:line-numbers=11

	public const int license_general = 2820;

	public const int legendary_heirloom = 2821; // [!code --]
 // [!code --]
	public const int celeb = 2822;

	public const int egg_fan = 2826; // [!code --]
	public const int license_slaver = 2828; // [!code ++]

	public const int license_stolen = 2824;

	public const int milk_fan = 2825;

	public const int breed_season = 2827; // [!code --]
	public const int egg_fan = 2826; // [!code ++]

	public const int license_slaver = 2828; // [!code --]
	public const int breed_season = 2827; // [!code ++]

	public const int store_ripoff = 2816;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/POLICY.cs#L107-L114)
```cs:line-numbers=107

	public static readonly int[] IDS = new int[51]
	{
		2817, 2818, 2819, 2820, 2821, 2822, 2826, 2824, 2825, 2827, // [!code --]
		2828, 2816, 2823, 2815, 2702, 2813, 2514, 2513, 2505, 2814, // [!code --]
		2821, 2817, 2818, 2819, 2820, 2822, 2828, 2824, 2825, 2826, // [!code ++]
		2827, 2816, 2823, 2815, 2702, 2813, 2514, 2513, 2505, 2814, // [!code ++]
		2500, 2501, 2512, 2502, 2503, 2511, 2510, 2509, 2508, 2507,
		2506, 2515, 2516, 2504, 2701, 2706, 2707, 2705, 2700, 2709,
		2710, 2711, 2708, 2715, 2800, 2810, 2811, 2812, 2704, 2703,
```

## TraitBed

[`public bool HasHolder()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/TraitBed.cs#L157-L162)
```cs:line-numbers=157
		return c_charaList.list.Count > 0;
	}

	public int CountHolders() // [!code ++]
	{ // [!code ++]
		return owner.c_charaList?.Get().Count ?? 0; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public bool CanAssign(Chara c)
	{
		CharaList c_charaList = owner.c_charaList;
```

## TraitShackle

[`public class TraitShackle : Trait`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/TraitShackle.cs#L8-L13)
```cs:line-numbers=8

	public override bool CanBeHeld => !IsRestraining();

	public override bool CanBeDisassembled => !IsRestraining(); // [!code ++]
 // [!code ++]
	public override string LangUse => "ActRestrain";

	public virtual bool AllowTraining => true;
```

## Zone

[`public Chara SpawnMob(Point pos = null, SpawnSetting setting = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8e67c3e023f93c8a186e9c84c6935e3741133d7e/Elin/Zone.cs#L2850-L2855)
```cs:line-numbers=2850
	{
		switch (chara.id)
		{
		case "unicorn": // [!code ++]
			if (EClass.pc.HasElement(1216)) // [!code ++]
			{ // [!code ++]
				chara.SetHostility(Hostility.Enemy); // [!code ++]
			} // [!code ++]
			break; // [!code ++]
		case "santa":
		case "silverwolf":
		case "twintail":
```
