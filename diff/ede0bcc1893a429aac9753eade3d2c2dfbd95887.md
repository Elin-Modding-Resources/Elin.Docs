---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 9 files modified.
version: EA 23.260 Stable Patch 1
changes: ACT/Chara/DramaCustomSequence/GoalCombat/TraitBaseSpellbook/TraitCoffin/TraitScrollStatic/TraitSeed/UIInventory
---

# EA 23.260 Stable Patch 1

January 15, 2026

9 files modified.

## Important Changes

**None.**
## ACT

[`public bool CanPerform(Chara _cc, Card _tc = null, Point _tp = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/ede0bcc1893a429aac9753eade3d2c2dfbd95887/Elin/ACT.cs#L351-L357)
```cs:line-numbers=351
			}
		}
	}
	if (!(this is ActMelee) && tt.Range == TargetRange.Chara && (TC == null || !CC.CanSee(TC) || (TC.Chara?.mimicry != null && CC != TC))) // [!code --]
	if (!(this is ActMelee) && tt.Range == TargetRange.Chara && (TC == null || !CC.CanSee(TC) || (TC.Chara?.mimicry != null && CC.IsPC && TC != EClass.pc))) // [!code ++]
	{
		return false;
	}
```

## Chara

[`public void TickConditions()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/ede0bcc1893a429aac9753eade3d2c2dfbd95887/Elin/Chara.cs#L3745-L3755)
```cs:line-numbers=3745
	case 2:
		if (parasite != null)
		{
			ModExp(227, (EClass._zone.IsRegion ? 5 : 40) * 100 / Mathf.Max(100, 100 + (elements.Base(227) - parasite.LV) * 25)); // [!code --]
			ModExp(227, (int)((EClass._zone.IsRegion ? 5 : 40) + parasite.affinity.CurrentStage)); // [!code ++]
		}
		if (ride != null)
		{
			ModExp(226, (EClass._zone.IsRegion ? 5 : 40) * 100 / Mathf.Max(100, 100 + (elements.Base(226) - ride.LV) * 25)); // [!code --]
			ModExp(226, (int)((EClass._zone.IsRegion ? 5 : 40) + ride.affinity.CurrentStage)); // [!code ++]
		}
		break;
	case 3:
```

## DramaCustomSequence

[`public void Build(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/ede0bcc1893a429aac9753eade3d2c2dfbd95887/Elin/DramaCustomSequence.cs#L394-L400)
```cs:line-numbers=394
			c.MoveZone(c.homeZone);
		}
	});
	Goto("_bye"); // [!code --]
	Goto("_end"); // [!code ++]
	Step("_banish");
	Goto("_bye");
	Step("_makeLivestock");
```

[`void Invest(bool quick)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/ede0bcc1893a429aac9753eade3d2c2dfbd95887/Elin/DramaCustomSequence.cs#L1530-L1535)
```cs:line-numbers=1530
		c.Talk("bye");
	});
	End();
	Step("_end"); // [!code ++]
	End(); // [!code ++]
	void BackChill()
	{
		Method(RumorChill, null, StepDefault);
```

## GoalCombat

[`public class ItemAbility`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/ede0bcc1893a429aac9753eade3d2c2dfbd95887/Elin/GoalCombat.cs#L19-L24)
```cs:line-numbers=19
		public bool pt;

		public bool aiPt;
 // [!code ++]
		public bool aiSelf; // [!code ++]
	}

	public Chara destEnemy;
```

## TraitBaseSpellbook

[`public override bool TryProgress(AIProgress p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/ede0bcc1893a429aac9753eade3d2c2dfbd95887/Elin/TraitBaseSpellbook.cs#L84-L90)
```cs:line-numbers=84
		return false;
	}
	int diff = Mathf.Max(1, Difficulty * ((owner.blessedState >= BlessedState.Blessed) ? 75 : ((owner.blessedState <= BlessedState.Cursed) ? 300 : 100)) / 100);
	int check = Mathf.Max(1, (int)((long)c.Evalue(eleParent) * (long)(100 + c.Evalue(285) * 10) / 100)); // [!code --]
	long num = (long)c.Evalue(eleParent) * (long)(100 + c.Evalue(285) * 10) / 100; // [!code ++]
	int check = Mathf.Max(1, (int)((num >= 21474836) ? 21474836 : num)); // [!code ++]
	if (ReadCheck() || EClass.debug.godMode || owner.HasEditorTag(EditorTag.NoReadFail))
	{
		return true;
```

## TraitCoffin

[`public override void Prespawn(int lv)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/ede0bcc1893a429aac9753eade3d2c2dfbd95887/Elin/TraitCoffin.cs#L9-L14)
```cs:line-numbers=9
			ThingGen.CreateTreasureContent(owner.Thing, lv, TreasureType.RandomChest, clearContent: true);
			return;
		}
		PutChara(EClass.sources.charas.rows.Where((SourceChara.Row r) => r.race == "zombie" || r.race == "vampire").RandomItem().id); // [!code --]
		PutChara(EClass.sources.charas.rows.Where((SourceChara.Row r) => r.race == "zombie" || r.race == "vampire").ToList().RandomItemWeighted((SourceChara.Row c) => c.chance) // [!code ++]
			.id); // [!code ++]
		} // [!code ++]
	}
} // [!code --]
```

## TraitScrollStatic

[`using UnityEngine;`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/ede0bcc1893a429aac9753eade3d2c2dfbd95887/Elin/TraitScrollStatic.cs#L1-L3)
```cs:line-numbers=1
using UnityEngine; // [!code ++]
 // [!code ++]
public class TraitScrollStatic : TraitScroll
{
	public override SourceElement.Row source
```

[`public override SourceElement.Row source`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/ede0bcc1893a429aac9753eade3d2c2dfbd95887/Elin/TraitScrollStatic.cs#L20-L25)
```cs:line-numbers=20

	public virtual string N1 => owner.sourceCard.vals.TryGet(4);

	public override Sprite GetRefSprite() // [!code ++]
	{ // [!code ++]
		if (idEffect == EffectId.Ally) // [!code ++]
		{ // [!code ++]
			return EClass.sources.elements.alias["ActSummonSpecial"].GetSprite(); // [!code ++]
		} // [!code ++]
		return base.GetRefSprite(); // [!code ++]
	} // [!code ++]
 // [!code ++]
	public override bool CanRead(Chara c)
	{
		return !c.isBlind;
```

## TraitSeed

[`public static Thing MakeSeed(SourceObj.Row obj, PlantData plant = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/ede0bcc1893a429aac9753eade3d2c2dfbd95887/Elin/TraitSeed.cs#L109-L115)
```cs:line-numbers=109
			}
		}
		thing2.SetEncLv(thing.encLV);
		thing2.elements.SetBase(2, EClass.curve(thing2.encLV, 50, 10, 80)); // [!code --]
		thing2.c_refText = thing.c_refText;
		thing2.c_seed = thing.c_seed;
		int num = plant?.water ?? 0;
```

[`public static Thing MakeSeed(SourceObj.Row obj, PlantData plant = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/ede0bcc1893a429aac9753eade3d2c2dfbd95887/Elin/TraitSeed.cs#L136-L141)
```cs:line-numbers=136
				EClass.pc.PlaySound("seed_level");
			}
		}
		thing2.elements.SetBase(2, EClass.curve(thing2.encLV, 50, 10, 80)); // [!code ++]
		Rand.SetSeed();
	}
	thing2.SetBlessedState(BlessedState.Normal);
```

## UIInventory

[`public void RefreshMenu()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/ede0bcc1893a429aac9753eade3d2c2dfbd95887/Elin/UIInventory.cs#L524-L530)
```cs:line-numbers=524
			bool flag4 = (!con2.isNPCProperty && !con2.isChara && (con2.trait is TraitShippingChest || (con2.GetRoot() is Zone && EMono._zone.IsPCFaction) || con2.GetRootCard() == EMono.pc)) || EMono._zone is Zone_Tent;
			if (con2.IsPC)
			{
				flag4 = true; // [!code --]
				flag4 = false; // [!code ++]
			}
			if (con2.trait is TraitChestMerchant)
			{
```
