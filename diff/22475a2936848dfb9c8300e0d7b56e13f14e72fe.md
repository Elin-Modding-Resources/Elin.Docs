---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 21 files modified. 2 new files created.
version: EA 23.235 Nightly Patch 1
changes: AI_Fuck/ActEffect/CardRenderer/Chara/CharaRenderer/ConTransmute/CraftUtil/DOMAIN/ENC/FACTION/FEAT/FoodEffect/Religion/SKILL/SLOT/SPELL/Thing/Trait/+TraitBloodSample/+TraitSyringeBlood/TraitSyringeGene/TraitSyringeHeaven/TraitTicketChampagne
---

# EA 23.235 Nightly Patch 1

November 17, 2025

21 files modified. 2 new files created.

## Important Changes

Possible breaking changes. Click the filename to view the chunk.
### [CraftUtil (1)](#craftutil)
```cs:no-line-numbers
public static void MakeDish(Thing food, int lv, Chara crafter = null) // [!code --]
public static void MakeDish(Thing food, int lv, Chara crafter = null, int seed = -1) // [!code ++]
```
## AI_Fuck

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/AI_Fuck.cs#L86-L92)
```cs:line-numbers=86
	Chara tc = (sell ? owner : target);
	int destDist = ((Type == FuckType.fuck) ? 1 : 1);
	yield return DoGoto(target.pos, destDist);
	cc.Say(Type.ToString() + "_start", cc, tc); // [!code --]
	cc.Say((variation == Variation.Bloodsuck) ? "suck_start" : (Type.ToString() + "_start"), cc, tc); // [!code ++]
	isFail = () => !tc.IsAliveInCurrentZone || tc.Dist(owner) > 3;
	if (Type == FuckType.tame)
	{
```

[`public void Finish()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/AI_Fuck.cs#L339-L345)
```cs:line-numbers=339
			int value = chara.hunger.value;
			Thing food = CraftUtil.MakeBloodMeal(chara, chara2);
			FoodEffect.Proc(chara, food, consume: false);
			chara2.AddCondition<ConBleed>(EClass.rndHalf(value * 20)); // [!code --]
			chara2.AddCondition<ConBleed>(EClass.rndHalf(value * 10)); // [!code ++]
		}
		else
		{
```

## ActEffect

[`void AddCon<T>(int rate, int power) where T : Condition`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/ActEffect.cs#L668-L673)
```cs:line-numbers=668
			case "dragon":
				chara = CharaGen.CreateFromFilter(SpawnListChara.Get("summon_dragon", (SourceChara.Row r) => r.race == "dragon" || r.race == "drake" || r.race == "wyvern"), power / 5);
				break;
			case "undead": // [!code ++]
				chara = CharaGen.CreateFromFilter(SpawnListChara.Get("summon_undead", (SourceChara.Row r) => r.HasTag(CTAG.undead) || (EClass.sources.races.map.TryGetValue(r.race)?.IsUndead ?? false)), power / 5); // [!code ++]
				break; // [!code ++]
			case "pawn":
				chara = CharaGen.CreateFromFilter("c_pawn", power / 10);
				break;
```

## CardRenderer

[`public virtual void Refresh()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/CardRenderer.cs#L739-L745)
```cs:line-numbers=739

	public SourcePref GetPref()
	{
		if (owner.IsPCC || (owner.HasHost && owner.Chara.host.ride == owner)) // [!code --]
		if ((owner.IsPCC && replacer == null) || (owner.HasHost && owner.Chara.host.ride == owner)) // [!code ++]
		{
			return EClass.core.refs.prefs.pcc;
		}
```

## Chara

[`public class Chara : Card, IPathfindWalker`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/Chara.cs#L103-L108)
```cs:line-numbers=103

	public ConSuspend conSuspend;

	public ConTransmute conTrans; // [!code ++]
 // [!code ++]
	public Emo2 emoIcon;

	public int happiness;
```

[`public override SourcePref Pref`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/Chara.cs#L787-L792)
```cs:line-numbers=787
{
	get
	{
		if (renderer.replacer != null) // [!code ++]
		{ // [!code ++]
			return renderer.replacer.pref; // [!code ++]
		} // [!code ++]
		if (spriteReplacer != null)
		{
			return spriteReplacer.data?.pref ?? EClass.core.refs.prefs.replacer1;
```

[`public void Refresh(bool calledRecursive = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/Chara.cs#L1734-L1740)
```cs:line-numbers=1734
	isWet = false;
	_isLevitating = HasElement(401) || (ride != null && ride._isLevitating);
	canSeeInvisible = HasElement(416);
	isWeakToSunlight = HasElement(1250) && !HasElement(431); // [!code --]
	isWeakToSunlight = HasElement(1251) && !HasElement(431); // [!code ++]
	base.isHidden = HasElement(415);
	foreach (Condition condition in conditions)
	{
```

## CharaRenderer

[`public override void OnEnterScreen()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/CharaRenderer.cs#L98-L104)
```cs:line-numbers=98
public override void Draw(RenderParam p, ref Vector3 v, bool drawShadow)
{
	base.Draw(p, ref v, drawShadow);
	if ((Zone.sourceHat != null || owner.hat != null) && owner.Pref.hatY != 0f && owner.host == null) // [!code --]
	if ((Zone.sourceHat != null || owner.hat != null) && owner.host == null) // [!code ++]
	{
		DrawHat();
	}
```

[`public void DrawHat()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/CharaRenderer.cs#L323-L347)
```cs:line-numbers=323
		}
		CardRow cardRow = Zone.sourceHat ?? owner.hat;
		SourcePref pref = GetPref();
		bool flag = currentDir == 1 || currentDir == 3; // [!code --]
		int liquidLv = RenderObject.currentParam.liquidLv; // [!code --]
		float num = ((replacer != null) ? replacer.pref.hatY : pref.hatY); // [!code --]
		if (pccData != null) // [!code --]
		if (pref.hatY != 0f) // [!code ++]
		{
			num += RenderObject.renderSetting.hatPos[actor.GetFrame()].y; // [!code --]
			bool flag = currentDir == 1 || currentDir == 3; // [!code ++]
			int liquidLv = RenderObject.currentParam.liquidLv; // [!code ++]
			float num = ((replacer != null) ? replacer.pref.hatY : pref.hatY); // [!code ++]
			if (pccData != null) // [!code ++]
			{ // [!code ++]
				num += RenderObject.renderSetting.hatPos[actor.GetFrame()].y; // [!code ++]
			} // [!code ++]
			RenderObject.currentParam.liquidLv = 0; // [!code ++]
			RenderObject.currentParam.x += 0.01f * (float)pref.equipX; // [!code ++]
			RenderObject.currentParam.y += num + 0.01f * (float)(pref.equipY + cardRow.pref.equipY); // [!code ++]
			RenderObject.currentParam.z += -0.09f; // [!code ++]
			RenderObject.currentParam.tile = cardRow._tiles[owner.uid % cardRow._tiles.Length] * ((!flag) ? 1 : (-1)); // [!code ++]
			RenderObject.currentParam.mat = cardRow.DefaultMaterial; // [!code ++]
			RenderObject.currentParam.matColor = cardRow.GetColorInt(RenderObject.currentParam.mat); // [!code ++]
			cardRow.renderData.Draw(RenderObject.currentParam); // [!code ++]
			RenderObject.currentParam.x -= 0.01f * (float)pref.equipX; // [!code ++]
			RenderObject.currentParam.y -= num + 0.01f * (float)(pref.equipY + cardRow.pref.equipY); // [!code ++]
			RenderObject.currentParam.z -= -0.09f; // [!code ++]
			RenderObject.currentParam.liquidLv = liquidLv; // [!code ++]
		}
		RenderObject.currentParam.liquidLv = 0; // [!code --]
		RenderObject.currentParam.x += 0.01f * (float)pref.equipX; // [!code --]
		RenderObject.currentParam.y += num + 0.01f * (float)(pref.equipY + cardRow.pref.equipY); // [!code --]
		RenderObject.currentParam.z += -0.09f; // [!code --]
		RenderObject.currentParam.tile = cardRow._tiles[owner.uid % cardRow._tiles.Length] * ((!flag) ? 1 : (-1)); // [!code --]
		RenderObject.currentParam.mat = cardRow.DefaultMaterial; // [!code --]
		RenderObject.currentParam.matColor = cardRow.GetColorInt(RenderObject.currentParam.mat); // [!code --]
		cardRow.renderData.Draw(RenderObject.currentParam); // [!code --]
		RenderObject.currentParam.x -= 0.01f * (float)pref.equipX; // [!code --]
		RenderObject.currentParam.y -= num + 0.01f * (float)(pref.equipY + cardRow.pref.equipY); // [!code --]
		RenderObject.currentParam.z -= -0.09f; // [!code --]
		RenderObject.currentParam.liquidLv = liquidLv; // [!code --]
	}

	public override void DrawHeld()
```

## ConTransmute

[`public override void Tick()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/ConTransmute.cs#L14-L19)
```cs:line-numbers=14

	public override void OnStart()
	{
		owner.conTrans = this; // [!code ++]
		owner._CreateRenderer();
		if (owner.IsPCParty)
		{
```

[`public override void OnStart()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/ConTransmute.cs#L23-L28)
```cs:line-numbers=23

	public override void OnRemoved()
	{
		owner.conTrans = null; // [!code ++]
		owner._CreateRenderer();
		if (owner.IsPCParty)
		{
```

## CraftUtil

[`public static void AddRandomFoodEnc(Thing t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/CraftUtil.cs#L58-L82)
```cs:line-numbers=58
		}
	}

	public static void MakeDish(Thing food, int lv, Chara crafter = null) // [!code --]
	public static void MakeDish(Thing food, int lv, Chara crafter = null, int seed = -1) // [!code ++]
	{
		RecipeManager.BuildList();
		List<Thing> list = new List<Thing>();
		RecipeSource recipeSource = RecipeManager.Get(food.id);
		Debug.Log(recipeSource); // [!code --]
		if (recipeSource == null)
		{
			return;
		}
		SetSeed(); // [!code ++]
		int num = Mathf.Min(EClass.rnd(lv), 50);
		foreach (Recipe.Ingredient ingredient in recipeSource.GetIngredients())
		{
			SetSeed(); // [!code ++]
			Thing thing = ThingGen.Create(ingredient.id, -1, lv);
			if (thing.id == "deadbody")
			{
				thing = ThingGen.Create("_meat");
			}
			SetSeed(); // [!code ++]
			thing = thing.TryMakeRandomItem(lv, TryMakeRandomItemSource.Cooking, crafter);
			SetSeed(); // [!code ++]
			TraitSeed.LevelSeed(thing, null, EClass.rnd(lv / 4) + 1);
			thing.SetEncLv(thing.encLV / 2);
			if (num > 0 && EClass.rnd(3) == 0)
```

[`public static void MakeDish(Thing food, int lv, Chara crafter = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/CraftUtil.cs#L97-L122)
```cs:line-numbers=97
				food.elements.Remove(708);
			}
		}
		if (seed != -1) // [!code ++]
		{ // [!code ++]
			Rand.SetSeed(); // [!code ++]
		} // [!code ++]
		void SetSeed() // [!code ++]
		{ // [!code ++]
			if (seed != -1) // [!code ++]
			{ // [!code ++]
				Rand.SetSeed(seed); // [!code ++]
				seed++; // [!code ++]
			} // [!code ++]
		} // [!code ++]
	}

	public static Thing MakeBloodMeal(Chara sucker, Chara feeder)
	{
		int lV = feeder.LV; // [!code --]
		lV = lV / 10 * 10 + 10; // [!code --]
		Rand.SetSeed(EClass.game.seed + feeder.uid);
		Thing thing = ThingGen.CreateFromCategory("meal", lV); // [!code --]
		Thing thing = ThingGen.CreateFromCategory("meal", 100); // [!code ++]
		sucker.Say("food_blood", thing);
		Rand.SetSeed(EClass.game.seed + feeder.uid); // [!code --]
		MakeDish(thing, lV); // [!code --]
		Rand.SetSeed(); // [!code --]
		MakeDish(thing, 100, null, EClass.game.seed + feeder.uid); // [!code ++]
		if (thing.HasElement(709)) // [!code ++]
		{ // [!code ++]
			thing.elements.Remove(709); // [!code ++]
		} // [!code ++]
		if (thing.HasElement(708))
		{
			thing.elements.Remove(708);
		}
		thing.elements.ModBase(710, 1); // [!code --]
		if (thing.HasElement(701)) // [!code ++]
		{ // [!code ++]
			thing.elements.Remove(701); // [!code ++]
		} // [!code ++]
		thing.elements.ModBase(710, 30); // [!code ++]
		thing.elements.SetTo(2, Mathf.Min(EClass.curve(feeder.LV, 30, 10, 60), 200)); // [!code ++]
		return thing;
	}

	public static Thing MakeBloodSample(Chara sucker, Chara feeder) // [!code ++]
	{ // [!code ++]
		Thing thing = MakeBloodMeal(sucker, feeder); // [!code ++]
		Thing thing2 = ThingGen.Create("bloodsample"); // [!code ++]
		foreach (Element value in thing.elements.dict.Values) // [!code ++]
		{ // [!code ++]
			thing2.elements.SetTo(value.id, value.Value); // [!code ++]
		} // [!code ++]
		thing2.elements.SetTo(10, 0); // [!code ++]
		thing2.MakeRefFrom(feeder); // [!code ++]
		thing2.c_idRefCard = thing.id; // [!code ++]
		return thing2; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public static Thing MakeDarkSoup()
	{
		Thing thing = ThingGen.Create("soup_dark");
```

## DOMAIN

[`public class DOMAIN`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/DOMAIN.cs#L18-L24)
```cs:line-numbers=18

	public const int domWind = 807;

	public const int domHarvest = 808; // [!code --]
	public const int domMachine = 809; // [!code ++]

	public const int domLuck = 810;

```

[`public class DOMAIN`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/DOMAIN.cs#L32-L43)
```cs:line-numbers=32

	public const int domHarmony = 815;

	public const int domMachine = 809; // [!code --]
	public const int domHarvest = 808; // [!code ++]

	public static readonly int[] IDS = new int[16]
	{
		802, 801, 800, 806, 803, 804, 805, 807, 808, 810, // [!code --]
		811, 812, 813, 814, 815, 809 // [!code --]
		802, 801, 800, 806, 803, 804, 805, 807, 809, 810, // [!code ++]
		811, 812, 813, 814, 815, 808 // [!code ++]
	};
}
public class Domain : EClass
```

## ENC

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/ENC.cs#L50-L56)
```cs:line-numbers=50

	public const int convertLightning = 852;

	public const int convertCold = 851; // [!code --]
	public const int convertFire = 850; // [!code ++]

	public const int counter = 380;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/ENC.cs#L82-L88)
```cs:line-numbers=82

	public const int onlyPet = 655;

	public const int convertFire = 850; // [!code --]
	public const int convertCold = 851; // [!code ++]

	public const int living = 653;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/ENC.cs#L188-L225)
```cs:line-numbers=188

	public const int mod_splash = 608;

	public const int mod_feint = 623; // [!code --]
 // [!code --]
	public const int mod_precision = 605;

	public const int music_drunk = 489;

	public const int mod_ammo_recover = 604; // [!code --]
 // [!code --]
	public const int mod_ammo_knockback = 603; // [!code --]
	public const int eco = 652; // [!code ++]

	public const int mod_ammo = 600;

	public const int mod_reload = 601;

	public const int eco = 652; // [!code --]
	public const int mod_rapid = 602; // [!code ++]

	public const int mod_drill = 606;

	public const int mod_rapid = 602; // [!code --]
	public const int mod_feint = 623; // [!code ++]
 // [!code ++]
	public const int mod_ammo_knockback = 603; // [!code ++]
 // [!code ++]
	public const int mod_ammo_recover = 604; // [!code ++]

	public static readonly int[] IDS = new int[104]
	{
		421, 415, 416, 417, 418, 414, 419, 420, 422, 424,
		666, 665, 664, 663, 662, 661, 412, 660, 667, 411,
		400, 409, 423, 865, 852, 851, 380, 381, 382, 383, // [!code --]
		400, 409, 423, 865, 852, 850, 380, 381, 382, 383, // [!code ++]
		656, 401, 402, 403, 404, 405, 406, 407, 408, 410,
		655, 850, 653, 447, 450, 460, 461, 462, 463, 464, // [!code --]
		655, 851, 653, 447, 450, 460, 461, 462, 463, 464, // [!code ++]
		465, 466, 467, 468, 480, 482, 483, 484, 446, 485,
		445, 443, 654, 426, 427, 428, 429, 430, 431, 435,
		436, 437, 438, 439, 440, 441, 442, 444, 486, 481,
		488, 425, 624, 640, 641, 650, 651, 487, 621, 620,
		609, 622, 607, 608, 623, 605, 489, 604, 603, 600, // [!code --]
		601, 652, 606, 602 // [!code --]
		609, 622, 607, 608, 605, 489, 652, 600, 601, 602, // [!code ++]
		606, 623, 603, 604 // [!code ++]
	};
}
```

## FACTION

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FACTION.cs#L4-L27)
```cs:line-numbers=4

public class FACTION
{
	public const int bfLandmark5 = 3784; // [!code --]
 // [!code --]
	public const int bfLandmark3 = 3782; // [!code --]
 // [!code --]
	public const int bfLandmark2 = 3781;

	public const int bfLandmark1 = 3780; // [!code --]
 // [!code --]
	public const int bfBreed = 3710;

	public const int bfLandmark4 = 3783; // [!code ++]
 // [!code ++]
	public const int bfLandmark5 = 3784; // [!code ++]
 // [!code ++]
	public const int bfMonster = 3707;

	public const int bfFreshAir = 3708;

	public const int bfLandmark4 = 3783; // [!code --]
 // [!code --]
	public const int bfBasin = 3709;

	public const int bfLandmark1 = 3780; // [!code ++]
 // [!code ++]
	public const int bfLandmark3 = 3782; // [!code ++]
 // [!code ++]
	public const int fTaxEvasion = 2119;

	public const int fAdmin = 2115;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FACTION.cs#L56-L62)
```cs:line-numbers=56

	public const int bfMushroom = 3801;

	public const int bfChitin = 3805; // [!code --]
	public const int bfIce = 3804; // [!code ++]

	public const int bfGum = 3803;

```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FACTION.cs#L88-L94)
```cs:line-numbers=88

	public const int bfFish = 3706;

	public const int bfIce = 3804; // [!code --]
	public const int bfChitin = 3805; // [!code ++]

	public const int bfHunt = 3705;

```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FACTION.cs#L112-L122)
```cs:line-numbers=112

	public static readonly int[] IDS = new int[53]
	{
		3784, 3782, 3781, 3780, 3710, 3707, 3708, 3783, 3709, 2119, // [!code --]
		3781, 3710, 3783, 3784, 3707, 3708, 3709, 3780, 3782, 2119, // [!code ++]
		2115, 2116, 2117, 2118, 2120, 2200, 2201, 2202, 2207, 2203,
		2204, 2206, 3800, 2205, 2003, 3801, 3805, 3803, 3802, 3600, // [!code --]
		2204, 2206, 3800, 2205, 2003, 3801, 3804, 3803, 3802, 3600, // [!code ++]
		3601, 3602, 3603, 3604, 3605, 3700, 3701, 3702, 3703, 3704,
		3606, 3706, 3804, 3705, 3900, 4000, 4001, 4002, 3500, 4004, // [!code --]
		3606, 3706, 3805, 3705, 3900, 4000, 4001, 4002, 3500, 4004, // [!code ++]
		4005, 4006, 4003
	};
}
```

## FEAT

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FEAT.cs#L3-L9)
```cs:line-numbers=3

public class FEAT
{
	public const int featSTR = 1620; // [!code --]
	public const int featStamina = 1612; // [!code ++]

	public const int featLuck = 1628;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FEAT.cs#L19-L34)
```cs:line-numbers=19

	public const int featEND = 1622;

	public const int featDEX = 1621; // [!code ++]
 // [!code ++]
	public const int featHardy = 1630;

	public const int featDEX = 1621; // [!code --]
	public const int featSTR = 1620; // [!code ++]

	public const int featSPD = 1629;

	public const int featWhiteVixen = 1414;

	public const int featMana = 1611; // [!code --]
 // [!code --]
	public const int featLife = 1610;

	public const int featHealer = 1422;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FEAT.cs#L51-L57)
```cs:line-numbers=51

	public const int featFairysan = 1413;

	public const int featStamina = 1612; // [!code --]
	public const int featLuckyCat = 1412; // [!code ++]
 // [!code ++]
	public const int featMana = 1611; // [!code ++]

	public const int featEvade = 1632;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FEAT.cs#L59-L65)
```cs:line-numbers=59

	public const int featNegotiate = 1634;

	public const int featLuckyCat = 1412; // [!code --]
	public const int featEarthStrength = 1411; // [!code ++]

	public const int featGoldenFinger = 1662;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FEAT.cs#L111-L121)
```cs:line-numbers=111

	public const int featSpotting = 1633;

	public const int featEarthStrength = 1411; // [!code --]
	public const int featReboot = 1410; // [!code ++]

	public const int featHeavyEater = 1234;

	public const int featBoost = 1409; // [!code --]
	public const int featPaladin2 = 1408; // [!code ++]

	public const int featAdam = 1230;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FEAT.cs#L145-L151)
```cs:line-numbers=145

	public const int featEternalYouth = 1243;

	public const int featReboot = 1410; // [!code --]
	public const int featBoost = 1409; // [!code ++]

	public const int featPegasus = 1246;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FEAT.cs#L157-L162)
```cs:line-numbers=157

	public const int featVampire = 1250;

	public const int featAshborn = 1251; // [!code ++]
 // [!code ++]
	public const int featGoodKarma = 1270;

	public const int featBadKarma = 1271;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FEAT.cs#L167-L177)
```cs:line-numbers=167

	public const int featGoddess = 1290;

	public const int featGod_element1 = 1300; // [!code --]
 // [!code --]
	public const int featCentaur = 1244;

	public const int featGod_earth1 = 1305; // [!code --]
	public const int featGod_element1 = 1300; // [!code ++]

	public const int featDemigod = 1228;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FEAT.cs#L231-L243)
```cs:line-numbers=231

	public const int featElea = 1213;

	public const int featGod_wind1 = 1310; // [!code --]
	public const int featGod_earth1 = 1305; // [!code ++]

	public const int featSevenSense = 1245;

	public const int featGod_healing1 = 1320; // [!code --]
 // [!code --]
	public const int featPaladin = 1407; // [!code --]
	public const int featGod_machine1 = 1315; // [!code ++]

	public const int featTourist = 1406;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FEAT.cs#L251-L266)
```cs:line-numbers=251

	public const int featThief = 1401;

	public const int featPaladin2 = 1408; // [!code --]
 // [!code --]
	public const int featWarrior = 1400;

	public const int featGod_moonshadow1 = 1350; // [!code --]
	public const int featPaladin = 1407; // [!code ++]

	public const int featGod_machine1 = 1315; // [!code --]
	public const int featGod_strife1 = 1355; // [!code ++]

	public const int featGod_trickery1 = 1345;

	public const int featGod_wind1 = 1310; // [!code ++]
 // [!code ++]
	public const int featGod_oblivion1 = 1340;

	public const int featGod_harmony1 = 1335;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FEAT.cs#L269-L292)
```cs:line-numbers=269

	public const int featGod_harvest1 = 1325;

	public const int featGod_strife1 = 1355; // [!code --]
	public const int featGod_healing1 = 1320; // [!code ++]
 // [!code ++]
	public const int featGod_moonshadow1 = 1350; // [!code ++]

	public static readonly int[] IDS = new int[134] // [!code --]
	public static readonly int[] IDS = new int[135] // [!code ++]
	{
		1620, 1628, 1627, 1626, 1625, 1624, 1623, 1622, 1630, 1621, // [!code --]
		1629, 1414, 1611, 1610, 1422, 1421, 1420, 1419, 1418, 1417, // [!code --]
		1416, 1415, 1631, 1413, 1612, 1632, 1648, 1634, 1412, 1662, // [!code --]
		1661, 1660, 1659, 1658, 1657, 1656, 1655, 1654, 1653, 1652, // [!code --]
		1651, 1650, 1649, 1647, 1646, 1645, 1644, 1643, 1642, 1641, // [!code --]
		1640, 1636, 1635, 1633, 1411, 1234, 1409, 1230, 1231, 1232, // [!code --]
		1233, 1235, 1236, 1237, 1238, 1239, 1240, 1241, 1242, 1229, // [!code --]
		1243, 1410, 1246, 1247, 1248, 1249, 1250, 1270, 1271, 1272, // [!code --]
		1273, 1290, 1300, 1244, 1305, 1228, 1226, 1200, 1201, 1202, // [!code --]
		1203, 1204, 1205, 1206, 1207, 1208, 1209, 1210, 1211, 1227, // [!code --]
		1212, 1214, 1215, 1216, 1217, 1218, 1219, 1220, 1221, 1222, // [!code --]
		1223, 1224, 1225, 1213, 1310, 1245, 1320, 1407, 1406, 1405, // [!code --]
		1404, 1403, 1402, 1401, 1408, 1400, 1350, 1315, 1345, 1340, // [!code --]
		1335, 1330, 1325, 1355 // [!code --]
		1612, 1628, 1627, 1626, 1625, 1624, 1623, 1622, 1621, 1630, // [!code ++]
		1620, 1629, 1414, 1610, 1422, 1421, 1420, 1419, 1418, 1417, // [!code ++]
		1416, 1415, 1631, 1413, 1412, 1611, 1632, 1648, 1634, 1411, // [!code ++]
		1662, 1661, 1660, 1659, 1658, 1657, 1656, 1655, 1654, 1653, // [!code ++]
		1652, 1651, 1650, 1649, 1647, 1646, 1645, 1644, 1643, 1642, // [!code ++]
		1641, 1640, 1636, 1635, 1633, 1410, 1234, 1408, 1230, 1231, // [!code ++]
		1232, 1233, 1235, 1236, 1237, 1238, 1239, 1240, 1241, 1242, // [!code ++]
		1229, 1243, 1409, 1246, 1247, 1248, 1249, 1250, 1251, 1270, // [!code ++]
		1271, 1272, 1273, 1290, 1244, 1300, 1228, 1226, 1200, 1201, // [!code ++]
		1202, 1203, 1204, 1205, 1206, 1207, 1208, 1209, 1210, 1211, // [!code ++]
		1227, 1212, 1214, 1215, 1216, 1217, 1218, 1219, 1220, 1221, // [!code ++]
		1222, 1223, 1224, 1225, 1213, 1305, 1245, 1315, 1406, 1405, // [!code ++]
		1404, 1403, 1402, 1401, 1400, 1407, 1355, 1345, 1310, 1340, // [!code ++]
		1335, 1330, 1325, 1320, 1350 // [!code ++]
	};
}
public class Feat : Element
```

## FoodEffect

[`public static bool IsLeftoverable(Thing food)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FoodEffect.cs#L10-L15)
```cs:line-numbers=10

	public static void Proc(Chara c, Thing food, bool consume = true)
	{
		if (food.id == "bloodsample") // [!code ++]
		{ // [!code ++]
			food.ModNum(-1); // [!code ++]
			return; // [!code ++]
		} // [!code ++]
		food.CheckJustCooked();
		bool flag = EClass._zone.IsPCFaction && c.IsInSpot<TraitSpotDining>();
		int num = (food.isCrafted ? ((EClass.pc.Evalue(1650) >= 3) ? 5 : 0) : 0);
```

[`public static void Proc(Chara c, Thing food, bool consume = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FoodEffect.cs#L75-L81)
```cs:line-numbers=75
	{
		if (food.HasElement(710))
		{
			num2 *= 4f; // [!code --]
			num2 = num2 * 0.1f * (float)(food.Evalue(710) + 10); // [!code ++]
		}
		else
		{
```

[`public static void Proc(Chara c, Thing food, bool consume = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FoodEffect.cs#L229-L235)
```cs:line-numbers=229
				{
					break;
				}
				goto IL_0f4b; // [!code --]
				goto IL_0f76; // [!code ++]
			case "love":
				ActEffect.LoveMiracle(c, EClass.pc, value.Value * 10);
				break;
```

[`public static void Proc(Chara c, Thing food, bool consume = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/FoodEffect.cs#L373-L380)
```cs:line-numbers=373
	{
		food.trait.OnDrink(c);
	}
	goto IL_0f4b; // [!code --]
	IL_0f4b: // [!code --]
	goto IL_0f76; // [!code ++]
	IL_0f76: // [!code ++]
	if (!consume)
	{
		return;
```

## Religion

[`public int GetOfferingValue(Thing t, int num = -1)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/Religion.cs#L176-L188)
```cs:line-numbers=176
	{
		num = t.Num;
	}
	int v = 0; // [!code --]
	long v = 0L; // [!code ++]
	if (t.source._origin == "meat")
	{
		v = Mathf.Clamp(t.SelfWeight / 10, 1, 1000);
		if (t.refCard == null)
		{
			v /= 10; // [!code --]
			v /= 10L; // [!code ++]
		}
	}
	else if (GetOfferingMtp(t) > 0)
```

[`public int GetOfferingValue(Thing t, int num = -1)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/Religion.cs#L201-L217)
```cs:line-numbers=201
			}
		}
	}
	if (v == 0) // [!code --]
	if (v == 0L) // [!code ++]
	{
		return 0;
	}
	if (t.IsDecayed)
	{
		v /= 10; // [!code --]
		v /= 10L; // [!code ++]
	}
	v = v * (100 + Mathf.Min(t.LV * 2, 100) + (t.HasElement(757) ? 50 : 0)) / 100;
	v = Mathf.Max(v, 1) * num; // [!code --]
	return v; // [!code --]
	v = (int)Mathf.Clamp(Mathf.Max(v, 1f) * (float)num, 1f, 214748370f); // [!code ++]
	return (int)v; // [!code ++]
	void SetValue(SourceCategory.Row cat, int mtp)
	{
		v = Mathf.Clamp(t.SelfWeight / 10, 50, 1000);
```

## SKILL

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SKILL.cs#L82-L88)
```cs:line-numbers=82

	public const int mana = 61;

	public const int vigor = 62; // [!code --]
	public const int DV = 64; // [!code ++]

	public const int PV = 65;

```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SKILL.cs#L132-L138)
```cs:line-numbers=132

	public const int gathering = 250;

	public const int DV = 64; // [!code --]
	public const int vigor = 62; // [!code ++]

	public const int blacksmith = 256;

```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SKILL.cs#L178-L187)
```cs:line-numbers=178

	public const int resHoly = 960;

	public const int resCurse = 972; // [!code --]
 // [!code --]
	public const int resMagic = 961;

	public const int resCurse = 972; // [!code ++]
 // [!code ++]
	public const int resEther = 962;

	public const int resAcid = 963;
```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SKILL.cs#L272-L283)
```cs:line-numbers=272
	109, 135, 107, 122, 150, 226, 152, 200, 207, 210,
	220, 225, 227, 230, 235, 237, 240, 241, 242, 106,
	151, 105, 72, 103, 50, 51, 55, 56, 57, 60,
	61, 62, 65, 66, 67, 68, 70, 71, 104, 245, // [!code --]
	61, 64, 65, 66, 67, 68, 70, 71, 104, 245, // [!code ++]
	74, 75, 76, 77, 78, 79, 80, 90, 91, 92,
	93, 100, 101, 102, 73, 250, 64, 256, 916, 917, // [!code --]
	93, 100, 101, 102, 73, 250, 62, 256, 916, 917, // [!code ++]
	918, 920, 921, 922, 923, 924, 925, 926, 950, 951,
	952, 953, 915, 954, 956, 957, 958, 959, 960, 972, // [!code --]
	961, 962, 963, 964, 965, 970, 971, 255, 955, 914, // [!code --]
	952, 953, 915, 954, 956, 957, 958, 959, 960, 961, // [!code ++]
	972, 962, 963, 964, 965, 970, 971, 255, 955, 914, // [!code ++]
	919, 912, 257, 258, 259, 260, 261, 280, 281, 285,
	286, 287, 913, 289, 290, 291, 292, 288, 300, 911,
	910, 293, 312, 311, 310, 313, 306, 305, 304, 303,
```

## SLOT

[`public class SLOT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SLOT.cs#L22-L40)
```cs:line-numbers=22

	public const int neck = 31;

	public const int head = 30; // [!code --]
	public const int range = 41; // [!code ++]

	public const int finger = 36;

	public const int range = 41; // [!code --]
 // [!code --]
	public const int token = 43;

	public const int head = 30; // [!code ++]
 // [!code ++]
	public const int ammo = 42;

	public static readonly int[] IDS = new int[16]
	{
		44, 32, 39, 45, 34, 38, 37, 35, 40, 33,
		31, 30, 36, 41, 43, 42 // [!code --]
		31, 41, 36, 43, 30, 42 // [!code ++]
	};
}
```

## SPELL

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L1-L7)
```cs:line-numbers=1
public class SPELL
{
	public const int sword_Nerve = 51008; // [!code --]
 // [!code --]
	public const int puddle_Nerve = 50908;

	public const int weapon_Nerve = 50808;
```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L12-L44)
```cs:line-numbers=12

	public const int arrow_Nerve = 50508;

	public const int bit_Nerve = 51108; // [!code --]
	public const int sword_Mind = 51004; // [!code ++]

	public const int hand_Nerve = 50408;

	public const int sword_Void = 51016; // [!code --]
 // [!code --]
	public const int bolt_Nerve = 50308;

	public const int flare_Mind = 51204; // [!code --]
	public const int sword_Void = 51016; // [!code ++]

	public const int bit_Mind = 51104;

	public const int flare_Nerve = 51208; // [!code --]
	public const int ball_Nerve = 50108; // [!code ++]
 // [!code ++]
	public const int sword_Nerve = 51008; // [!code ++]
 // [!code ++]
	public const int bit_Nerve = 51108; // [!code ++]

	public const int ball_Holy = 50109;

	public const int sword_Mind = 51004; // [!code --]
	public const int flare_Sound = 51207; // [!code ++]
 // [!code ++]
	public const int puddle_Mind = 50904; // [!code ++]

	public const int bolt_Holy = 50309;

	public const int hand_Holy = 50409; // [!code --]
	public const int weapon_Mind = 50804; // [!code ++]

	public const int puddle_Mind = 50904; // [!code --]
	public const int hand_Holy = 50409; // [!code ++]

	public const int arrow_Holy = 50509;

	public const int weapon_Mind = 50804; // [!code --]
	public const int miasma_Mind = 50704; // [!code ++]

	public const int funnel_Holy = 50609;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L54-L66)
```cs:line-numbers=54

	public const int flare_Holy = 51209;

	public const int ball_Nerve = 50108; // [!code --]
	public const int flare_Nerve = 51208; // [!code ++]

	public const int flare_Sound = 51207; // [!code --]
	public const int bit_Sound = 51107; // [!code ++]

	public const int sword_Sound = 51007;

	public const int miasma_Poison = 50705; // [!code --]
	public const int puddle_Sound = 50907; // [!code ++]
 // [!code ++]
	public const int weapon_Poison = 50805; // [!code ++]

	public const int puddle_Poison = 50905;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L72-L86)
```cs:line-numbers=72

	public const int ball_Nether = 50106;

	public const int funnel_Poison = 50605; // [!code --]
	public const int arrow_Poison = 50505; // [!code ++]

	public const int bolt_Nether = 50306;

	public const int hand_Nether = 50406;

	public const int arrow_Nether = 50506; // [!code --]
	public const int hand_Poison = 50405; // [!code ++]

	public const int arrow_Poison = 50505; // [!code --]
	public const int arrow_Nether = 50506; // [!code ++]

	public const int funnel_Nether = 50606;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L90-L98)
```cs:line-numbers=90

	public const int puddle_Nether = 50906;

	public const int sword_Nether = 51006; // [!code --]
	public const int bolt_Poison = 50305; // [!code ++]

	public const int hand_Poison = 50405; // [!code --]
	public const int sword_Nether = 51006; // [!code ++]

	public const int bit_Nether = 51106;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L100-L128)
```cs:line-numbers=100

	public const int ball_Sound = 50107;

	public const int bolt_Poison = 50305; // [!code --]
	public const int ball_Chaos = 50110; // [!code ++]

	public const int bolt_Sound = 50307;

	public const int hand_Sound = 50407;

	public const int ball_Chaos = 50110; // [!code --]
 // [!code --]
	public const int arrow_Sound = 50507;

	public const int funnel_Sound = 50607;

	public const int miasma_Sound = 50707;

	public const int weapon_Sound = 50807; // [!code --]
	public const int ball_Poison = 50105; // [!code ++]

	public const int puddle_Sound = 50907; // [!code --]
	public const int weapon_Sound = 50807; // [!code ++]

	public const int ball_Poison = 50105; // [!code --]
	public const int flare_Mind = 51204; // [!code ++]

	public const int bit_Sound = 51107; // [!code --]
	public const int funnel_Poison = 50605; // [!code ++]

	public const int weapon_Poison = 50805; // [!code --]
	public const int miasma_Poison = 50705; // [!code ++]

	public const int flare_Ether = 51212;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L164-L170)
```cs:line-numbers=164

	public const int funnel_Impact = 50615;

	public const int miasma_Mind = 50704; // [!code --]
	public const int funnel_Mind = 50604; // [!code ++]

	public const int puddle_Void = 50916;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L272-L282)
```cs:line-numbers=272

	public const int bit_Magic = 51111;

	public const int funnel_Mind = 50604; // [!code --]
	public const int arrow_Mind = 50504; // [!code ++]

	public const int SpIncognito = 8780; // [!code --]
	public const int SpTransmuteBroom = 8790; // [!code ++]

	public const int hand_Mind = 50404; // [!code --]
	public const int bolt_Mind = 50304; // [!code ++]

	public const int SpWisdom = 8503;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L318-L324)
```cs:line-numbers=318

	public const int SpTransmutePutit = 8791;

	public const int SpTransmuteBroom = 8790; // [!code --]
	public const int SpIncognito = 8780; // [!code ++]

	public const int SpSeeInvisible = 8776;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L424-L437)
```cs:line-numbers=424

	public const int SpIdentify = 8230;

	public const int arrow_Mind = 50504; // [!code --]
	public const int hand_Mind = 50404; // [!code ++]

	public const int SpDarkness = 8800;

	public const int SpSummon = 9000;

	public const int funnel_Lightning = 50602; // [!code --]
 // [!code --]
	public const int arrow_Lightning = 50502;

	public const int hand_Lightning = 50402;
```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L460-L474)
```cs:line-numbers=460

	public const int bolt_Cold = 50301;

	public const int miasma_Lightning = 50702; // [!code --]
 // [!code --]
	public const int ball_Cold = 50101;

	public const int weapon_Lightning = 50802; // [!code --]
	public const int funnel_Lightning = 50602; // [!code ++]

	public const int sword_Lightning = 51002; // [!code --]
	public const int flare_Fire = 51200; // [!code ++]

	public const int bolt_Mind = 50304; // [!code --]
	public const int miasma_Lightning = 50702; // [!code ++]
 // [!code ++]
	public const int puddle_Lightning = 50902; // [!code ++]

	public const int ball_Mind = 50104;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L498-L510)
```cs:line-numbers=498

	public const int bit_Lightning = 51102;

	public const int puddle_Lightning = 50902; // [!code --]
	public const int sword_Lightning = 51002; // [!code ++]
 // [!code ++]
	public const int weapon_Lightning = 50802; // [!code ++]

	public const int SpWeb = 8801;

	public const int flare_Fire = 51200; // [!code --]
	public const int bit_Fire = 51100; // [!code ++]

	public const int sword_Fire = 51000; // [!code --]
	public const int puddle_Fire = 50900; // [!code ++]

	public const int SpSummonDragon = 9054;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L536-L550)
```cs:line-numbers=536

	public const int SpSummonUndeadSister = 9001;

	public const int SpMeteor = 9150; // [!code --]
	public const int SpSummonUndead = 9055; // [!code ++]

	public const int bit_Fire = 51100; // [!code --]
 // [!code --]
	public const int SpEarthquake = 9151; // [!code --]
	public const int sword_Fire = 51000; // [!code ++]

	public const int SpMoonArrow = 9156; // [!code --]
	public const int SpMeteor = 9150; // [!code ++]

	public const int puddle_Fire = 50900; // [!code --]
	public const int SpMoonSpear = 9155; // [!code ++]

	public const int weapon_Fire = 50800;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/SPELL.cs#L574-L614)
```cs:line-numbers=574

	public const int SpExterminate = 9160;

	public const int SpMoonSpear = 9155; // [!code --]
	public const int SpMoonArrow = 9156; // [!code ++]
 // [!code ++]
	public const int SpEarthquake = 9151; // [!code ++]

	public const int flare_Void = 51216;

	public static readonly int[] IDS = new int[289] // [!code --]
	public static readonly int[] IDS = new int[290] // [!code ++]
	{
		51008, 50908, 50808, 50708, 50608, 50508, 51108, 50408, 51016, 50308, // [!code --]
		51204, 51104, 51208, 50109, 51004, 50309, 50409, 50904, 50509, 50804, // [!code --]
		50609, 50709, 50809, 50909, 51009, 51109, 51209, 50108, 51207, 51007, // [!code --]
		50705, 50905, 51005, 51105, 51205, 50106, 50605, 50306, 50406, 50506, // [!code --]
		50505, 50606, 50706, 50806, 50906, 51006, 50405, 51106, 51206, 50107, // [!code --]
		50305, 50307, 50407, 50110, 50507, 50607, 50707, 50807, 50907, 50105, // [!code --]
		51107, 50805, 51212, 50410, 50115, 51214, 51114, 51014, 50914, 50814, // [!code --]
		50315, 50714, 50514, 50414, 50314, 50114, 51213, 51113, 50614, 50415, // [!code --]
		50515, 50615, 50704, 50916, 50816, 50716, 50616, 50516, 50416, 50316, // [!code --]
		50116, 51215, 51115, 51015, 50915, 50815, 50715, 51013, 50913, 50813, // [!code --]
		50713, 50811, 50711, 50611, 50511, 50411, 50311, 50111, 51210, 51110, // [!code --]
		51010, 50910, 50810, 50710, 50610, 50510, 50911, 50310, 51011, 51211, // [!code --]
		50613, 50513, 50413, 50313, 50113, 51112, 51012, 50912, 50812, 50712, // [!code --]
		50612, 50512, 50412, 50312, 50112, 51111, 50604, 8780, 50404, 8503, // [!code --]
		8502, 8501, 8500, 8491, 8490, 8480, 8471, 8470, 8450, 8430, // [!code --]
		8406, 8405, 8404, 8403, 8504, 8402, 8506, 8510, 8791, 8790, // [!code --]
		8776, 8775, 8770, 8710, 8708, 8707, 8706, 8705, 8704, 8702, // [!code --]
		8700, 8555, 8550, 8507, 8792, 8401, 8390, 8202, 8201, 8200, // [!code --]
		7800, 7010, 7009, 7008, 7007, 7006, 7005, 7004, 7003, 7002, // [!code --]
		7001, 51116, 8220, 8400, 8221, 8232, 8380, 8300, 8288, 8286, // [!code --]
		8285, 8284, 8281, 8280, 8260, 8256, 8255, 8251, 8250, 8241, // [!code --]
		8240, 8230, 50504, 8800, 9000, 50602, 50502, 50402, 50302, 50102, // [!code --]
		50908, 50808, 50708, 50608, 50508, 51004, 50408, 50308, 51016, 51104, // [!code ++]
		50108, 51008, 51108, 50109, 51207, 50904, 50309, 50804, 50409, 50509, // [!code ++]
		50704, 50609, 50709, 50809, 50909, 51009, 51109, 51209, 51208, 51107, // [!code ++]
		51007, 50907, 50805, 50905, 51005, 51105, 51205, 50106, 50505, 50306, // [!code ++]
		50406, 50405, 50506, 50606, 50706, 50806, 50906, 50305, 51006, 51106, // [!code ++]
		51206, 50107, 50110, 50307, 50407, 50507, 50607, 50707, 50105, 50807, // [!code ++]
		51204, 50605, 50705, 51212, 50410, 50115, 51214, 51114, 51014, 50914, // [!code ++]
		50814, 50315, 50714, 50514, 50414, 50314, 50114, 51213, 51113, 50614, // [!code ++]
		50415, 50515, 50615, 50604, 50916, 50816, 50716, 50616, 50516, 50416, // [!code ++]
		50316, 50116, 51215, 51115, 51015, 50915, 50815, 50715, 51013, 50913, // [!code ++]
		50813, 50713, 50811, 50711, 50611, 50511, 50411, 50311, 50111, 51210, // [!code ++]
		51110, 51010, 50910, 50810, 50710, 50610, 50510, 50911, 50310, 51011, // [!code ++]
		51211, 50613, 50513, 50413, 50313, 50113, 51112, 51012, 50912, 50812, // [!code ++]
		50712, 50612, 50512, 50412, 50312, 50112, 51111, 50504, 8790, 50304, // [!code ++]
		8503, 8502, 8501, 8500, 8491, 8490, 8480, 8471, 8470, 8450, // [!code ++]
		8430, 8406, 8405, 8404, 8403, 8504, 8402, 8506, 8510, 8791, // [!code ++]
		8780, 8776, 8775, 8770, 8710, 8708, 8707, 8706, 8705, 8704, // [!code ++]
		8702, 8700, 8555, 8550, 8507, 8792, 8401, 8390, 8202, 8201, // [!code ++]
		8200, 7800, 7010, 7009, 7008, 7007, 7006, 7005, 7004, 7003, // [!code ++]
		7002, 7001, 51116, 8220, 8400, 8221, 8232, 8380, 8300, 8288, // [!code ++]
		8286, 8285, 8284, 8281, 8280, 8260, 8256, 8255, 8251, 8250, // [!code ++]
		8241, 8240, 8230, 50404, 8800, 9000, 50502, 50402, 50302, 50102, // [!code ++]
		51201, 51101, 51001, 50901, 50801, 50701, 50601, 50501, 50401, 50301,
		50702, 50101, 50802, 51002, 50304, 50104, 51203, 51103, 51003, 50903, // [!code --]
		50803, 50703, 50603, 50503, 50403, 50303, 50103, 51202, 51102, 50902, // [!code --]
		8801, 51200, 51000, 9054, 9053, 9052, 9051, 9050, 9010, 9009, // [!code --]
		9008, 9007, 9006, 9005, 9004, 9003, 9002, 9001, 9150, 51100, // [!code --]
		9151, 9156, 50900, 50800, 50700, 50600, 50500, 50400, 50300, 50100, // [!code --]
		9503, 9502, 9501, 9500, 9210, 9200, 9160, 9155, 51216 // [!code --]
		50101, 50602, 51200, 50702, 50902, 50104, 51203, 51103, 51003, 50903, // [!code ++]
		50803, 50703, 50603, 50503, 50403, 50303, 50103, 51202, 51102, 51002, // [!code ++]
		50802, 8801, 51100, 50900, 9054, 9053, 9052, 9051, 9050, 9010, // [!code ++]
		9009, 9008, 9007, 9006, 9005, 9004, 9003, 9002, 9001, 9055, // [!code ++]
		51000, 9150, 9155, 50800, 50700, 50600, 50500, 50400, 50300, 50100, // [!code ++]
		9503, 9502, 9501, 9500, 9210, 9200, 9160, 9156, 9151, 51216 // [!code ++]
	};
}
public class Spell : Ability
```

## Thing

[`public override void WriteNote(UINote n, Action<UINote> onWriteNote = null, IIns`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/Thing.cs#L1291-L1304)
```cs:line-numbers=1291
				{
					return s;
				}
				int num4 = e.Value; // [!code --]
				int num3 = e.Value; // [!code ++]
				if (e.source.IsWeaponEnc && (!e.source.tag.Contains("modRanged") || e.id == 609) && isEquipped && root.isChara)
				{
					num4 = num4 * (100 + AttackProcess.GetTwoHandEncBonus(root.Chara)) / 100; // [!code --]
					num3 = num3 * (100 + AttackProcess.GetTwoHandEncBonus(root.Chara)) / 100; // [!code ++]
				}
				string text16 = " (" + e.Value + ((e.Value == num4) ? "" : (" → " + num4)) + ")"; // [!code --]
				string text17 = "_bracketLeft３".lang() + e.Name + "_bracketRight３".lang(); // [!code --]
				return s + text16 + " " + text17; // [!code --]
				string text12 = " (" + e.Value + ((e.Value == num3) ? "" : (" → " + num3)) + ")"; // [!code ++]
				string text13 = "_bracketLeft３".lang() + e.Name + "_bracketRight３".lang(); // [!code ++]
				return s + text12 + " " + text13; // [!code ++]
			});
		}
		if (sockets != null)
```

[`public override void WriteNote(UINote n, Action<UINote> onWriteNote = null, IIns`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/Thing.cs#L1314-L1346)
```cs:line-numbers=1314
	{
		if (showTraits)
		{
			elements.AddNote(n, (Element e) => listTrait.Contains(e), null, ElementContainer.NoteMode.BonusTrait, addRaceFeat: false, delegate(Element e, string s) // [!code --]
			{ // [!code --]
				string text13 = s; // [!code --]
				string text14 = e.source.GetText("textExtra"); // [!code --]
				if (!text14.IsEmpty()) // [!code --]
				{ // [!code --]
					string text15 = ""; // [!code --]
					if (e.id == 2 && mode == IInspect.NoteMode.Product) // [!code --]
					{ // [!code --]
						int num2 = recipe.GetQualityBonus() / 10; // [!code --]
						if (num2 >= 0) // [!code --]
						{ // [!code --]
							num2++; // [!code --]
						} // [!code --]
						text15 = "qualityLimit".lang(num2.ToString() ?? ""); // [!code --]
					} // [!code --]
					int num3 = e.Value / 10; // [!code --]
					num3 = ((e.Value < 0) ? (num3 - 1) : (num3 + 1)); // [!code --]
					text14 = "Lv." + num3 + text15 + " " + text14; // [!code --]
					if (infoMode && e.IsFoodTraitMain) // [!code --]
					{ // [!code --]
						text14 += "traitAdditive".lang(); // [!code --]
					} // [!code --]
					text13 += (" <size=12>" + text14 + "</size>").TagColor(FontColor.Passive); // [!code --]
				} // [!code --]
				return text13; // [!code --]
			}, delegate // [!code --]
			elements.AddNote(n, (Element e) => listTrait.Contains(e), null, ElementContainer.NoteMode.BonusTrait, addRaceFeat: false, (Element e, string s) => s + GetTextTrait(e), delegate // [!code ++]
			{
			});
			if (listTrait.Count != list.Count)
```

[`public override void WriteNote(UINote n, Action<UINote> onWriteNote = null, IIns`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/Thing.cs#L1351-L1359)
```cs:line-numbers=1351
		if (base.c_mixedFoodData != null)
		{
			n.AddHeader("isMixedFood");
			foreach (string text18 in base.c_mixedFoodData.texts) // [!code --]
			foreach (string text14 in base.c_mixedFoodData.texts) // [!code ++]
			{
				AddText("_bullet".lang() + text18 + text2, FontColor.Default); // [!code --]
				AddText("_bullet".lang() + text14 + text2, FontColor.Default); // [!code ++]
			}
		}
	}
```

[`public override void WriteNote(UINote n, Action<UINote> onWriteNote = null, IIns`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/Thing.cs#L1370-L1393)
```cs:line-numbers=1370
		n.AddHeader("HeaderAdditionalTrait", "additional_trait");
		foreach (Element item in ListCraftBonusTraits())
		{
			item.AddEncNote(n, this, ElementContainer.NoteMode.BonusTrait, delegate(Element e, string s) // [!code --]
			{ // [!code --]
				string text10 = s; // [!code --]
				string text11 = e.source.GetText("textExtra"); // [!code --]
				if (!text11.IsEmpty()) // [!code --]
				{ // [!code --]
					string text12 = ""; // [!code --]
					int num = e.Value / 10; // [!code --]
					num = ((e.Value < 0) ? (num - 1) : (num + 1)); // [!code --]
					text11 = "Lv." + num + text12 + " " + text11; // [!code --]
					if (infoMode && e.IsFoodTraitMain) // [!code --]
					{ // [!code --]
						text11 += "traitAdditive".lang(); // [!code --]
					} // [!code --]
					text10 += (" <size=12>" + text11 + "</size>").TagColor(FontColor.Passive); // [!code --]
				} // [!code --]
				return text10; // [!code --]
			}); // [!code --]
			item.AddEncNote(n, this, ElementContainer.NoteMode.BonusTrait, (Element e, string s) => s + GetTextTrait(e)); // [!code ++]
		}
	}
	if (EClass.debug.showExtra)
```

[`void AddTextWithIcon(string text, Sprite sprite, FontColor col)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/Thing.cs#L1459-L1464)
```cs:line-numbers=1459
			uIItem2.image1.SetActive(enable: true);
			uIItem2.image1.sprite = sprite;
		}
		string GetTextTrait(Element e) // [!code ++]
		{ // [!code ++]
			string text10 = e.source.GetText("textExtra"); // [!code ++]
			if (text10.IsEmpty()) // [!code ++]
			{ // [!code ++]
				return ""; // [!code ++]
			} // [!code ++]
			if (e.id == 710) // [!code ++]
			{ // [!code ++]
				text10 = text10.Replace("#1", $"{0.1f * (float)(e.Value + 10):F1}"); // [!code ++]
			} // [!code ++]
			string text11 = ""; // [!code ++]
			if (e.id == 2 && mode == IInspect.NoteMode.Product) // [!code ++]
			{ // [!code ++]
				int num = recipe.GetQualityBonus() / 10; // [!code ++]
				if (num >= 0) // [!code ++]
				{ // [!code ++]
					num++; // [!code ++]
				} // [!code ++]
				text11 = "qualityLimit".lang(num.ToString() ?? ""); // [!code ++]
			} // [!code ++]
			int num2 = e.Value / 10; // [!code ++]
			num2 = ((e.Value < 0) ? (num2 - 1) : (num2 + 1)); // [!code ++]
			text10 = "Lv." + num2 + text11 + " " + text10; // [!code ++]
			if (infoMode && e.IsFoodTraitMain) // [!code ++]
			{ // [!code ++]
				text10 += "traitAdditive".lang(); // [!code ++]
			} // [!code ++]
			return (" <size=12>" + text10 + "</size>").TagColor(FontColor.Passive); // [!code ++]
		} // [!code ++]
	}

	public static void AddAttackEvaluation(UINote n, Chara chara, Thing current = null)
```

## Trait

[`public void OnBarter(bool reroll = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/Trait.cs#L1695-L1700)
```cs:line-numbers=1695
				Add("stethoscope", 1, 0);
				Add("whip_love", 1, 0);
				Add("whip_interest", 1, 0);
				Add("syringe_blood", 20, 0); // [!code ++]
				if (EClass.game.IsSurvival)
				{
					Add("chest_tax", 1, 0);
```

## +TraitBloodSample

::: details File Created
```cs
public class TraitBloodSample : TraitFoodMeal
{
	public override void SetName(ref string s)
	{
		if (!owner.c_idRefCard.IsEmpty())
		{
			s = s + Lang.space + "_flavor".lang(EClass.sources.cards.map.TryGetValue(owner.c_idRefCard, "fail_dish").GetName().ToTitleCase(wholeText: true));
		}
	}
}
```

:::
## +TraitSyringeBlood

::: details File Created
```cs
public class TraitSyringeBlood : TraitTicketChampagne.TraitSyringe
{
	public override void TrySetHeldAct(ActPlan p)
	{
		p.pos.Charas.ForEach(delegate(Chara c)
		{
			p.TrySetAct("actInject".lang("", c.Name), delegate
			{
				EClass.pc.PlaySound("syringe");
				EClass.pc.Say("syringe", EClass.pc, c, owner.NameOne);
				c.PlayEffect("blood").SetParticleColor(EClass.Colors.matColors[c.material.alias].main).Emit(20);
				c.AddBlood(2 + EClass.rnd(2));
				EClass.pc.PickOrDrop(EClass.pc.pos, CraftUtil.MakeBloodSample(EClass.pc, c));
				owner.ModNum(-1);
				return false;
			}, c);
		});
	}
}
```

:::
## TraitSyringeGene

[`public class TraitSyringeGene : Trait`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/TraitSyringeGene.cs#L1-L7)
```cs:line-numbers=1
public class TraitSyringeGene : Trait // [!code --]
public class TraitSyringeGene : TraitTicketChampagne.TraitSyringe // [!code ++]
{
	public override bool CanChangeHeight => false; // [!code --]
 // [!code --]
	public override void TrySetHeldAct(ActPlan p)
	{
		p.pos.Charas.ForEach(delegate(Chara c)
```

[`public override void TrySetHeldAct(ActPlan p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/TraitSyringeGene.cs#L9-L15)
```cs:line-numbers=9
		p.TrySetAct("actInject".lang("", c.Name), delegate
		{
			EClass.pc.PlaySound("syringe");
			EClass.pc.Say("syringe", EClass.pc, owner.NameOne, c.Name); // [!code --]
			EClass.pc.Say("syringe", EClass.pc, c, owner.NameOne); // [!code ++]
			c.PlayEffect("blood").SetParticleColor(EClass.Colors.matColors[c.material.alias].main).Emit(20);
			c.AddBlood(2 + EClass.rnd(2));
			c.AddCondition<ConHallucination>(50);
```

## TraitSyringeHeaven

[`public class TraitSyringeHeaven : Trait`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/TraitSyringeHeaven.cs#L1-L7)
```cs:line-numbers=1
public class TraitSyringeHeaven : Trait // [!code --]
public class TraitSyringeHeaven : TraitTicketChampagne.TraitSyringe // [!code ++]
{
	public override bool CanChangeHeight => false; // [!code --]
 // [!code --]
	public override void TrySetHeldAct(ActPlan p)
	{
		p.pos.Charas.ForEach(delegate(Chara c)
```

[`public override void TrySetHeldAct(ActPlan p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/TraitSyringeHeaven.cs#L9-L15)
```cs:line-numbers=9
		p.TrySetAct("actInject".lang("", c.Name), delegate
		{
			EClass.pc.PlaySound("syringe");
			EClass.pc.Say("syringe", EClass.pc, owner.NameOne, c.Name); // [!code --]
			EClass.pc.Say("syringe", EClass.pc, c, owner.NameOne); // [!code ++]
			c.PlayEffect("blood").SetParticleColor(EClass.Colors.matColors[c.material.alias].main).Emit(20);
			c.AddBlood(2 + EClass.rnd(2));
			c.AddCondition<ConHallucination>(50);
```

## TraitTicketChampagne

[`public class TraitTicketChampagne : TraitTicketMassage`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/22475a2936848dfb9c8300e0d7b56e13f14e72fe/Elin/TraitTicketChampagne.cs#L1-L3)
```cs:line-numbers=1
public class TraitTicketChampagne : TraitTicketMassage
{
	public class TraitSyringe : Trait // [!code ++]
	{ // [!code ++]
		public override bool CanChangeHeight => false; // [!code ++]
	} // [!code ++]
}
```
