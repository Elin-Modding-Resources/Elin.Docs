---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 42 files modified. 1 new file created.
version: EA 23.234 Nightly
changes: ABILITY/AI_Fuck/AI_Idle/AI_PlayMusic/+ActBloodsuck/ActEffect/ActNTR/ActPlan/BaseGameScreen/BaseTileMap/Card/Chara/ConSleep/ConTransmute/ConTransmuteBat/ContentConfigTest/CoreConfig/CoreDebug/CraftUtil/DNA/DOMAIN/ELEMENT/ENC/FACTION/FEAT/FOOD/FoodEffect/HotItemNoItem/MUTATION/POLICY/Player/Point/Recipe/Religion/SKILL/SLOT/SPELL/SerializedCards/SourceThing/Thing/TraitAltar/TraitMapBoard/WidgetManager
---

# EA 23.234 Nightly

November 16, 2025

42 files modified. 1 new file created.

## Important Changes

Possible breaking changes. Click the filename to view the chunk.
### [Chara (1)](#chara)
```cs:no-line-numbers
public void OnSleep(int power, int days = 1) // [!code --]
public void OnSleep(int power, int days = 1, bool isSunLit = false) // [!code ++]
```
## ABILITY

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ABILITY.cs#L2-L12)
```cs:line-numbers=2

public class ABILITY
{
	public const int ActNTR = 6603; // [!code --]
 // [!code --]
	public const int ActBash = 5052; // [!code --]
 // [!code --]
	public const int TaskHarvest = 5053; // [!code --]
	public const int ActCryRage = 6604; // [!code ++]

	public const int AI_Bladder = 5054;

```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ABILITY.cs#L32-L44)
```cs:line-numbers=32

	public const int ActPray = 6050;

	public const int ActZap = 5051; // [!code --]
 // [!code --]
	public const int ActEscape = 6400;

	public const int ActDuplicate = 6420; // [!code --]
	public const int ActSuicide = 6410; // [!code ++]

	public const int ActRush = 6450; // [!code --]
	public const int TaskHarvest = 5053; // [!code ++]
 // [!code ++]
	public const int ActDuplicate = 6420; // [!code ++]

	public const int ActCrabBreathe = 6500;

```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ABILITY.cs#L48-L59)
```cs:line-numbers=48

	public const int ActDraw = 6602;

	public const int ActCryRage = 6604; // [!code --]
	public const int ActNTR = 6603; // [!code ++]

	public const int ActCrySad = 6605;

	public const int ActBurnMana = 6606;

	public const int ActBloodsuck = 6607; // [!code ++]
 // [!code ++]
	public const int ActWeaken = 6610;

	public const int ActFear = 6611;
```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ABILITY.cs#L64-L80)
```cs:line-numbers=64

	public const int ActGazeDim = 6620;

	public const int ActSuicide = 6410; // [!code --]
 // [!code --]
	public const int ActGazeInsane = 6621;

	public const int AI_Sleep = 5050; // [!code --]
	public const int ActRush = 6450; // [!code ++]

	public const int ActItem = 5048; // [!code --]
	public const int ActGazeMana = 6623; // [!code ++]

	public const int TaskPick = 5018; // [!code --]
	public const int ActBash = 5052; // [!code ++]

	public const int TaskReadBoard = 5019; // [!code --]
	public const int AI_Sleep = 5050; // [!code ++]

	public const int TaskFarm = 5020;

```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ABILITY.cs#L100-L112)
```cs:line-numbers=100

	public const int AI_Deconstruct = 5031;

	public const int AI_OpenLock = 5049; // [!code --]
 // [!code --]
	public const int AI_Equip = 5032;

	public const int GoalIdle = 5034; // [!code --]
	public const int ActCancelTask = 5033; // [!code ++]

	public const int TaskBuild = 5035; // [!code --]
	public const int ActZap = 5051; // [!code ++]
 // [!code ++]
	public const int GoalIdle = 5034; // [!code ++]

	public const int TaskMoveInstalled = 5036;

```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ABILITY.cs#L132-L148)
```cs:line-numbers=132

	public const int ActPick = 5047;

	public const int ActCancelTask = 5033; // [!code --]
 // [!code --]
	public const int ActGazeMana = 6623; // [!code --]
	public const int ActItem = 5048; // [!code ++]

	public const int ActGazeMutation = 6622; // [!code --]
	public const int AI_OpenLock = 5049; // [!code ++]

	public const int ActCatHuffing = 6627; // [!code --]
	public const int TaskBuild = 5035; // [!code ++]

	public const int ActDrainBlood = 6626;

	public const int breathe_Nether = 50206; // [!code --]
	public const int ActGazeMutation = 6622; // [!code ++]
 // [!code ++]
	public const int ActInsult = 6630; // [!code ++]
 // [!code ++]
	public const int ActCatHuffing = 6627; // [!code ++]

	public const int breathe_Sound = 50207;

```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ABILITY.cs#L164-L214)
```cs:line-numbers=164

	public const int breathe_Void = 50216;

	public const int TaskReadBoard = 5019; // [!code ++]
 // [!code ++]
	public const int TaskPick = 5018; // [!code ++]
 // [!code ++]
	public const int TaskTalk = 5017;

	public const int TaskTame = 5016;

	public const int breathe_Mind = 50204; // [!code --]
 // [!code --]
	public const int TaskAttack = 5015;

	public const int ActAttack = 5013; // [!code --]
	public const int TaskPlow = 5014; // [!code ++]

	public const int AI_Goto = 5012; // [!code --]
	public const int ActWait = 5000; // [!code ++]

	public const int TaskCut = 5011; // [!code --]
	public const int ActMelee = 5001; // [!code ++]

	public const int TaskDig = 5010; // [!code --]
	public const int Melee = 5002; // [!code ++]

	public const int TaskMine = 5009; // [!code --]
	public const int Ranged = 5003; // [!code ++]

	public const int General = 5008; // [!code --]
	public const int Sleep = 5004; // [!code ++]

	public const int Use = 5007; // [!code --]
	public const int Wait = 5005; // [!code ++]

	public const int Shoot = 5006; // [!code --]
	public const int breathe_Poison = 50205; // [!code ++]

	public const int Wait = 5005; // [!code --]
	public const int Shoot = 5006; // [!code ++]

	public const int Sleep = 5004; // [!code --]
	public const int General = 5008; // [!code ++]

	public const int Ranged = 5003; // [!code --]
	public const int TaskMine = 5009; // [!code ++]

	public const int Melee = 5002; // [!code --]
	public const int TaskDig = 5010; // [!code ++]

	public const int ActMelee = 5001; // [!code --]
	public const int TaskCut = 5011; // [!code ++]

	public const int ActWait = 5000; // [!code --]
	public const int AI_Goto = 5012; // [!code ++]

	public const int TaskPlow = 5014; // [!code --]
	public const int ActAttack = 5013; // [!code ++]

	public const int breathe_Darkness = 50203; // [!code --]
	public const int Use = 5007; // [!code ++]

	public const int breathe_Poison = 50205; // [!code --]
	public const int breathe_Mind = 50204; // [!code ++]

	public const int breathe_Cold = 50201; // [!code --]
	public const int breathe_Nether = 50206; // [!code ++]

	public const int ActInsult = 6630; // [!code --]
	public const int breathe_Lightning = 50202; // [!code ++]

	public const int ActScream = 6631;

```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ABILITY.cs#L232-L238)
```cs:line-numbers=232

	public const int ActBladeStorm2 = 6665;

	public const int breathe_Lightning = 50202; // [!code --]
	public const int breathe_Darkness = 50203; // [!code ++]

	public const int ActMissileBarrage = 6667;

```

[`public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ABILITY.cs#L240-L285)
```cs:line-numbers=240

	public const int ActWhirlwind = 6666;

	public const int ActJureHeal = 6901; // [!code --]
 // [!code --]
	public const int StTaunt = 6700; // [!code --]
 // [!code --]
	public const int StManaCost = 6720;

	public const int SongSleep = 6750; // [!code --]
 // [!code --]
	public const int SongTulip = 6751; // [!code --]
	public const int breathe_Cold = 50201; // [!code ++]

	public const int SongValor = 6752; // [!code --]
	public const int breathe_Fire = 50200; // [!code ++]

	public const int ActManaAbsorb = 6900; // [!code --]
	public const int SpTransmuteBat = 8793; // [!code ++]

	public const int breathe_Fire = 50200; // [!code --]
	public const int breathe_ = 7000; // [!code ++]

	public const int ActLulwyTrick = 6902; // [!code --]
	public const int StTaunt = 6700; // [!code ++]

	public const int ActKizuamiTrick = 6903;

	public const int breathe_ = 7000; // [!code --]
	public const int ActLulwyTrick = 6902; // [!code ++]

	public const int ActHeadpat = 6904;

	public static readonly int[] IDS = new int[131] // [!code --]
	public const int ActManaAbsorb = 6900; // [!code ++]
 // [!code ++]
	public const int SongValor = 6752; // [!code ++]
 // [!code ++]
	public const int SongTulip = 6751; // [!code ++]
 // [!code ++]
	public const int SongSleep = 6750; // [!code ++]
 // [!code ++]
	public const int ActJureHeal = 6901; // [!code ++]
 // [!code ++]
	public static readonly int[] IDS = new int[133] // [!code ++]
	{
		6603, 5052, 5053, 5054, 5055, 6001, 6003, 6011, 6012, 6013, // [!code --]
		6015, 6018, 6019, 6020, 6050, 5051, 6400, 6420, 6450, 6500, // [!code --]
		6600, 6601, 6602, 6604, 6605, 6606, 6610, 6611, 6612, 6613, // [!code --]
		6620, 6410, 6621, 5050, 5048, 5018, 5019, 5020, 5021, 5022, // [!code --]
		5023, 5024, 5025, 5026, 5027, 5028, 5029, 5030, 5031, 5049, // [!code --]
		5032, 5034, 5035, 5036, 5037, 5038, 5039, 5040, 5041, 5042, // [!code --]
		5043, 5044, 5045, 5046, 5047, 5033, 6623, 6622, 6627, 6626, // [!code --]
		50206, 50207, 50208, 50209, 50210, 50211, 50212, 50213, 50214, 50215, // [!code --]
		50216, 5017, 5016, 50204, 5015, 5013, 5012, 5011, 5010, 5009, // [!code --]
		5008, 5007, 5006, 5005, 5004, 5003, 5002, 5001, 5000, 5014, // [!code --]
		50203, 50205, 50201, 6630, 6631, 6640, 6641, 6642, 6650, 6660, // [!code --]
		6661, 6662, 6663, 6664, 6665, 50202, 6667, 6800, 6666, 6901, // [!code --]
		6700, 6720, 6750, 6751, 6752, 6900, 50200, 6902, 6903, 7000, // [!code --]
		6904 // [!code --]
		6604, 5054, 5055, 6001, 6003, 6011, 6012, 6013, 6015, 6018, // [!code ++]
		6019, 6020, 6050, 6400, 6410, 5053, 6420, 6500, 6600, 6601, // [!code ++]
		6602, 6603, 6605, 6606, 6607, 6610, 6611, 6612, 6613, 6620, // [!code ++]
		6621, 6450, 6623, 5052, 5050, 5020, 5021, 5022, 5023, 5024, // [!code ++]
		5025, 5026, 5027, 5028, 5029, 5030, 5031, 5032, 5033, 5051, // [!code ++]
		5034, 5036, 5037, 5038, 5039, 5040, 5041, 5042, 5043, 5044, // [!code ++]
		5045, 5046, 5047, 5048, 5049, 5035, 6626, 6622, 6630, 6627, // [!code ++]
		50207, 50208, 50209, 50210, 50211, 50212, 50213, 50214, 50215, 50216, // [!code ++]
		5019, 5018, 5017, 5016, 5015, 5014, 5000, 5001, 5002, 5003, // [!code ++]
		5004, 5005, 50205, 5006, 5008, 5009, 5010, 5011, 5012, 5013, // [!code ++]
		5007, 50204, 50206, 50202, 6631, 6640, 6641, 6642, 6650, 6660, // [!code ++]
		6661, 6662, 6663, 6664, 6665, 50203, 6667, 6800, 6666, 6720, // [!code ++]
		50201, 50200, 8793, 7000, 6700, 6903, 6902, 6904, 6900, 6752, // [!code ++]
		6751, 6750, 6901 // [!code ++]
	};
}
public class Ability : Act
```

## AI_Fuck

[`public enum FuckType`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/AI_Fuck.cs#L9-L24)
```cs:line-numbers=9
		tame
	}

	public enum Variation // [!code ++]
	{ // [!code ++]
		Normal, // [!code ++]
		Bitch, // [!code ++]
		Succubus, // [!code ++]
		NTR, // [!code ++]
		Bloodsuck // [!code ++]
	} // [!code ++]
 // [!code ++]
	public Variation variation; // [!code ++]
 // [!code ++]
	public Chara target;

	public bool sell;

	public bool bitch; // [!code --]
 // [!code --]
	public bool succubus;

	public bool ntr; // [!code --]
 // [!code --]
	public int maxProgress;

	public int progress;
```

[`public enum FuckType`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/AI_Fuck.cs#L39-L47)
```cs:line-numbers=39

	public override int CurrentProgress => progress;

	public override bool CancelOnAggro => !ntr; // [!code --]
	public override bool CancelOnAggro // [!code ++]
	{ // [!code ++]
		get // [!code ++]
		{ // [!code ++]
			if (variation != Variation.NTR) // [!code ++]
			{ // [!code ++]
				return variation != Variation.Bloodsuck; // [!code ++]
			} // [!code ++]
			return false; // [!code ++]
		} // [!code ++]
	} // [!code ++]

	public override bool CancelWhenDamaged => !ntr; // [!code --]
	public override bool CancelWhenDamaged => CancelOnAggro; // [!code ++]

	public override bool ShouldAllyAttack(Chara tg)
	{
```

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/AI_Fuck.cs#L75-L85)
```cs:line-numbers=75
	{
		cc.SetTempHand(1104, -1);
	}
	maxProgress = (ntr ? 10 : 25); // [!code --]
	if (succubus) // [!code --]
	maxProgress = ((variation == Variation.NTR || variation == Variation.Bloodsuck) ? 10 : 25); // [!code ++]
	if (variation == Variation.Succubus) // [!code ++]
	{
		cc.Talk("seduce");
	}
	if (variation == Variation.Bloodsuck) // [!code ++]
	{ // [!code ++]
		cc.PlaySound("bloodsuck"); // [!code ++]
	} // [!code ++]
	for (int i = 0; i < maxProgress; i++)
	{
		progress = i;
```

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/AI_Fuck.cs#L87-L93)
```cs:line-numbers=87
		switch (Type)
		{
		case FuckType.fuck:
			if (ntr) // [!code --]
			if (variation == Variation.NTR) // [!code ++]
			{
				cc.Say("ntr", cc, tc);
			}
```

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/AI_Fuck.cs#L114-L119)
```cs:line-numbers=114
			{
				target.AddCondition<ConWait>(50, force: true);
			}
			if (variation == Variation.Bloodsuck) // [!code ++]
			{ // [!code ++]
				owner.pos.TryWitnessCrime(cc, tc, 4, (Chara c) => EClass.rnd(cc.HasCondition<ConTransmuteBat>() ? 50 : 20) == 0); // [!code ++]
			} // [!code ++]
			break;
		case FuckType.tame:
		{
```

[`public void Finish()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/AI_Fuck.cs#L191-L234)
```cs:line-numbers=191
	{
	case FuckType.fuck:
	{
		for (int i = 0; i < 2; i++) // [!code --]
		if (variation == Variation.Bloodsuck) // [!code ++]
		{
			Chara chara3 = ((i == 0) ? chara : chara2); // [!code --]
			chara3.RemoveCondition<ConDrunk>(); // [!code --]
			if (EClass.rnd(15) == 0 && !chara3.HasElement(1216)) // [!code --]
			if (EClass.rnd(2) == 0) // [!code ++]
			{
				chara3.AddCondition<ConDisease>(200); // [!code --]
				chara2.AddCondition<ConConfuse>(500); // [!code ++]
			}
			chara3.ModExp(77, 250); // [!code --]
			chara3.ModExp(71, 250); // [!code --]
			chara3.ModExp(75, 250); // [!code --]
		} // [!code --]
		if (!chara2.HasElement(1216)) // [!code --]
		{ // [!code --]
			if (EClass.rnd(5) == 0) // [!code --]
			if (EClass.rnd(2) == 0) // [!code ++]
			{ // [!code ++]
				chara2.AddCondition<ConDim>(500); // [!code ++]
			} // [!code ++]
			if (EClass.rnd(2) == 0) // [!code ++]
			{
				chara2.AddCondition<ConParalyze>(500);
			}
			if (EClass.rnd(3) == 0) // [!code --]
			if (EClass.rnd(10) == 0) // [!code ++]
			{
				chara2.AddCondition<ConInsane>(100 + EClass.rnd(100));
			}
		}
		int num3 = CalcMoney.Whore(chara2, chara); // [!code --]
		else // [!code ++]
		{ // [!code ++]
			for (int i = 0; i < 2; i++) // [!code ++]
			{ // [!code ++]
				Chara chara3 = ((i == 0) ? chara : chara2); // [!code ++]
				chara3.RemoveCondition<ConDrunk>(); // [!code ++]
				if (EClass.rnd(15) == 0 && !chara3.HasElement(1216)) // [!code ++]
				{ // [!code ++]
					chara3.AddCondition<ConDisease>(200); // [!code ++]
				} // [!code ++]
				chara3.ModExp(77, 250); // [!code ++]
				chara3.ModExp(71, 250); // [!code ++]
				chara3.ModExp(75, 250); // [!code ++]
			} // [!code ++]
			if (!chara2.HasElement(1216)) // [!code ++]
			{ // [!code ++]
				if (EClass.rnd(5) == 0) // [!code ++]
				{ // [!code ++]
					chara2.AddCondition<ConParalyze>(500); // [!code ++]
				} // [!code ++]
				if (EClass.rnd(3) == 0) // [!code ++]
				{ // [!code ++]
					chara2.AddCondition<ConInsane>(100 + EClass.rnd(100)); // [!code ++]
				} // [!code ++]
			} // [!code ++]
		} // [!code ++]
		chara.Talk("tail_after");
		bool flag3 = false;
		if (succubus) // [!code --]
		if (variation == Variation.Succubus) // [!code ++]
		{
			chara.ShowEmo(Emo.love);
			chara2.ShowEmo(Emo.love);
			EClass.player.forceTalk = true;
			chara2.Talk("seduced");
		}
		else if (chara != EClass.pc) // [!code --]
		else if (variation != Variation.NTR && variation != Variation.Bloodsuck && chara != EClass.pc) // [!code ++]
		{
			int num3 = CalcMoney.Whore(chara2, chara); // [!code ++]
			Chara chara4 = chara;
			Chara chara5 = chara2;
			if (bitch) // [!code --]
			if (variation == Variation.Bitch) // [!code ++]
			{
				chara = chara5;
				chara2 = chara4;
```

[`public void Finish()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/AI_Fuck.cs#L287-L318)
```cs:line-numbers=287
		{
			chara2.DoHostileAction(chara);
		}
		if (chara.IsPCParty || chara2.IsPCParty) // [!code --]
		if (variation == Variation.Bloodsuck) // [!code ++]
		{ // [!code ++]
			int value = chara.hunger.value; // [!code ++]
			Thing food = CraftUtil.MakeBloodMeal(chara, chara2); // [!code ++]
			FoodEffect.Proc(chara, food, consume: false); // [!code ++]
			chara2.AddCondition<ConBleed>(EClass.rndHalf(value * 20)); // [!code ++]
		} // [!code ++]
		else // [!code ++]
		{
			chara.stamina.Mod(-5 - EClass.rnd(chara.stamina.max / 10 + (succubus ? StaminaCost(chara2, chara) : 0) + 1)); // [!code --]
			chara2.stamina.Mod(-5 - EClass.rnd(chara2.stamina.max / 20 + (succubus ? StaminaCost(chara, chara2) : 0) + 1)); // [!code --]
			if (chara.IsPCParty || chara2.IsPCParty) // [!code ++]
			{ // [!code ++]
				chara.stamina.Mod(-5 - EClass.rnd(chara.stamina.max / 10 + ((variation == Variation.Succubus) ? StaminaCost(chara2, chara) : 0) + 1)); // [!code ++]
				chara2.stamina.Mod(-5 - EClass.rnd(chara2.stamina.max / 20 + ((variation == Variation.Succubus) ? StaminaCost(chara, chara2) : 0) + 1)); // [!code ++]
			} // [!code ++]
			SuccubusExp(chara, chara2); // [!code ++]
			SuccubusExp(chara2, chara); // [!code ++]
		}
		SuccubusExp(chara, chara2); // [!code --]
		SuccubusExp(chara2, chara); // [!code --]
		chara2.ModAffinity(chara, flag ? 10 : (-5));
		if (chara == EClass.pc || chara2 == EClass.pc)
		{
			EClass.player.stats.kimo++;
		}
		if (ntr) // [!code --]
		if (variation != Variation.NTR) // [!code ++]
		{
			Thing thing = chara2.things.Find<TraitDreamBug>(); // [!code --]
			if (thing != null) // [!code --]
			break; // [!code ++]
		} // [!code ++]
		Thing thing = chara2.things.Find<TraitDreamBug>(); // [!code ++]
		if (thing != null) // [!code ++]
		{ // [!code ++]
			thing.ModNum(-1); // [!code ++]
			if (chara.IsPC) // [!code ++]
			{
				thing.ModNum(-1); // [!code --]
				if (chara.IsPC) // [!code --]
				{ // [!code --]
					Msg.Say("dream_spell", EClass.sources.elements.map[9156].GetName().ToLowerInvariant()); // [!code --]
					EClass.pc.GainAbility(9156, EClass.rnd(2) + 1); // [!code --]
				} // [!code --]
				Msg.Say("dream_spell", EClass.sources.elements.map[9156].GetName().ToLowerInvariant()); // [!code ++]
				EClass.pc.GainAbility(9156, EClass.rnd(2) + 1); // [!code ++]
			}
		}
		if (!ntr || !chara.HasElement(1239) || chara2.HasElement(1216)) // [!code --]
		if (!chara.HasElement(1239) || chara2.HasElement(1216)) // [!code ++]
		{
			break;
		}
```

## AI_Idle

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/AI_Idle.cs#L309-L314)
```cs:line-numbers=309
					}
				}
			}
			if (EClass.rnd(100) == 0 && EClass.pc.ai is AI_Fish && owner.stamina.value > 0 && owner.things.Find<TraitToolFishing>() != null) // [!code ++]
			{ // [!code ++]
				Point randomPointInRadius = EClass.pc.pos.GetRandomPointInRadius(0, 3); // [!code ++]
				if (randomPointInRadius != null) // [!code ++]
				{ // [!code ++]
					randomPointInRadius = AI_Fish.GetFishingPoint(randomPointInRadius); // [!code ++]
					if (randomPointInRadius.IsValid) // [!code ++]
					{ // [!code ++]
						yield return Do(new AI_Fish // [!code ++]
						{ // [!code ++]
							pos = randomPointInRadius // [!code ++]
						}); // [!code ++]
					} // [!code ++]
				} // [!code ++]
			} // [!code ++]
		}
		if (owner.c_uidMaster != 0)
		{
```

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/AI_Idle.cs#L649-L655)
```cs:line-numbers=649
			yield return Do(new AI_Fuck
			{
				target = chara3,
				bitch = true // [!code --]
				variation = AI_Fuck.Variation.Bitch // [!code ++]
			});
		}
	}
```

## AI_PlayMusic

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/AI_PlayMusic.cs#L126-L131)
```cs:line-numbers=126
			idSong = "flute";
			break;
		case "taiko":
		case "drum": // [!code ++]
			idSong = "taiko";
			break;
		case "mokugyo":
```

## +ActBloodsuck

::: details File Created
```cs
public class ActBloodsuck : ActNTR
{
	public override bool IsHostileAct => true;

	public override bool CanPerform()
	{
		if (Act.TC == null || !Act.TC.isChara || Act.TC == Act.CC)
		{
			return false;
		}
		if (Act.TC.Evalue(964) > 0)
		{
			return false;
		}
		return true;
	}

	public override bool Perform()
	{
		Act.CC.SetAI(new AI_Fuck
		{
			target = Act.TC.Chara,
			variation = AI_Fuck.Variation.Bloodsuck
		});
		return true;
	}
}
```

:::
## ActEffect

[`public static bool Wish(string s, string name, int power, BlessedState state)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ActEffect.cs#L2724-L2730)
```cs:line-numbers=2724
			bool flag = false;
			foreach (Religion item in EClass.game.religions.list)
			{
				if (item.IsValidArtifact(r.id)) // [!code --]
				if (item.giftRank >= 2 && item.IsValidArtifact(r.id)) // [!code ++]
				{
					flag = true;
				}
```

[`public static bool Wish(string s, string name, int power, BlessedState state)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ActEffect.cs#L2852-L2858)
```cs:line-numbers=2852
		Msg.Say("wishFail");
		return false;
	}
	list.Sort((WishItem a, WishItem b) => (a.score != b.score) ? (b.score - a.score) : (EClass.rnd(10) - EClass.rnd(10))); // [!code --]
	list.Sort((WishItem a, WishItem b) => b.score - a.score); // [!code ++]
	foreach (WishItem item2 in list)
	{
		Debug.Log(item2.score + "/" + s + "/" + item2.n);
```

[`public static int Compare(string s, string t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ActEffect.cs#L2870-L2880)
```cs:line-numbers=2870
	int num = 0;
	if (t == s)
	{
		num += 100; // [!code --]
		num += 100 + EClass.rnd(30); // [!code ++]
	}
	if (t.Contains(s))
	{
		num += 100; // [!code --]
		num += 100 + EClass.rnd(30); // [!code ++]
	}
	return num;
}
```

## ActNTR

[`public override bool Perform()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ActNTR.cs#L32-L39)
```cs:line-numbers=32
	Act.CC.SetAI(new AI_Fuck
	{
		target = Act.TC.Chara,
		bitch = true, // [!code --]
		ntr = true // [!code --]
		variation = AI_Fuck.Variation.NTR // [!code ++]
	});
	return true;
}
```

## ActPlan

[`public void _Update(PointTarget target)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ActPlan.cs#L542-L548)
```cs:line-numbers=542
								TrySetAct(new AI_Fuck
								{
									target = c2,
									succubus = true // [!code --]
									variation = AI_Fuck.Variation.Succubus // [!code ++]
								}, c2);
							}
							TrySetAct(ACT.Chat, c2);
```

## BaseGameScreen

[`public void RefreshAll()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseGameScreen.cs#L549-L556)
```cs:line-numbers=549
public void RefreshScreenSize()
{
	Zoom = EMono.scene.camSupport.Zoom;
	width = (int)((float)Screen.width / tileSize.x / Zoom) + (int)paddings.x + 2; // [!code --]
	height = (int)((float)Screen.height / (tileSize.y / 2f) / Zoom) + (int)paddings.y + 4; // [!code --]
	width = (int)((float)Screen.width / tileSize.x / Zoom) + (int)paddings.x + 2 + EMono.core.config.test.screenExtraWidth; // [!code ++]
	height = (int)((float)Screen.height / (tileSize.y / 2f) / Zoom) + (int)paddings.y + 4 + EMono.core.config.test.screenExtraHeight; // [!code ++]
	camSupport.divier = EMono.core.config.fix.divider;
	camSupport.ResizeCameraToPixelPerfect();
	Vector3 localScale = new Vector3(EMono.scene.cam.orthographicSize * ((float)Screen.width / (float)Screen.height) * 2.5f, EMono.scene.cam.orthographicSize * 2.5f, 1f);
```

## BaseTileMap

[`public virtual void Draw()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L766-L772)
```cs:line-numbers=766
	mz = vector3Int.x - 1;
	HitPoint.Set(mx, mz);
	bool isAltDown = EInput.isAltDown;
	for (int num3 = maxColliderCheck; num3 >= 0; num3--) // [!code --]
	for (int num3 = maxColliderCheck + EMono.core.config.test.screenExtraHeight; num3 >= 0; num3--) // [!code ++]
	{
		TestPoint.x = mx + num3;
		TestPoint.z = mz - num3;
```

[`public virtual void Draw()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L875-L892)
```cs:line-numbers=875
	int valueOrDefault = (this.room?.lot?.idBGM).GetValueOrDefault();
	if (valueOrDefault == 0)
	{
		goto IL_16fb; // [!code --]
		goto IL_1710; // [!code ++]
	}
	if (!(EMono.Sound.currentPlaylist != EMono.Sound.plLot))
	{
		BGMData data = EMono.Sound.plLot.list[0].data;
		if ((object)data != null && data.id == valueOrDefault)
		{
			goto IL_16fb; // [!code --]
			goto IL_1710; // [!code ++]
		}
	}
	goto IL_171a; // [!code --]
	IL_1724: // [!code --]
	goto IL_172f; // [!code ++]
	IL_1739: // [!code ++]
	if (this.room != lastRoom)
	{
		screen.RefreshWeather();
```

[`public virtual void Draw()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L895-L909)
```cs:line-numbers=895
		SoundManager.bgmVolumeMod = ((!LayerDrama.maxBGMVolume && !EMono._map.IsIndoor && this.room != null && !this.room.data.atrium && this.room.HasRoof) ? (-0.6f) : 0f);
		screenHighlight = ScreenHighlight.None;
		return;
		IL_16fb: // [!code --]
		IL_1710: // [!code ++]
		if (valueOrDefault == 0 && EMono.Sound.currentPlaylist == EMono.Sound.plLot)
		{
			goto IL_171a; // [!code --]
			goto IL_172f; // [!code ++]
		}
		goto IL_1724; // [!code --]
		IL_171a: // [!code --]
		goto IL_1739; // [!code ++]
		IL_172f: // [!code ++]
		EMono._zone.RefreshBGM();
		goto IL_1724; // [!code --]
		goto IL_1739; // [!code ++]
	}

	public void RefreshHeight()
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L999-L1004)
```cs:line-numbers=999
	{
		blockLight -= heightLightMod * (float)(currentHeight - height);
	}
	if (blockLight < 0f) // [!code ++]
	{ // [!code ++]
		blockLight = 0f; // [!code ++]
	} // [!code ++]
	liquidLv = (param.liquidLv = ((!flag && !isUnderwater) ? (((this.cell.liquidLv + this.cell._bridge != 0) ? this.cell.sourceBridge.tileType.LiquidLV : sourceFloor.tileType.LiquidLV) * 10) : 0));
	if (this.cell.shore != 0 && liquidLv > 20)
	{
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L1204-L1210)
```cs:line-numbers=1204
	bool flag4 = this.cell.isSurrounded && innerMode != 0 && sourceBlock.tileType.IsFullBlock;
	if (!(!isSeen || flag4))
	{
		goto IL_1683; // [!code --]
		goto IL_169b; // [!code ++]
	}
	bool isRoomEdge = this.cell.IsRoomEdge;
	orgY = param.y;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L1266-L1272)
```cs:line-numbers=1266
	{
		if (isRoomEdge)
		{
			goto IL_1683; // [!code --]
			goto IL_169b; // [!code ++]
		}
		if (detail == null || !EMono.pc.hasTelepathy)
		{
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L1277-L1511)
```cs:line-numbers=1277
			fogged = true;
		}
	}
	goto IL_7b8d; // [!code --]
	IL_6fd2: // [!code --]
	if (isSnowCovered && (sourceBlock.id != 0 || this.cell.hasDoor) && !snowed && !this.cell.isClearSnow && ((!this.cell.Front.HasRoof && !this.cell.Front.HasBlock) || (!this.cell.Right.HasRoof && !this.cell.Right.HasBlock))) // [!code --]
	{ // [!code --]
		snowed = true; // [!code --]
	} // [!code --]
	if (this.cell.effect != null) // [!code --]
	{ // [!code --]
		if (this.cell.effect.IsLiquid) // [!code --]
		{ // [!code --]
			SourceCellEffect.Row sourceEffect = this.cell.sourceEffect; // [!code --]
			SourceMaterial.Row defaultMaterial = sourceEffect.DefaultMaterial; // [!code --]
			tile = 4 + Rand.bytes[index % Rand.MaxBytes] % 4; // [!code --]
			param.tile = tile + this.cell.sourceEffect._tiles[0]; // [!code --]
			param.mat = defaultMaterial; // [!code --]
			param.matColor = ((this.cell.effect.color == 0) ? GetColorInt(ref defaultMaterial.matColor, sourceEffect.colorMod) : this.cell.effect.color); // [!code --]
			sourceEffect.renderData.Draw(param); // [!code --]
		} // [!code --]
		else // [!code --]
		{ // [!code --]
			param.tile = this.cell.effect.source._tiles[0]; // [!code --]
			SourceCellEffect.Row sourceEffect2 = this.cell.sourceEffect; // [!code --]
			if (sourceEffect2.anime.Length != 0) // [!code --]
			{ // [!code --]
				if (sourceEffect2.anime.Length > 2) // [!code --]
				{ // [!code --]
					float num3 = Time.realtimeSinceStartup * 1000f / (float)sourceEffect2.anime[1] % (float)sourceEffect2.anime[2]; // [!code --]
					if (!(num3 >= (float)sourceEffect2.anime[0])) // [!code --]
					{ // [!code --]
						param.tile += num3; // [!code --]
					} // [!code --]
				} // [!code --]
				else // [!code --]
				{ // [!code --]
					float num4 = Time.realtimeSinceStartup * 1000f / (float)sourceEffect2.anime[1] % (float)sourceEffect2.anime[0]; // [!code --]
					param.tile += num4; // [!code --]
				} // [!code --]
			} // [!code --]
			if (this.cell.effect.IsFire) // [!code --]
			{ // [!code --]
				rendererEffect.Draw(param); // [!code --]
			} // [!code --]
			else // [!code --]
			{ // [!code --]
				this.cell.effect.source.renderData.Draw(param); // [!code --]
			} // [!code --]
		} // [!code --]
	} // [!code --]
	param.color = floorLight; // [!code --]
	if (this.cell.critter != null) // [!code --]
	{ // [!code --]
		Critter critter = this.cell.critter; // [!code --]
		int snowTile = critter.tile; // [!code --]
		if (snowed && critter.SnowTile != 0) // [!code --]
		{ // [!code --]
			critter.x = 0.06f; // [!code --]
			critter.y = -0.06f; // [!code --]
			snowTile = critter.SnowTile; // [!code --]
		} // [!code --]
		else // [!code --]
		{ // [!code --]
			critter.Update(); // [!code --]
		} // [!code --]
		pass = passObjSS; // [!code --]
		batch = pass.batches[pass.batchIdx]; // [!code --]
		batch.matrices[pass.idx].m03 = param.x + (float)(int)(critter.x * 100f) * 0.01f; // [!code --]
		batch.matrices[pass.idx].m13 = param.y + (float)(int)(critter.y * 100f) * 0.01f; // [!code --]
		batch.matrices[pass.idx].m23 = param.z; // [!code --]
		batch.tiles[pass.idx] = snowTile * ((!critter.reverse) ? 1 : (-1)); // [!code --]
		batch.colors[pass.idx] = floorLight; // [!code --]
		pass.idx++; // [!code --]
		if (pass.idx == pass.batchSize) // [!code --]
		{ // [!code --]
			pass.NextBatch(); // [!code --]
		} // [!code --]
	} // [!code --]
	if (detail != null) // [!code --]
	{ // [!code --]
		TransAnime anime3 = detail.anime; // [!code --]
		if (anime3 != null && !anime3.animeBlock) // [!code --]
		{ // [!code --]
			TransAnime anime4 = detail.anime; // [!code --]
			param.x += anime4.v.x; // [!code --]
			param.y += anime4.v.y; // [!code --]
			param.z += anime4.v.z; // [!code --]
		} // [!code --]
	} // [!code --]
	if (this.cell.obj != 0 && !this.cell.sourceObj.renderData.SkipOnMap) // [!code --]
	{ // [!code --]
		SourceObj.Row sourceObj = this.cell.sourceObj; // [!code --]
		if (!snowed || sourceObj.snowTile <= 0) // [!code --]
		{ // [!code --]
			param.snow = snowed; // [!code --]
			param.mat = this.cell.matObj; // [!code --]
			orgY = param.y; // [!code --]
			if (param.liquidLv > 0) // [!code --]
			{ // [!code --]
				if (sourceObj.pref.Float) // [!code --]
				{ // [!code --]
					param.y += 0.01f * floatY; // [!code --]
					if (liquidLv > 10) // [!code --]
					{ // [!code --]
						liquidLv = TileType.FloorWaterShallow.LiquidLV * 10; // [!code --]
					} // [!code --]
					liquidLv -= (int)(floatY * 0.5f); // [!code --]
					param.liquidLv = liquidLv; // [!code --]
				} // [!code --]
				if (sourceObj.tileType.IsWaterTop) // [!code --]
				{ // [!code --]
					param.liquidLv = 0; // [!code --]
				} // [!code --]
				else // [!code --]
				{ // [!code --]
					param.liquidLv += sourceObj.pref.liquidMod; // [!code --]
					if (param.liquidLv < 1) // [!code --]
					{ // [!code --]
						param.liquid = 1f; // [!code --]
					} // [!code --]
					else if (param.liquidLv > 99 + sourceObj.pref.liquidModMax) // [!code --]
					{ // [!code --]
						param.liquidLv = 99 + sourceObj.pref.liquidModMax; // [!code --]
					} // [!code --]
				} // [!code --]
			} // [!code --]
			if (sourceObj.useAltColor) // [!code --]
			{ // [!code --]
				param.matColor = ((sourceObj.colorMod == 0) ? 104025 : GetColorInt(ref param.mat.altColor, sourceObj.colorMod)); // [!code --]
			} // [!code --]
			else // [!code --]
			{ // [!code --]
				param.matColor = ((sourceObj.colorMod == 0) ? 104025 : GetColorInt(ref param.mat.matColor, sourceObj.colorMod)); // [!code --]
			} // [!code --]
			if (sourceObj.HasGrowth) // [!code --]
			{ // [!code --]
				this.cell.growth.OnRenderTileMap(param); // [!code --]
				if (this.cell.obj == 118 && Core.fixedFrame % 10f == 0f && sourceObj.growth.IsMature) // [!code --]
				{ // [!code --]
					EMono.scene.psFey.transform.position = new Vector3(param.x, param.y, param.z - 2f); // [!code --]
					EMono.scene.psFey.Emit(1); // [!code --]
				} // [!code --]
			} // [!code --]
			else // [!code --]
			{ // [!code --]
				if (this.cell.autotileObj != 0) // [!code --]
				{ // [!code --]
					param.tile = sourceObj._tiles[0] + this.cell.autotileObj; // [!code --]
				} // [!code --]
				else if (sourceObj.tileType.IsUseBlockDir) // [!code --]
				{ // [!code --]
					param.tile = sourceObj._tiles[this.cell.blockDir % sourceObj._tiles.Length]; // [!code --]
				} // [!code --]
				else // [!code --]
				{ // [!code --]
					param.tile = sourceObj._tiles[this.cell.objDir % sourceObj._tiles.Length]; // [!code --]
				} // [!code --]
				if (_lowblock && sourceObj.tileType.IsSkipLowBlock) // [!code --]
				{ // [!code --]
					param.tile += ((param.tile > 0f) ? 1 : (-1)) * 3000000; // [!code --]
				} // [!code --]
				orgY = param.y; // [!code --]
				orgZ = param.z; // [!code --]
				param.y += sourceObj.pref.y; // [!code --]
				param.z += sourceObj.pref.z; // [!code --]
				sourceObj.renderData.Draw(param); // [!code --]
				param.y = orgY; // [!code --]
				param.z = orgZ; // [!code --]
				int shadow3 = sourceObj.pref.shadow; // [!code --]
				if (shadow3 > 1 && !this.cell.ignoreObjShadow) // [!code --]
				{ // [!code --]
					passShadow.AddShadow(param.x + sourceObj.renderData.offsetShadow.x, param.y + sourceObj.renderData.offsetShadow.y, param.z + sourceObj.renderData.offsetShadow.z, ShadowData.Instance.items[shadow3], sourceObj.pref, 0, param.snow); // [!code --]
				} // [!code --]
				param.y = orgY; // [!code --]
			} // [!code --]
		} // [!code --]
	} // [!code --]
	if (this.cell.decal != 0 && sourceFloor.tileType.AllowBlood) // [!code --]
	{ // [!code --]
		passDecal.Add(param, (int)this.cell.decal, floorLight); // [!code --]
	} // [!code --]
	if (highlightCells) // [!code --]
	{ // [!code --]
		switch (ActionMode.FlagCell.mode) // [!code --]
		{ // [!code --]
		case AM_FlagCell.Mode.flagWallPillar: // [!code --]
			if (this.cell.isToggleWallPillar) // [!code --]
			{ // [!code --]
				passArea.Add(param, 34f, 0f); // [!code --]
			} // [!code --]
			break; // [!code --]
		case AM_FlagCell.Mode.flagSnow: // [!code --]
			if (this.cell.isClearSnow) // [!code --]
			{ // [!code --]
				passArea.Add(param, 34f, 0f); // [!code --]
			} // [!code --]
			break; // [!code --]
		case AM_FlagCell.Mode.flagFloat: // [!code --]
			if (this.cell.isForceFloat) // [!code --]
			{ // [!code --]
				passArea.Add(param, 34f, 0f); // [!code --]
			} // [!code --]
			break; // [!code --]
		case AM_FlagCell.Mode.flagClear: // [!code --]
			if (this.cell.isClearArea) // [!code --]
			{ // [!code --]
				passArea.Add(param, 34f, 0f); // [!code --]
			} // [!code --]
			break; // [!code --]
		} // [!code --]
	} // [!code --]
	if (detail == null) // [!code --]
	{ // [!code --]
		return; // [!code --]
	} // [!code --]
	if (highlightArea && detail.area != null) // [!code --]
	{ // [!code --]
		passArea.Add(param, (int)detail.area.GetTile(index) - ((!subtleHighlightArea) ? 1 : 0), 0f); // [!code --]
	} // [!code --]
	if (detail.footmark != null && sourceFloor.id != 0) // [!code --]
	{ // [!code --]
		param.tile = detail.footmark.tile; // [!code --]
		param.mat = matFloor; // [!code --]
		param.matColor = 104025f; // [!code --]
		renderFootmark.Draw(param); // [!code --]
	} // [!code --]
	goto IL_7b8d; // [!code --]
	IL_1683: // [!code --]
	goto IL_7ba5; // [!code ++]
	IL_169b: // [!code ++]
	if (this.cell.isSlopeEdge)
	{
		float num5 = (float)height * _heightMod.y; // [!code --]
		float num3 = (float)height * _heightMod.y; // [!code ++]
		orgY = param.y;
		orgZ = param.z;
		param.dir = this.cell.blockDir;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L1535-L1551)
```cs:line-numbers=1535
				param.matColor = 104025f;
			}
		}
		for (int j = 0; (float)j < num5 / heightBlockSize; j++) // [!code --]
		for (int j = 0; (float)j < num3 / heightBlockSize; j++) // [!code ++]
		{
			param.y += ugFix.y;
			param.z += ugFix.z + slopeFixZ * (float)j;
			defBlock.renderData.Draw(param);
			if (this.cell.pcSync && EMono.player.lightPower > 0f)
			{
				float num6 = param.tile; // [!code --]
				float num4 = param.tile; // [!code ++]
				param.tile = 0f;
				rendererFov.Draw(param);
				param.tile = num6; // [!code --]
				param.tile = num4; // [!code ++]
			}
		}
		param.y = orgY;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L1556-L1584)
```cs:line-numbers=1556
	{
		orgY = param.y;
		orgZ = param.z;
		int num7 = 0; // [!code --]
		int num5 = 0; // [!code ++]
		if (sourceBlock.tileType.IsFullBlock)
		{
			SourceBlock.Row row3 = sourceBlock;
			num7 = sourceBlock._tiles[this.cell.blockDir % sourceBlock._tiles.Length]; // [!code --]
			num5 = sourceBlock._tiles[this.cell.blockDir % sourceBlock._tiles.Length]; // [!code ++]
		}
		else
		{
			SourceBlock.Row row3 = sourceFloor._defBlock;
			num7 = row3._tiles[this.cell.blockDir % row3._tiles.Length]; // [!code --]
			num5 = row3._tiles[this.cell.blockDir % row3._tiles.Length]; // [!code ++]
		}
		if (((this.cell.Front.shore / 12) & 1) == 0 && this.cell.Front.sourceFloor.tileType.IsWater && this.cell.Front.height <= height && this.cell.Front.sourceBlock.tileType.RenderWaterBlock)
		{
			param.y = (float)(cz - cx) * screen.tileAlign.y - (this.cell.Front.sourceFloor.tileType.IsDeepWater ? 0.6f : 0.4f) + (float)(int)this.cell.Front.height * _heightMod.y;
			param.z = 1000f + param.x * screen.tileWeight.x + param.y * screen.tileWeight.z;
			param.tile = num7 + ((!this.cell.Front.sourceFloor.tileType.IsDeepWater) ? 3000000 : 0); // [!code --]
			param.tile = num5 + ((!this.cell.Front.sourceFloor.tileType.IsDeepWater) ? 3000000 : 0); // [!code ++]
			rendererWaterBlock.Draw(param);
		}
		if (((this.cell.Right.shore / 12) & 8) == 0 && this.cell.Right.sourceFloor.tileType.IsWater && this.cell.Right.height <= height && this.cell.Right.sourceBlock.tileType.RenderWaterBlock)
		{
			param.y = (float)(cz - cx) * screen.tileAlign.y - (this.cell.Right.sourceFloor.tileType.IsDeepWater ? 0.6f : 0.4f) + (float)(int)this.cell.Right.height * _heightMod.y;
			param.z = 1000f + param.x * screen.tileWeight.x + param.y * screen.tileWeight.z;
			param.tile = num7 + ((!this.cell.Right.sourceFloor.tileType.IsDeepWater) ? 3000000 : 0); // [!code --]
			param.tile = num5 + ((!this.cell.Right.sourceFloor.tileType.IsDeepWater) ? 3000000 : 0); // [!code ++]
			rendererWaterBlock.Draw(param);
		}
		param.y = orgY;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L1676-L1695)
```cs:line-numbers=1676
				}
				sourceFloor.renderData.Draw(param);
			}
			int num8 = 0; // [!code --]
			int num6 = 0; // [!code ++]
			if (isSnowCovered && sourceFloor == FLOOR.sourceSnow && !this.cell.hasDoor)
			{
				if (!this.cell.Right.IsSnowTile && this.cell.Right.topHeight == this.cell.topHeight)
				{
					num8++; // [!code --]
					num6++; // [!code ++]
				}
				if (!this.cell.Front.IsSnowTile && this.cell.Front.topHeight == this.cell.topHeight)
				{
					num8 += 2; // [!code --]
					num6 += 2; // [!code ++]
				}
				if (num8 != 0) // [!code --]
				if (num6 != 0) // [!code ++]
				{
					param.tile = 448 + num8 + 12; // [!code --]
					param.tile = 448 + num6 + 12; // [!code ++]
					param.z -= 0.1f;
					sourceFloor.renderData.Draw(param);
					param.z += 0.1f;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L1760-L1766)
```cs:line-numbers=1760
					}
				}
			}
			if (this.cell.autotile != 0 && sourceFloor.autotile != 0 && (!hasBridge || this.cell.bridgeHeight - this.cell.height > 3) && !this.cell.skipRender && num8 == 0) // [!code --]
			if (this.cell.autotile != 0 && sourceFloor.autotile != 0 && (!hasBridge || this.cell.bridgeHeight - this.cell.height > 3) && !this.cell.skipRender && num6 == 0) // [!code ++]
			{
				pass = (isWater ? passAutoTileWater : passAutoTile);
				batch = pass.batches[pass.batchIdx];
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L1779-L1794)
```cs:line-numbers=1779
		}
		if (isWater)
		{
			int num9 = 12; // [!code --]
			int num10 = this.cell.shore / num9; // [!code --]
			int num11 = this.cell.shore % num9; // [!code --]
			int num7 = 12; // [!code ++]
			int num8 = this.cell.shore / num7; // [!code ++]
			int num9 = this.cell.shore % num7; // [!code ++]
			bool isShoreSand = this.cell.isShoreSand;
			if (this.cell.shore != 0)
			{
				Cell cell = ((((uint)num10 & (true ? 1u : 0u)) != 0) ? this.cell.Back : ((((uint)num10 & 2u) != 0) ? this.cell.Right : ((((uint)num10 & 4u) != 0) ? this.cell.Front : this.cell.Left))); // [!code --]
				Cell cell = ((((uint)num8 & (true ? 1u : 0u)) != 0) ? this.cell.Back : ((((uint)num8 & 2u) != 0) ? this.cell.Right : ((((uint)num8 & 4u) != 0) ? this.cell.Front : this.cell.Left))); // [!code ++]
				if (isShoreSand && !cell.sourceFloor.isBeach)
				{
					cell = ((((uint)num10 & 8u) != 0) ? this.cell.Left : ((((uint)num10 & 4u) != 0) ? this.cell.Front : ((((uint)num10 & 2u) != 0) ? this.cell.Right : this.cell.Back))); // [!code --]
					cell = ((((uint)num8 & 8u) != 0) ? this.cell.Left : ((((uint)num8 & 4u) != 0) ? this.cell.Front : ((((uint)num8 & 2u) != 0) ? this.cell.Right : this.cell.Back))); // [!code ++]
				}
				if (!cell.IsSnowTile)
				{
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L1800-L1806)
```cs:line-numbers=1800
						batch.matrices[pass.idx].m03 = param.x;
						batch.matrices[pass.idx].m13 = param.y;
						batch.matrices[pass.idx].m23 = param.z;
						batch.tiles[pass.idx] = 768 + this.cell.shore / num9; // [!code --]
						batch.tiles[pass.idx] = 768 + this.cell.shore / num7; // [!code ++]
						batch.colors[pass.idx] = param.color;
						batch.matColors[pass.idx] = param.matColor;
						pass.idx++;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L1808-L1845)
```cs:line-numbers=1808
						{
							pass.NextBatch();
						}
						num11 = 2; // [!code --]
						num9 = 2; // [!code ++]
					}
					else
					{
						num11 = cell.sourceFloor.edge; // [!code --]
						num9 = cell.sourceFloor.edge; // [!code ++]
					}
					param.tile = (24 + num11 / 2) * 32 + num11 % 2 * 16 + num10; // [!code --]
					param.tile = (24 + num9 / 2) * 32 + num9 % 2 * 16 + num8; // [!code ++]
					rendererShore.Draw(param);
				}
			}
			if (this.cell.Back.isShoreSand && ((uint)(this.cell.Back.shore / num9) & 8u) != 0 && this.cell.Left.isShoreSand && ((uint)(this.cell.Left.shore / num9) & (true ? 1u : 0u)) != 0) // [!code --]
			if (this.cell.Back.isShoreSand && ((uint)(this.cell.Back.shore / num7) & 8u) != 0 && this.cell.Left.isShoreSand && ((uint)(this.cell.Left.shore / num7) & (true ? 1u : 0u)) != 0) // [!code ++]
			{
				param.tile = 785f;
				param.matColor = GetColorInt(ref this.cell.BackLeft.matFloor.matColor, this.cell.BackLeft.sourceFloor.colorMod);
				passShore.Add(param);
				Draw(60);
			}
			if (this.cell.Back.isShoreSand && ((uint)(this.cell.Back.shore / num9) & 2u) != 0 && this.cell.Right.isShoreSand && ((uint)(this.cell.Right.shore / num9) & (true ? 1u : 0u)) != 0) // [!code --]
			if (this.cell.Back.isShoreSand && ((uint)(this.cell.Back.shore / num7) & 2u) != 0 && this.cell.Right.isShoreSand && ((uint)(this.cell.Right.shore / num7) & (true ? 1u : 0u)) != 0) // [!code ++]
			{
				param.tile = 786f;
				param.matColor = GetColorInt(ref this.cell.BackRight.matFloor.matColor, this.cell.BackRight.sourceFloor.colorMod);
				passShore.Add(param);
				Draw(56);
			}
			if (this.cell.Front.isShoreSand && ((uint)(this.cell.Front.shore / num9) & 2u) != 0 && this.cell.Right.isShoreSand && ((uint)(this.cell.Right.shore / num9) & 4u) != 0) // [!code --]
			if (this.cell.Front.isShoreSand && ((uint)(this.cell.Front.shore / num7) & 2u) != 0 && this.cell.Right.isShoreSand && ((uint)(this.cell.Right.shore / num7) & 4u) != 0) // [!code ++]
			{
				param.tile = 787f;
				param.matColor = GetColorInt(ref this.cell.FrontRight.matFloor.matColor, this.cell.FrontRight.sourceFloor.colorMod);
				passShore.Add(param);
				Draw(48);
			}
			if (this.cell.Front.isShoreSand && ((uint)(this.cell.Front.shore / num9) & 8u) != 0 && this.cell.Left.isShoreSand && ((uint)(this.cell.Left.shore / num9) & 4u) != 0) // [!code --]
			if (this.cell.Front.isShoreSand && ((uint)(this.cell.Front.shore / num7) & 8u) != 0 && this.cell.Left.isShoreSand && ((uint)(this.cell.Left.shore / num7) & 4u) != 0) // [!code ++]
			{
				param.tile = 788f;
				param.matColor = GetColorInt(ref this.cell.FrontLeft.matFloor.matColor, this.cell.FrontLeft.sourceFloor.colorMod);
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L1865-L1902)
```cs:line-numbers=1865
			bool flag6 = false;
			if (isShoreSand)
			{
				if (((uint)num10 & (true ? 1u : 0u)) != 0) // [!code --]
				if (((uint)num8 & (true ? 1u : 0u)) != 0) // [!code ++]
				{
					if (((uint)num10 & 8u) != 0) // [!code --]
					if (((uint)num8 & 8u) != 0) // [!code ++]
					{
						if ((num10 & 2) == 0 && (num10 & 4) == 0) // [!code --]
						if ((num8 & 2) == 0 && (num8 & 4) == 0) // [!code ++]
						{
							Draw(16);
						}
						flag6 = true;
					}
					if (((uint)num10 & 2u) != 0) // [!code --]
					if (((uint)num8 & 2u) != 0) // [!code ++]
					{
						if ((num10 & 8) == 0 && (num10 & 4) == 0) // [!code --]
						if ((num8 & 8) == 0 && (num8 & 4) == 0) // [!code ++]
						{
							Draw(20);
						}
						flag6 = true;
					}
				}
				if (((uint)num10 & 4u) != 0) // [!code --]
				if (((uint)num8 & 4u) != 0) // [!code ++]
				{
					if (((uint)num10 & 8u) != 0) // [!code --]
					if (((uint)num8 & 8u) != 0) // [!code ++]
					{
						if ((num10 & 2) == 0 && (num10 & 1) == 0) // [!code --]
						if ((num8 & 2) == 0 && (num8 & 1) == 0) // [!code ++]
						{
							Draw(24);
						}
						flag6 = true;
					}
					if (((uint)num10 & 2u) != 0) // [!code --]
					if (((uint)num8 & 2u) != 0) // [!code ++]
					{
						if ((num10 & 8) == 0 && (num10 & 1) == 0) // [!code --]
						if ((num8 & 8) == 0 && (num8 & 1) == 0) // [!code ++]
						{
							Draw(28);
						}
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L1923-L1929)
```cs:line-numbers=1923
					batch = pass.batches[pass.batchIdx];
					batch.tiles[pass.idx] = 608 + waterAnimeIndex % 4;
					batch.matColors[pass.idx] = 104025f;
					if (((uint)(this.cell.shore / num9) & (true ? 1u : 0u)) != 0) // [!code --]
					if (((uint)(this.cell.shore / num7) & (true ? 1u : 0u)) != 0) // [!code ++]
					{
						if (isShoreSand)
						{
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L1961-L1967)
```cs:line-numbers=1961
					batch = pass.batches[pass.batchIdx];
					batch.tiles[pass.idx] = 612 + waterAnimeIndex % 4;
					batch.matColors[pass.idx] = 104025f;
					if (((uint)(this.cell.shore / num9) & 8u) != 0) // [!code --]
					if (((uint)(this.cell.shore / num7) & 8u) != 0) // [!code ++]
					{
						if (isShoreSand)
						{
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2077-L2092)
```cs:line-numbers=2077
			param.z += bridgeFix.z;
			param.dir = 0;
			SourceBlock.Row row4 = sourceBridge._bridgeBlock;
			float num12 = (float)(this.cell.bridgeHeight - this.cell.height) * _heightMod.y; // [!code --]
			float num10 = (float)(this.cell.bridgeHeight - this.cell.height) * _heightMod.y; // [!code ++]
			if (this.cell.sourceFloor.tileType == TileType.Sky)
			{
				num12 += (float)EMono._map.config.skyBlockHeight; // [!code --]
				num10 += (float)EMono._map.config.skyBlockHeight; // [!code ++]
			}
			int num13 = (int)(num12 / heightBlockSize) + 2; // [!code --]
			int num11 = (int)(num10 / heightBlockSize) + 2; // [!code ++]
			if (this.cell.bridgePillar != 0)
			{
				row4 = EMono.sources.blocks.rows[this.cell.bridgePillar];
				param.tile = row4._tiles[0] + ((num13 == 2) ? 32 : 0); // [!code --]
				param.tile = row4._tiles[0] + ((num11 == 2) ? 32 : 0); // [!code ++]
				param.mat = ((sourceBridge.DefaultMaterial == row4.DefaultMaterial) ? sourceBridge.DefaultMaterial : row4.DefaultMaterial);
				param.matColor = ((row4.colorMod == 0) ? 104025 : GetColorInt(ref param.mat.matColor, row4.colorMod));
			}
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2098-L2106)
```cs:line-numbers=2098
			}
			param.y += ugFixBridgeTop.y;
			param.z += ugFixBridgeTop.z;
			for (int l = 0; l < num13; l++) // [!code --]
			for (int l = 0; l < num11; l++) // [!code ++]
			{
				if (l == num13 - 1) // [!code --]
				if (l == num11 - 1) // [!code ++]
				{
					param.y = (float)(cz - cx) * screen.tileAlign.y + (float)height * _heightMod.y + ugFixBridgeBottom.y;
					param.z = 1000f + param.x * screen.tileWeight.x + param.y * screen.tileWeight.z + (float)height * _heightMod.z + ugFixBridgeBottom.z;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2132-L2138)
```cs:line-numbers=2132
	{
		snowed = false;
	}
	int num14 = 0; // [!code --]
	int num12 = 0; // [!code ++]
	if (sourceBlock.id != 0)
	{
		this.tileType = sourceBlock.tileType;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2205-L2212)
```cs:line-numbers=2205
					roomHeight = 0f;
					break;
				}
				int num15 = ((this.room.data.maxHeight == 0) ? 2 : this.room.data.maxHeight); // [!code --]
				roomHeight = EMono.setting.render.roomHeightMod * (float)((this.room.lot.height < num15) ? this.room.lot.height : num15) + 0.01f * (float)this.room.lot.heightFix; // [!code --]
				int num13 = ((this.room.data.maxHeight == 0) ? 2 : this.room.data.maxHeight); // [!code ++]
				roomHeight = EMono.setting.render.roomHeightMod * (float)((this.room.lot.height < num13) ? this.room.lot.height : num13) + 0.01f * (float)this.room.lot.heightFix; // [!code ++]
			}
			break;
		case WallClipMode.ByLot:
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2252-L2262)
```cs:line-numbers=2252
		}
		if (!_lowblock && (double)roomHeight > 1.2 && this.tileType.RepeatBlock)
		{
			num14 = 1; // [!code --]
			num12 = 1; // [!code ++]
		}
		else if (lowBlock)
		{
			num14 = 2; // [!code --]
			num12 = 2; // [!code ++]
		}
		param.mat = matBlock;
		param.dir = this.cell.blockDir;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2303-L2310)
```cs:line-numbers=2303
				}
				if (!_lowblock)
				{
					int num16 = ((currentRoom.data.maxHeight == 0) ? 2 : currentRoom.data.maxHeight); // [!code --]
					roomHeight = EMono.setting.render.roomHeightMod * (float)((currentRoom.lot.height < num16) ? currentRoom.lot.height : num16) + 0.01f * (float)currentRoom.lot.heightFix; // [!code --]
					int num14 = ((currentRoom.data.maxHeight == 0) ? 2 : currentRoom.data.maxHeight); // [!code ++]
					roomHeight = EMono.setting.render.roomHeightMod * (float)((currentRoom.lot.height < num14) ? currentRoom.lot.height : num14) + 0.01f * (float)currentRoom.lot.heightFix; // [!code ++]
				}
			}
			if (flag7)
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2358-L2369)
```cs:line-numbers=2358
					param.tile = EMono.sources.blocks.rows[0].ConvertTile(1000 + room.lot.idDeco2);
					param.matColor = room.lot.colDeco2;
					float y2 = param.y;
					float num17 = param.z; // [!code --]
					float num15 = param.z; // [!code ++]
					param.y += (float)room.lot.decoFix2 * 0.01f;
					param.z += (float)room.lot.decoFix2 * 0.01f * heightModDeco;
					rendererWallDeco.Draw(param);
					param.y = y2;
					param.z = num17; // [!code --]
					param.z = num15; // [!code ++]
				}
			}
			room = this.cell.Right.room ?? this.cell.room;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2387-L2398)
```cs:line-numbers=2387
					param.tile = EMono.sources.blocks.rows[0].ConvertTile(1000 + room.lot.idDeco2) * -1;
					param.matColor = room.lot.colDeco2;
					float y4 = param.y;
					float num18 = param.z; // [!code --]
					float num16 = param.z; // [!code ++]
					param.y += (float)room.lot.decoFix2 * 0.01f;
					param.z += (float)room.lot.decoFix2 * 0.01f * heightModDeco;
					rendererWallDeco.Draw(param);
					param.y = y4;
					param.z = num18; // [!code --]
					param.z = num16; // [!code ++]
				}
			}
			break;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2590-L2597)
```cs:line-numbers=2590
					}
					else
					{
						int num19 = ((room4.data.maxHeight == 0) ? 2 : room4.data.maxHeight); // [!code --]
						roomHeight = EMono.setting.render.roomHeightMod * (float)((room4.lot.height < num19) ? room4.lot.height : num19) + 0.01f * (float)room4.lot.heightFix; // [!code --]
						int num17 = ((room4.data.maxHeight == 0) ? 2 : room4.data.maxHeight); // [!code ++]
						roomHeight = EMono.setting.render.roomHeightMod * (float)((room4.lot.height < num17) ? room4.lot.height : num17) + 0.01f * (float)room4.lot.heightFix; // [!code ++]
					}
				}
				Cell back2 = this.cell.Back;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2664-L2682)
```cs:line-numbers=2664
			RenderData renderData2 = sourceBlock.renderData;
			param.tile = sourceBlock._tiles[this.cell.blockDir % sourceBlock._tiles.Length];
			param.matColor = ((sourceBlock.colorMod == 0) ? 104025 : GetColorInt(ref matBlock.matColor, sourceBlock.colorMod));
			int num20 = this.cell.objDir + ((this.cell.objDir >= 7) ? this.cell.objDir : 0) + 1; // [!code --]
			if (num20 == 0) // [!code --]
			int num18 = this.cell.objDir + ((this.cell.objDir >= 7) ? this.cell.objDir : 0) + 1; // [!code ++]
			if (num18 == 0) // [!code ++]
			{
				renderData2.Draw(param);
			}
			else
			{
				renderData2.DrawRepeat(param, num20, sourceBlock.tileType.RepeatSize); // [!code --]
				renderData2.DrawRepeat(param, num18, sourceBlock.tileType.RepeatSize); // [!code ++]
			}
			param.tile = renderData2.idShadow;
			SourcePref shadowPref2 = renderData2.shadowPref;
			int shadow4 = shadowPref2.shadow; // [!code --]
			passShadow.AddShadow(param.x + renderData2.offsetShadow.x, param.y + renderData2.offsetShadow.y, param.z + renderData2.offsetShadow.z, ShadowData.Instance.items[shadow4], shadowPref2, 0, param.snow); // [!code --]
			int shadow3 = shadowPref2.shadow; // [!code ++]
			passShadow.AddShadow(param.x + renderData2.offsetShadow.x, param.y + renderData2.offsetShadow.y, param.z + renderData2.offsetShadow.z, ShadowData.Instance.items[shadow3], shadowPref2, 0, param.snow); // [!code ++]
			break;
		}
		default:
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2698-L2728)
```cs:line-numbers=2698
	{
		if (this.cell.room != null || !this.cell.IsRoomEdge || !showRoof)
		{
			goto IL_6f72; // [!code --]
			goto IL_6f8a; // [!code ++]
		}
		if (this.cell._block == 0 || !this.cell.sourceBlock.tileType.RepeatBlock)
		{
			Room obj = this.cell.FrontRight.room;
			if (obj == null || !obj.HasRoof)
			{
				goto IL_6f72; // [!code --]
				goto IL_6f8a; // [!code ++]
			}
		}
	}
	goto IL_6fd2; // [!code --]
	IL_6f72: // [!code --]
	goto IL_6fea; // [!code ++]
	IL_6f8a: // [!code ++]
	if (!showRoof || !roof || this.cell.room == null || this.cell.Front.room == null || this.cell.Right.room == null)
	{
		param.tile = num14; // [!code --]
		param.tile = num12; // [!code ++]
		rendererFov.Draw(param);
	}
	goto IL_6fd2; // [!code --]
	IL_7b8d: // [!code --]
	goto IL_6fea; // [!code ++]
	IL_7ba5: // [!code ++]
	if (detail.things.Count == 0 && detail.charas.Count == 0)
	{
		return;
	}
	int num21 = 0; // [!code --]
	int num19 = 0; // [!code ++]
	thingPos.x = 0f;
	thingPos.y = 0f;
	thingPos.z = 0f;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2753-L2768)
```cs:line-numbers=2753
	}
	Thing thing = null;
	bool shadow = liquidLv == 0;
	float num22 = 0f; // [!code --]
	float num23 = 0f; // [!code --]
	float num20 = 0f; // [!code ++]
	float num21 = 0f; // [!code ++]
	bool flag10 = false;
	float num24 = 0f; // [!code --]
	float num22 = 0f; // [!code ++]
	bool flag11 = false;
	float num25 = 0f; // [!code --]
	float num23 = 0f; // [!code ++]
	if (detail.things.Count > 0 && isSeen)
	{
		_ = zSetting.max1;
		float num26 = 0f; // [!code --]
		float num24 = 0f; // [!code ++]
		for (int m = 0; m < detail.things.Count; m++)
		{
			Thing t = detail.things[m];
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2777-L2788)
```cs:line-numbers=2777
			{
				pref = rendererObjDummy.shadowPref;
			}
			float num27 = ((tileType.UseMountHeight && isInstalled) ? 0f : ((pref.height < 0f) ? 0f : ((pref.height == 0f) ? 0.1f : pref.height))); // [!code --]
			float num25 = ((tileType.UseMountHeight && isInstalled) ? 0f : ((pref.height < 0f) ? 0f : ((pref.height == 0f) ? 0.1f : pref.height))); // [!code ++]
			if (t.ignoreStackHeight)
			{
				thingPos.y -= num22; // [!code --]
				thingPos.y -= num20; // [!code ++]
			}
			shadow = thingPos.y < 0.16f && num25 < 0.16f; // [!code --]
			shadow = thingPos.y < 0.16f && num23 < 0.16f; // [!code ++]
			_ = pref.bypassShadow;
			param.shadowFix = 0f - thingPos.y;
			param.liquidLv = ((thingPos.y + (float)t.altitude < 0.1f) ? liquidLv : 0);
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2792-L2798)
```cs:line-numbers=2792
				SetRoofHeight(param, this.cell, cx, cz);
				_actorPos.x = param.x;
				_actorPos.y = param.y;
				_actorPos.z = param.z + num26; // [!code --]
				_actorPos.z = param.z + num24; // [!code ++]
				if (this.room != null)
				{
					param.color = GetRoofLight(this.room.lot);
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2803-L2811)
```cs:line-numbers=2803
			else
			{
				param.snow = snowed;
				_actorPos.x = orgX + num23; // [!code --]
				_actorPos.x = orgX + num21; // [!code ++]
				_actorPos.y = orgY;
				_actorPos.z = orgZ + num26 + thingPos.z; // [!code --]
				_actorPos.z = orgZ + num24 + thingPos.z; // [!code ++]
				if (tileType.CanStack || !isInstalled)
				{
					if (thing?.id != t.id)
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2815-L2827)
```cs:line-numbers=2815
					_actorPos.y += thingPos.y;
					if (t.trait.IgnoreLastStackHeight && (thing == null || !thing.trait.IgnoreLastStackHeight))
					{
						thingPos.y -= num22; // [!code --]
						thingPos.y -= num20; // [!code ++]
						if (thing != null)
						{
							_actorPos.z -= 0.2f;
							thingPos.z -= 0.2f;
						}
						_actorPos.y -= num22; // [!code --]
						_actorPos.y -= num20; // [!code ++]
					}
					_actorPos.z += renderSetting.thingZ + (float)m * -0.01f + zSetting.mod1 * thingPos.y;
				}
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2838-L2844)
```cs:line-numbers=2838
						freePos.z += rampFix2.z;
						if (!this.cell.IsTopWater || t.altitude > 0)
						{
							num25 += rampFix2.y; // [!code --]
							num23 += rampFix2.y; // [!code ++]
						}
						liquidLv -= (int)(rampFix2.y * 150f);
						if (liquidLv < 0)
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2848-L2859)
```cs:line-numbers=2848
					}
					else if (!flag11 && t.trait.IsChangeFloorHeight && !t.ignoreStackHeight)
					{
						orgY += num27 + (float)t.altitude * altitudeFix.y; // [!code --]
						orgY += num25 + (float)t.altitude * altitudeFix.y; // [!code ++]
						orgZ += (float)t.altitude * altitudeFix.z;
						freePos.y += num27 + (float)t.altitude * altitudeFix.y; // [!code --]
						freePos.y += num25 + (float)t.altitude * altitudeFix.y; // [!code ++]
						if (!this.cell.IsTopWater || t.altitude > 0)
						{
							num25 += num27 + (float)t.altitude * altitudeFix.y; // [!code --]
							num23 += num25 + (float)t.altitude * altitudeFix.y; // [!code ++]
						}
						_actorPos.x += pref.x * (float)((!t.flipX) ? 1 : (-1));
						_actorPos.z += pref.z;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2865-L2871)
```cs:line-numbers=2865
					}
					else
					{
						thingPos.y += num27; // [!code --]
						thingPos.y += num25; // [!code ++]
						_actorPos.x += pref.x * (float)((!t.flipX) ? 1 : (-1));
						_actorPos.z += pref.z;
						if (pref.height >= 0f)
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2880-L2886)
```cs:line-numbers=2880
				}
				else
				{
					thingPos.y += num27; // [!code --]
					thingPos.y += num25; // [!code ++]
					_actorPos.x += pref.x * (float)((!t.flipX) ? 1 : (-1));
					_actorPos.z += pref.z;
					thingPos.z += pref.z;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2888-L2900)
```cs:line-numbers=2888
				if (t.isFloating && isWater && !hasBridge && !flag)
				{
					flag = true;
					float num28 = ((this.cell._bridge != 0) ? sourceBridge.tileType.FloorHeight : sourceFloor.tileType.FloorHeight); // [!code --]
					orgY += 0.01f * floatY - num28; // [!code --]
					float num26 = ((this.cell._bridge != 0) ? sourceBridge.tileType.FloorHeight : sourceFloor.tileType.FloorHeight); // [!code ++]
					orgY += 0.01f * floatY - num26; // [!code ++]
					if (!t.trait.IsChangeFloorHeight)
					{
						num24 = num27; // [!code --]
						num22 = num25; // [!code ++]
					}
					_actorPos.y += 0.01f * floatY - num28; // [!code --]
					_actorPos.y += 0.01f * floatY - num26; // [!code ++]
					if (liquidLv > 10)
					{
						liquidLv = TileType.FloorWaterShallow.LiquidLV * 10;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2906-L2915)
```cs:line-numbers=2906
					}
					param.liquidLv = liquidLv;
				}
				num22 = num27; // [!code --]
				num20 = num25; // [!code ++]
				if (t.sourceCard.multisize && !t.trait.IsGround)
				{
					num26 += zSetting.multiZ; // [!code --]
					num24 += zSetting.multiZ; // [!code ++]
				}
				orgZ += t.renderer.data.stackZ;
				if (param.liquidLv > 0)
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L2986-L3020)
```cs:line-numbers=2986
			{
				if (iconMode != 0)
				{
					int num29 = 0; // [!code --]
					int num27 = 0; // [!code ++]
					switch (iconMode)
					{
					case CardIconMode.Visibility:
						if (t.isMasked)
						{
							num29 = 17; // [!code --]
							num27 = 17; // [!code ++]
						}
						break;
					case CardIconMode.State:
						if (t.placeState == PlaceState.installed)
						{
							num29 = 18; // [!code --]
							num27 = 18; // [!code ++]
						}
						break;
					case CardIconMode.Deconstruct:
						if (t.isDeconstructing)
						{
							num29 = 14; // [!code --]
							num27 = 14; // [!code ++]
						}
						break;
					}
					if (t.isNPCProperty && !EMono.debug.godBuild)
					{
						num29 = 13; // [!code --]
						num27 = 13; // [!code ++]
					}
					if (num29 != 0) // [!code --]
					if (num27 != 0) // [!code ++]
					{
						passGuideBlock.Add(_actorPos.x, _actorPos.y, _actorPos.z - 10f, num29); // [!code --]
						passGuideBlock.Add(_actorPos.x, _actorPos.y, _actorPos.z - 10f, num27); // [!code ++]
					}
				}
				t.SetRenderParam(param);
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L3041-L3047)
```cs:line-numbers=3041
			}
			if (isInstalled)
			{
				num23 += pref.stackX * (float)((!t.flipX) ? 1 : (-1)); // [!code --]
				num21 += pref.stackX * (float)((!t.flipX) ? 1 : (-1)); // [!code ++]
			}
			param.x = orgX;
			param.y = orgY;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L3054-L3065)
```cs:line-numbers=3054
			}
		}
	}
	orgY += num24; // [!code --]
	orgY += num22; // [!code ++]
	if (detail.charas.Count <= 0)
	{
		return;
	}
	param.shadowFix = 0f - num25; // [!code --]
	param.shadowFix = 0f - num23; // [!code ++]
	param.color += 1310720f;
	float max = zSetting.max2;
	for (int n = 0; n < detail.charas.Count; n++)
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L3084-L3092)
```cs:line-numbers=3084
				{
					Vector3 position = restrainer.owner.renderer.position;
					float defCharaHeight = EMono.setting.render.defCharaHeight;
					float num30 = getRestrainPos.y + defCharaHeight - ((chara.Pref.height == 0f) ? defCharaHeight : chara.source.pref.height); // [!code --]
					float num28 = getRestrainPos.y + defCharaHeight - ((chara.Pref.height == 0f) ? defCharaHeight : chara.source.pref.height); // [!code ++]
					_actorPos.x = position.x + getRestrainPos.x * (float)((restrainer.owner.dir % 2 == 0) ? 1 : (-1));
					_actorPos.y = position.y + num30; // [!code --]
					_actorPos.y = position.y + num28; // [!code ++]
					_actorPos.z = position.z + getRestrainPos.z;
					param.liquidLv = 0;
					param.shadowFix = orgY - _actorPos.y;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L3101-L3122)
```cs:line-numbers=3101
		{
			if (chara.IsDeadOrSleeping && chara.IsPCC)
			{
				float num31 = chara.renderer.data.size.y * 0.3f; // [!code --]
				float num29 = chara.renderer.data.size.y * 0.3f; // [!code ++]
				if (thingPos.y > max)
				{
					thingPos.y = max;
				}
				float num32 = thingPos.y + num31; // [!code --]
				float num33 = (float)n * -0.01f; // [!code --]
				if (num32 > zSetting.thresh1) // [!code --]
				float num30 = thingPos.y + num29; // [!code ++]
				float num31 = (float)n * -0.01f; // [!code ++]
				if (num30 > zSetting.thresh1) // [!code ++]
				{
					num33 = zSetting.mod1; // [!code --]
					num31 = zSetting.mod1; // [!code ++]
				}
				_actorPos.x += thingPos.x;
				_actorPos.y += thingPos.y;
				_actorPos.z += renderSetting.laydownZ + num33; // [!code --]
				_actorPos.z += renderSetting.laydownZ + num31; // [!code ++]
				param.liquidLv = ((thingPos.y == 0f && liquidLv > 0) ? 90 : 0);
				thingPos.y += num31 * 0.8f; // [!code --]
				thingPos.y += num29 * 0.8f; // [!code ++]
				chara.renderer.Draw(param, ref _actorPos, liquidLv == 0);
			}
			else
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L3126-L3136)
```cs:line-numbers=3126
				{
					if (chara.Pref.FloatUnderwater)
					{
						float num34 = ((this.cell._bridge != 0) ? sourceBridge.tileType.FloorHeight : sourceFloor.tileType.FloorHeight); // [!code --]
						float num35 = floatYs[chara.uid % 10] + 10f + (float)(chara.uid % 30); // [!code --]
						orgY += 0.01f * num35 - num34; // [!code --]
						_actorPos.y += 0.01f * num35 - num34; // [!code --]
						param.shadowFix -= 0.01f * num35 - num34; // [!code --]
						float num32 = ((this.cell._bridge != 0) ? sourceBridge.tileType.FloorHeight : sourceFloor.tileType.FloorHeight); // [!code ++]
						float num33 = floatYs[chara.uid % 10] + 10f + (float)(chara.uid % 30); // [!code ++]
						orgY += 0.01f * num33 - num32; // [!code ++]
						_actorPos.y += 0.01f * num33 - num32; // [!code ++]
						param.shadowFix -= 0.01f * num33 - num32; // [!code ++]
					}
				}
				else if (liquidLv > 0)
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L3139-L3150)
```cs:line-numbers=3139
					{
						if (liquidLv > 20)
						{
							float num36 = ((this.cell._bridge != 0) ? sourceBridge.tileType.FloorHeight : sourceFloor.tileType.FloorHeight); // [!code --]
							orgY += 0.01f * floatY - num36; // [!code --]
							_actorPos.y += 0.01f * floatY - num36; // [!code --]
							int num37 = TileType.FloorWaterShallow.LiquidLV * 10; // [!code --]
							num37 -= (int)(floatY * 0.5f); // [!code --]
							param.liquidLv = num37; // [!code --]
							float num34 = ((this.cell._bridge != 0) ? sourceBridge.tileType.FloorHeight : sourceFloor.tileType.FloorHeight); // [!code ++]
							orgY += 0.01f * floatY - num34; // [!code ++]
							_actorPos.y += 0.01f * floatY - num34; // [!code ++]
							int num35 = TileType.FloorWaterShallow.LiquidLV * 10; // [!code ++]
							num35 -= (int)(floatY * 0.5f); // [!code ++]
							param.liquidLv = num35; // [!code ++]
						}
						else
						{
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L3163-L3172)
```cs:line-numbers=3163
				}
				if (!chara.IsPC && !chara.renderer.IsMoving && detail.charas.Count > 1 && (detail.charas.Count != 2 || !detail.charas[0].IsDeadOrSleeping || !detail.charas[0].IsPCC))
				{
					_actorPos += renderSetting.charaPos[1 + ((num21 < 4) ? num21 : 3)]; // [!code --]
					_actorPos += renderSetting.charaPos[1 + ((num19 < 4) ? num19 : 3)]; // [!code ++]
				}
				_actorPos.z += 0.01f * (float)n + renderSetting.charaZ;
				num21++; // [!code --]
				num19++; // [!code ++]
				if (flag10)
				{
					_actorPos.z += chara.renderer.data.hangedFixZ;
```

[`public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/BaseTileMap.cs#L3178-L3183)
```cs:line-numbers=3178
		param.y = orgY;
		param.z = orgZ;
	}
	return; // [!code ++]
	IL_6fea: // [!code ++]
	if (isSnowCovered && (sourceBlock.id != 0 || this.cell.hasDoor) && !snowed && !this.cell.isClearSnow && ((!this.cell.Front.HasRoof && !this.cell.Front.HasBlock) || (!this.cell.Right.HasRoof && !this.cell.Right.HasBlock))) // [!code ++]
	{ // [!code ++]
		snowed = true; // [!code ++]
	} // [!code ++]
	if (this.cell.effect != null) // [!code ++]
	{ // [!code ++]
		if (this.cell.effect.IsLiquid) // [!code ++]
		{ // [!code ++]
			SourceCellEffect.Row sourceEffect = this.cell.sourceEffect; // [!code ++]
			SourceMaterial.Row defaultMaterial = sourceEffect.DefaultMaterial; // [!code ++]
			tile = 4 + Rand.bytes[index % Rand.MaxBytes] % 4; // [!code ++]
			param.tile = tile + this.cell.sourceEffect._tiles[0]; // [!code ++]
			param.mat = defaultMaterial; // [!code ++]
			param.matColor = ((this.cell.effect.color == 0) ? GetColorInt(ref defaultMaterial.matColor, sourceEffect.colorMod) : this.cell.effect.color); // [!code ++]
			sourceEffect.renderData.Draw(param); // [!code ++]
		} // [!code ++]
		else // [!code ++]
		{ // [!code ++]
			param.tile = this.cell.effect.source._tiles[0]; // [!code ++]
			SourceCellEffect.Row sourceEffect2 = this.cell.sourceEffect; // [!code ++]
			if (sourceEffect2.anime.Length != 0) // [!code ++]
			{ // [!code ++]
				if (sourceEffect2.anime.Length > 2) // [!code ++]
				{ // [!code ++]
					float num36 = Time.realtimeSinceStartup * 1000f / (float)sourceEffect2.anime[1] % (float)sourceEffect2.anime[2]; // [!code ++]
					if (!(num36 >= (float)sourceEffect2.anime[0])) // [!code ++]
					{ // [!code ++]
						param.tile += num36; // [!code ++]
					} // [!code ++]
				} // [!code ++]
				else // [!code ++]
				{ // [!code ++]
					float num37 = Time.realtimeSinceStartup * 1000f / (float)sourceEffect2.anime[1] % (float)sourceEffect2.anime[0]; // [!code ++]
					param.tile += num37; // [!code ++]
				} // [!code ++]
			} // [!code ++]
			if (this.cell.effect.IsFire) // [!code ++]
			{ // [!code ++]
				rendererEffect.Draw(param); // [!code ++]
			} // [!code ++]
			else // [!code ++]
			{ // [!code ++]
				this.cell.effect.source.renderData.Draw(param); // [!code ++]
			} // [!code ++]
		} // [!code ++]
	} // [!code ++]
	param.color = floorLight; // [!code ++]
	if (this.cell.critter != null) // [!code ++]
	{ // [!code ++]
		Critter critter = this.cell.critter; // [!code ++]
		int snowTile = critter.tile; // [!code ++]
		if (snowed && critter.SnowTile != 0) // [!code ++]
		{ // [!code ++]
			critter.x = 0.06f; // [!code ++]
			critter.y = -0.06f; // [!code ++]
			snowTile = critter.SnowTile; // [!code ++]
		} // [!code ++]
		else // [!code ++]
		{ // [!code ++]
			critter.Update(); // [!code ++]
		} // [!code ++]
		pass = passObjSS; // [!code ++]
		batch = pass.batches[pass.batchIdx]; // [!code ++]
		batch.matrices[pass.idx].m03 = param.x + (float)(int)(critter.x * 100f) * 0.01f; // [!code ++]
		batch.matrices[pass.idx].m13 = param.y + (float)(int)(critter.y * 100f) * 0.01f; // [!code ++]
		batch.matrices[pass.idx].m23 = param.z; // [!code ++]
		batch.tiles[pass.idx] = snowTile * ((!critter.reverse) ? 1 : (-1)); // [!code ++]
		batch.colors[pass.idx] = floorLight; // [!code ++]
		pass.idx++; // [!code ++]
		if (pass.idx == pass.batchSize) // [!code ++]
		{ // [!code ++]
			pass.NextBatch(); // [!code ++]
		} // [!code ++]
	} // [!code ++]
	if (detail != null) // [!code ++]
	{ // [!code ++]
		TransAnime anime3 = detail.anime; // [!code ++]
		if (anime3 != null && !anime3.animeBlock) // [!code ++]
		{ // [!code ++]
			TransAnime anime4 = detail.anime; // [!code ++]
			param.x += anime4.v.x; // [!code ++]
			param.y += anime4.v.y; // [!code ++]
			param.z += anime4.v.z; // [!code ++]
		} // [!code ++]
	} // [!code ++]
	if (this.cell.obj != 0 && !this.cell.sourceObj.renderData.SkipOnMap) // [!code ++]
	{ // [!code ++]
		SourceObj.Row sourceObj = this.cell.sourceObj; // [!code ++]
		if (!snowed || sourceObj.snowTile <= 0) // [!code ++]
		{ // [!code ++]
			param.snow = snowed; // [!code ++]
			param.mat = this.cell.matObj; // [!code ++]
			orgY = param.y; // [!code ++]
			if (param.liquidLv > 0) // [!code ++]
			{ // [!code ++]
				if (sourceObj.pref.Float) // [!code ++]
				{ // [!code ++]
					param.y += 0.01f * floatY; // [!code ++]
					if (liquidLv > 10) // [!code ++]
					{ // [!code ++]
						liquidLv = TileType.FloorWaterShallow.LiquidLV * 10; // [!code ++]
					} // [!code ++]
					liquidLv -= (int)(floatY * 0.5f); // [!code ++]
					param.liquidLv = liquidLv; // [!code ++]
				} // [!code ++]
				if (sourceObj.tileType.IsWaterTop) // [!code ++]
				{ // [!code ++]
					param.liquidLv = 0; // [!code ++]
				} // [!code ++]
				else // [!code ++]
				{ // [!code ++]
					param.liquidLv += sourceObj.pref.liquidMod; // [!code ++]
					if (param.liquidLv < 1) // [!code ++]
					{ // [!code ++]
						param.liquid = 1f; // [!code ++]
					} // [!code ++]
					else if (param.liquidLv > 99 + sourceObj.pref.liquidModMax) // [!code ++]
					{ // [!code ++]
						param.liquidLv = 99 + sourceObj.pref.liquidModMax; // [!code ++]
					} // [!code ++]
				} // [!code ++]
			} // [!code ++]
			if (sourceObj.useAltColor) // [!code ++]
			{ // [!code ++]
				param.matColor = ((sourceObj.colorMod == 0) ? 104025 : GetColorInt(ref param.mat.altColor, sourceObj.colorMod)); // [!code ++]
			} // [!code ++]
			else // [!code ++]
			{ // [!code ++]
				param.matColor = ((sourceObj.colorMod == 0) ? 104025 : GetColorInt(ref param.mat.matColor, sourceObj.colorMod)); // [!code ++]
			} // [!code ++]
			if (sourceObj.HasGrowth) // [!code ++]
			{ // [!code ++]
				this.cell.growth.OnRenderTileMap(param); // [!code ++]
				if (this.cell.obj == 118 && Core.fixedFrame % 10f == 0f && sourceObj.growth.IsMature) // [!code ++]
				{ // [!code ++]
					EMono.scene.psFey.transform.position = new Vector3(param.x, param.y, param.z - 2f); // [!code ++]
					EMono.scene.psFey.Emit(1); // [!code ++]
				} // [!code ++]
			} // [!code ++]
			else // [!code ++]
			{ // [!code ++]
				if (this.cell.autotileObj != 0) // [!code ++]
				{ // [!code ++]
					param.tile = sourceObj._tiles[0] + this.cell.autotileObj; // [!code ++]
				} // [!code ++]
				else if (sourceObj.tileType.IsUseBlockDir) // [!code ++]
				{ // [!code ++]
					param.tile = sourceObj._tiles[this.cell.blockDir % sourceObj._tiles.Length]; // [!code ++]
				} // [!code ++]
				else // [!code ++]
				{ // [!code ++]
					param.tile = sourceObj._tiles[this.cell.objDir % sourceObj._tiles.Length]; // [!code ++]
				} // [!code ++]
				if (_lowblock && sourceObj.tileType.IsSkipLowBlock) // [!code ++]
				{ // [!code ++]
					param.tile += ((param.tile > 0f) ? 1 : (-1)) * 3000000; // [!code ++]
				} // [!code ++]
				orgY = param.y; // [!code ++]
				orgZ = param.z; // [!code ++]
				param.y += sourceObj.pref.y; // [!code ++]
				param.z += sourceObj.pref.z; // [!code ++]
				sourceObj.renderData.Draw(param); // [!code ++]
				param.y = orgY; // [!code ++]
				param.z = orgZ; // [!code ++]
				int shadow4 = sourceObj.pref.shadow; // [!code ++]
				if (shadow4 > 1 && !this.cell.ignoreObjShadow) // [!code ++]
				{ // [!code ++]
					passShadow.AddShadow(param.x + sourceObj.renderData.offsetShadow.x, param.y + sourceObj.renderData.offsetShadow.y, param.z + sourceObj.renderData.offsetShadow.z, ShadowData.Instance.items[shadow4], sourceObj.pref, 0, param.snow); // [!code ++]
				} // [!code ++]
				param.y = orgY; // [!code ++]
			} // [!code ++]
		} // [!code ++]
	} // [!code ++]
	if (this.cell.decal != 0 && sourceFloor.tileType.AllowBlood) // [!code ++]
	{ // [!code ++]
		passDecal.Add(param, (int)this.cell.decal, floorLight); // [!code ++]
	} // [!code ++]
	if (highlightCells) // [!code ++]
	{ // [!code ++]
		switch (ActionMode.FlagCell.mode) // [!code ++]
		{ // [!code ++]
		case AM_FlagCell.Mode.flagWallPillar: // [!code ++]
			if (this.cell.isToggleWallPillar) // [!code ++]
			{ // [!code ++]
				passArea.Add(param, 34f, 0f); // [!code ++]
			} // [!code ++]
			break; // [!code ++]
		case AM_FlagCell.Mode.flagSnow: // [!code ++]
			if (this.cell.isClearSnow) // [!code ++]
			{ // [!code ++]
				passArea.Add(param, 34f, 0f); // [!code ++]
			} // [!code ++]
			break; // [!code ++]
		case AM_FlagCell.Mode.flagFloat: // [!code ++]
			if (this.cell.isForceFloat) // [!code ++]
			{ // [!code ++]
				passArea.Add(param, 34f, 0f); // [!code ++]
			} // [!code ++]
			break; // [!code ++]
		case AM_FlagCell.Mode.flagClear: // [!code ++]
			if (this.cell.isClearArea) // [!code ++]
			{ // [!code ++]
				passArea.Add(param, 34f, 0f); // [!code ++]
			} // [!code ++]
			break; // [!code ++]
		} // [!code ++]
	} // [!code ++]
	if (detail == null) // [!code ++]
	{ // [!code ++]
		return; // [!code ++]
	} // [!code ++]
	if (highlightArea && detail.area != null) // [!code ++]
	{ // [!code ++]
		passArea.Add(param, (int)detail.area.GetTile(index) - ((!subtleHighlightArea) ? 1 : 0), 0f); // [!code ++]
	} // [!code ++]
	if (detail.footmark != null && sourceFloor.id != 0) // [!code ++]
	{ // [!code ++]
		param.tile = detail.footmark.tile; // [!code ++]
		param.mat = matFloor; // [!code ++]
		param.matColor = 104025f; // [!code ++]
		renderFootmark.Draw(param); // [!code ++]
	} // [!code ++]
	goto IL_7ba5; // [!code ++]
	void Draw(int tile)
	{
		pass = passEdge;
```

## Card

[`private void _OnSerializing(StreamingContext context)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Card.cs#L2668-L2674)
```cs:line-numbers=2668
		_ints[0] = _bits1.ToInt();
		_ints[2] = _bits2.ToInt();
		_placeState = placeState;
		version = 2; // [!code --]
		OnSerializing();
	}

```

[`protected virtual void OnSerializing()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Card.cs#L2679-L2694)
```cs:line-numbers=2679
[OnDeserialized]
private void _OnDeserialized(StreamingContext context)
{
	if (version < 2) // [!code --]
	if (version < 2 && sockets != null) // [!code ++]
	{
		if (sockets != null) // [!code --]
		for (int i = 0; i < sockets.Count; i++) // [!code ++]
		{
			for (int i = 0; i < sockets.Count; i++) // [!code --]
			{ // [!code --]
				sockets[i] = sockets[i] / 100 * 1000 + sockets[i] % 100; // [!code --]
			} // [!code --]
			sockets[i] = sockets[i] / 100 * 1000 + sockets[i] % 100; // [!code ++]
		}
		version = 2; // [!code --]
	}
	_bits1.SetInt(_ints[0]);
	_bits2.SetInt(_ints[2]);
```

[`private void _OnDeserialized(StreamingContext context)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Card.cs#L2709-L2714)
```cs:line-numbers=2709
		{
			isDestroyed = true;
		}
		if (version < 3) // [!code ++]
		{ // [!code ++]
			if (version < 3 && isChara && HasElement(1210)) // [!code ++]
			{ // [!code ++]
				elements.ModBase(960, -5 * Evalue(1210)); // [!code ++]
			} // [!code ++]
			version = 3; // [!code ++]
		} // [!code ++]
	}

	protected virtual void OnDeserialized()
```

[`public void Create(string _id, int _idMat = -1, int genLv = -1)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Card.cs#L2737-L2742)
```cs:line-numbers=2737
	EClass.game.cards.AssignUID(this);
	this.genLv = genLv;
	isNew = true;
	version = 3; // [!code ++]
	SetSource();
	OnBeforeCreate();
	if (sourceCard.quality != 0)
```

[`public void PurgeDuplicateArtifact(Thing af)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Card.cs#L3256-L3261)
```cs:line-numbers=3256
		}
	}

	public void PurgeEythArtifact() // [!code ++]
	{ // [!code ++]
		if (!EClass.pc.IsEyth || !EClass.pc.HasElement(1228)) // [!code ++]
		{ // [!code ++]
			return; // [!code ++]
		} // [!code ++]
		List<Chara> list = new List<Chara>(); // [!code ++]
		foreach (FactionBranch child in EClass.pc.faction.GetChildren()) // [!code ++]
		{ // [!code ++]
			foreach (Chara member in child.members) // [!code ++]
			{ // [!code ++]
				list.Add(member); // [!code ++]
			} // [!code ++]
		} // [!code ++]
		foreach (Chara chara in EClass._map.charas) // [!code ++]
		{ // [!code ++]
			list.Add(chara); // [!code ++]
		} // [!code ++]
		foreach (Chara item in list) // [!code ++]
		{ // [!code ++]
			if (item.IsPCFactionOrMinion) // [!code ++]
			{ // [!code ++]
				Thing thing = item.things.Find((Thing t) => t.HasTag(CTAG.godArtifact) && t.c_idDeity == "eyth"); // [!code ++]
				if (thing != null) // [!code ++]
				{ // [!code ++]
					PurgeDuplicateArtifact(thing); // [!code ++]
				} // [!code ++]
				break; // [!code ++]
			} // [!code ++]
		} // [!code ++]
	} // [!code ++]
 // [!code ++]
	public void RemoveThings()
	{
		for (int num = things.Count - 1; num >= 0; num--)
```

[`public void DamageHP(long dmg, int ele, int eleP = 100, AttackSource attackSourc`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Card.cs#L4460-L4466)
```cs:line-numbers=4460
			}
			foreach (Chara chara5 in EClass._map.charas)
			{
				if (Chara.IsFriendOrAbove(chara5) && chara5.HasElement(1408) && chara5.faith == EClass.game.religions.Healing && EClass.world.date.GetRawDay() != chara5.GetInt(58) && (!chara5.IsPCFaction || IsPCFaction)) // [!code --]
				if (Chara.IsFriendOrAbove(chara5) && chara5.HasElement(1408) && chara5.faith == EClass.game.religions.Healing && EClass.world.date.GetRawDay() != chara5.GetInt(58) && (!chara5.IsPCFaction || IsPCFaction) && (chara5.memberType != FactionMemberType.Livestock || Chara.memberType == FactionMemberType.Livestock)) // [!code ++]
				{
					Msg.alwaysVisible = true;
					Msg.Say("layhand", chara5, this);
```

## Chara

[`public class Chara : Card, IPathfindWalker`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Chara.cs#L149-L154)
```cs:line-numbers=149

	public bool visibleWithTelepathy;

	public bool isWeakToSunlight; // [!code ++]
 // [!code ++]
	public SpriteReplacer spriteReplacer;

	private Faction _faction;
```

[`public void Refresh(bool calledRecursive = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Chara.cs#L1732-L1737)
```cs:line-numbers=1732
	isWet = false;
	_isLevitating = HasElement(401) || (ride != null && ride._isLevitating);
	canSeeInvisible = HasElement(416);
	isWeakToSunlight = HasElement(1250) && !HasElement(431); // [!code ++]
	base.isHidden = HasElement(415);
	foreach (Condition condition in conditions)
	{
```

[`public void TickConditions()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Chara.cs#L3712-L3717)
```cs:line-numbers=3712
		}
		break;
	}
	case 5: // [!code ++]
	case 30: // [!code ++]
		if (isWeakToSunlight && pos.IsSunLit) // [!code ++]
		{ // [!code ++]
			AddCondition<ConBurning>(1000, force: true); // [!code ++]
		} // [!code ++]
		break; // [!code ++]
	}
	if (turn % 200 == 0)
	{
```

[`public void Sleep(Thing bed = null, Thing pillow = null, bool pickup = false, It`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Chara.cs#L9546-L9551)
```cs:line-numbers=9546

	public void OnSleep(Thing bed = null, int days = 1)
	{
		bool isSunLit = pos.IsSunLit; // [!code ++]
		TraitPillow traitPillow = pos.FindThing<TraitPillow>();
		int num = bed?.Power ?? 20;
		if (traitPillow != null)
```

[`public void OnSleep(Thing bed = null, int days = 1)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Chara.cs#L9555-L9565)
```cs:line-numbers=9555
		if (bed != null)
		{
			num += bed.Evalue(750) * 5;
			if (bed.trait is TraitBedCoffin) // [!code ++]
			{ // [!code ++]
				isSunLit = false; // [!code ++]
			} // [!code ++]
		}
		OnSleep(num, days); // [!code --]
		OnSleep(num, days, isSunLit); // [!code ++]
	}

	public void OnSleep(int power, int days = 1) // [!code --]
	public void OnSleep(int power, int days = 1, bool isSunLit = false) // [!code ++]
	{
		if (days < 1)
		{
```

[`public void OnSleep(int power, int days = 1)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Chara.cs#L9570-L9578)
```cs:line-numbers=9570
	{
		stamina.Set(1);
	}
	HealHP(num); // [!code --]
	stamina.Mod(10 + 25 * num / 100 * (100 + elements.GetFeatRef(1642)) / 100); // [!code --]
	mana.Mod(num); // [!code --]
	if (isWeakToSunlight && isSunLit) // [!code ++]
	{ // [!code ++]
		base.hp = 0; // [!code ++]
		if (mana.value > 0) // [!code ++]
		{ // [!code ++]
			mana.Set(0); // [!code ++]
		} // [!code ++]
		AddCondition<ConBurning>(1000, force: true); // [!code ++]
	} // [!code ++]
	else // [!code ++]
	{ // [!code ++]
		HealHP(num); // [!code ++]
		stamina.Mod(10 + 25 * num / 100 * (100 + elements.GetFeatRef(1642)) / 100); // [!code ++]
		mana.Mod(num); // [!code ++]
	} // [!code ++]
	if (IsPCFaction)
	{
		hunger.Mod(20);
```

## ConSleep

[`public static void SuccubusVisit(Chara tg)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ConSleep.cs#L204-L210)
```cs:line-numbers=204
		chara.SetAI(new AI_Fuck
		{
			target = tg,
			succubus = true // [!code --]
			variation = AI_Fuck.Variation.Succubus // [!code ++]
		});
	}
}
```

## ConTransmute

[`public class ConTransmute : BaseBuff`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ConTransmute.cs#L2-L7)
```cs:line-numbers=2
{
	public override bool IsToggle => true;

	public override bool ShouldRefresh => true; // [!code ++]
 // [!code ++]
	public override void Tick()
	{
		if (owner.host == null && owner.conSleep == null && (EClass.pc.conSleep == null || EClass.pc.conSleep.pcSleep == 0))
```

## ConTransmuteBat

[`public class ConTransmuteBat : ConTransmute`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ConTransmuteBat.cs#L1-L7)
```cs:line-numbers=1
public class ConTransmuteBat : ConTransmute
{
	public override bool HasDuration => false; // [!code ++]
 // [!code ++]
	public override RendererReplacer GetRendererReplacer()
	{
		return RendererReplacer.CreateFrom("bat_vampire"); // [!code --]
		return RendererReplacer.CreateFrom("bat"); // [!code ++]
	} // [!code ++]
 // [!code ++]
	public override void Tick() // [!code ++]
	{ // [!code ++]
	}
}
```

## ContentConfigTest

[`public class ContentConfigTest : ContentConfig`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ContentConfigTest.cs#L45-L50)
```cs:line-numbers=45

	public Slider sliderBrightness;

	public Slider sliderExtraHeight; // [!code ++]
 // [!code ++]
	public override void OnInstantiate()
	{
		List<SkinRootStatic> mainSkins = EClass.ui.skins.mainSkins;
```

[`public override void OnInstantiate()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ContentConfigTest.cs#L152-L156)
```cs:line-numbers=152
			}
			return Lang.Get("brightnessNight") + "(" + (int)(a + 100f) + "%)";
		});
		SetSlider(sliderExtraHeight, base.config.test.screenExtraHeight, delegate(float a) // [!code ++]
		{ // [!code ++]
			base.config.test.screenExtraHeight = (int)a; // [!code ++]
			base.config.ApplyGrading(); // [!code ++]
			return Lang.Get("screenExtraHeight") + "(" + (int)a + ")"; // [!code ++]
		}); // [!code ++]
	}
}
```

## CoreConfig

[`public class Test`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/CoreConfig.cs#L529-L534)
```cs:line-numbers=529

		public int extraToneMTP;

		public int screenExtraWidth; // [!code ++]
 // [!code ++]
		public int screenExtraHeight; // [!code ++]
 // [!code ++]
		public bool showNumbers;

		public bool stackNumbers;
```

## CoreDebug

[`public void UpdateInput()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/CoreDebug.cs#L955-L967)
```cs:line-numbers=955
		Chara targetChara = EClass.scene.mouseTarget.TargetChara;
		if (targetChara != null)
		{
			EClass.pc.Pick(CraftUtil.MakeLoveLunch(targetChara)); // [!code --]
			EClass.pc.Pick(CraftUtil.MakeDarkSoup()); // [!code --]
			EClass.pc.Pick(targetChara.MakeMilk()); // [!code --]
			EClass.pc.Pick(targetChara.MakeGene()); // [!code --]
			EClass.pc.Pick(targetChara.MakeBraineCell()); // [!code --]
			EClass.pc.Pick(targetChara.MakeEgg(effect: true, 10)); // [!code --]
			targetChara.ModAffinity(EClass.pc, 10000); // [!code --]
			EClass.pc.Pick(CraftUtil.MakeBloodMeal(EClass.pc, targetChara)); // [!code ++]
		}
		targetChara.ScaleByPrincipal();
		if (EClass.game.quests.Get<QuestDebt>() == null)
```

## CraftUtil

[`public static void MakeDish(Thing food, int lv, Chara crafter = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/CraftUtil.cs#L99-L104)
```cs:line-numbers=99
		}
	}

	public static Thing MakeBloodMeal(Chara sucker, Chara feeder) // [!code ++]
	{ // [!code ++]
		int lV = feeder.LV; // [!code ++]
		lV = lV / 10 * 10 + 10; // [!code ++]
		Rand.SetSeed(EClass.game.seed + feeder.uid); // [!code ++]
		Thing thing = ThingGen.CreateFromCategory("meal", lV); // [!code ++]
		sucker.Say("food_blood", thing); // [!code ++]
		Rand.SetSeed(EClass.game.seed + feeder.uid); // [!code ++]
		MakeDish(thing, lV); // [!code ++]
		Rand.SetSeed(); // [!code ++]
		if (thing.HasElement(708)) // [!code ++]
		{ // [!code ++]
			thing.elements.Remove(708); // [!code ++]
		} // [!code ++]
		thing.elements.ModBase(710, 1); // [!code ++]
		return thing; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public static Thing MakeDarkSoup()
	{
		Thing thing = ThingGen.Create("soup_dark");
```

## DNA

[`void AddAction()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/DNA.cs#L347-L353)
```cs:line-numbers=347
		if (model.ability.list.items.Count != 0)
		{
			ActList.Item a = model.ability.list.items.RandomItem();
			if (!(a.act.source.category != "ability")) // [!code --]
			if (!(a.act.source.category != "ability") && a.act.source.geneSlot >= 0) // [!code ++]
			{
				AddVal(a.act.source.id, a.chance * ((!a.pt) ? 1 : (-1)), allowStack: false, (int v) => 8 + a.act.source.cost[0] / 10 * 2);
				action++;
```

## DOMAIN

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/DOMAIN.cs#L2-L21)
```cs:line-numbers=2

public class DOMAIN
{
	public const int domComm = 805; // [!code --]
 // [!code --]
	public const int domElement = 806; // [!code --]
	public const int domFaith = 802; // [!code ++]

	public const int domSurvival = 801;

	public const int domTest = 800;

	public const int domArcane = 804; // [!code --]
 // [!code --]
	public const int domFaith = 802; // [!code --]
	public const int domElement = 806; // [!code ++]

	public const int domMiracle = 803;

	public const int domArcane = 804; // [!code ++]
 // [!code ++]
	public const int domComm = 805; // [!code ++]
 // [!code ++]
	public const int domWind = 807;

	public const int domHarvest = 808;
```

[`public class DOMAIN`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/DOMAIN.cs#L36-L42)
```cs:line-numbers=36

	public static readonly int[] IDS = new int[16]
	{
		805, 806, 801, 800, 804, 802, 803, 807, 808, 810, // [!code --]
		802, 801, 800, 806, 803, 804, 805, 807, 808, 810, // [!code ++]
		811, 812, 813, 814, 815, 809
	};
}
```

## ELEMENT

[`public class ELEMENT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ELEMENT.cs#L33-L43)
```cs:line-numbers=33

	public const int _void = 0;

	public const int poison = 20; // [!code --]
	public const int old_antidote = 25; // [!code ++]
 // [!code ++]
	public const int piety = 85; // [!code ++]

	public const int race = 29;

	public const int piety = 85; // [!code --]
	public const int cure = 26; // [!code ++]

	public const int old_heal = 24;

```

[`public class ELEMENT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ELEMENT.cs#L53-L88)
```cs:line-numbers=53

	public const int heat = 16;

	public const int cure = 26; // [!code --]
 // [!code --]
	public const int water = 15; // [!code --]
	public const int poison = 20; // [!code ++]

	public const int hardness = 13; // [!code --]
	public const int growth = 14; // [!code ++]

	public const int size = 12; // [!code --]
	public const int lv = 1; // [!code ++]

	public const int weight = 11; // [!code --]
	public const int water = 15; // [!code ++]

	public const int nutrition = 10; // [!code --]
	public const int d = 3; // [!code ++]

	public const int socket = 5;

	public const int d = 3; // [!code --]
 // [!code --]
	public const int quality = 2;

	public const int lv = 1; // [!code --]
	public const int weight = 11; // [!code ++]

	public const int growth = 14; // [!code --]
	public const int size = 12; // [!code ++]

	public const int old_antidote = 25; // [!code --]
	public const int hardness = 13; // [!code ++]
 // [!code ++]
	public const int nutrition = 10; // [!code ++]

	public static readonly int[] IDS = new int[36]
	{
		752, 753, 754, 755, 756, 762, 760, 761, 763, 765,
		751, 759, 750, 0, 20, 29, 85, 24, 23, 22, // [!code --]
		21, 18, 17, 16, 26, 15, 13, 12, 11, 10, // [!code --]
		5, 3, 2, 1, 14, 25 // [!code --]
		751, 759, 750, 0, 25, 85, 29, 26, 24, 23, // [!code ++]
		22, 21, 18, 17, 16, 20, 14, 1, 15, 3, // [!code ++]
		5, 2, 11, 12, 13, 10 // [!code ++]
	};
}
public class Element : EClass
```

[`public int GetSortVal(UIList.SortMode m)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ELEMENT.cs#L1017-L1023)
```cs:line-numbers=1017
			}
			return id;
		default:
			return source.id; // [!code --]
			if (source.sort == 0) // [!code ++]
			{ // [!code ++]
				return source.id; // [!code ++]
			} // [!code ++]
			return source.sort; // [!code ++]
		}
	}

```

## ENC

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ENC.cs#L1-L24)
```cs:line-numbers=1
public class ENC
{
	public const int innocence = 418; // [!code --]
 // [!code --]
	public const int encTail = 419; // [!code --]
	public const int negateBlind = 421; // [!code ++]

	public const int negateParalysis = 422; // [!code --]
	public const int invisibility = 415; // [!code ++]

	public const int seeInvisible = 416;

	public const int invisibility = 415; // [!code --]
	public const int loving = 417; // [!code ++]

	public const int negatePoison = 420; // [!code --]
	public const int innocence = 418; // [!code ++]

	public const int encHit = 414;

	public const int loving = 417; // [!code --]
	public const int encTail = 419; // [!code ++]

	public const int encRagnarok = 667; // [!code --]
	public const int negatePoison = 420; // [!code ++]

	public const int absorbHP = 660; // [!code --]
	public const int negateParalysis = 422; // [!code ++]
 // [!code ++]
	public const int negateSleep = 424; // [!code ++]
 // [!code ++]
	public const int meleeDistance = 666; // [!code ++]

	public const int planter = 665;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ENC.cs#L32-L48)
```cs:line-numbers=32

	public const int slowCorruption = 412;

	public const int permaCurse = 656; // [!code --]
	public const int absorbHP = 660; // [!code ++]

	public const int meleeDistance = 666; // [!code --]
	public const int encRagnarok = 667; // [!code ++]

	public const int encSpell = 411;

	public const int redirect_blaser = 383; // [!code --]
	public const int negateTeleport = 400; // [!code ++]

	public const int corruption = 409;

	public const int negateBlind = 421; // [!code --]
	public const int negateFear = 423; // [!code ++]

	public const int convertImpact = 865;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ENC.cs#L56-L64)
```cs:line-numbers=56

	public const int rusher = 382;

	public const int onlyPet = 655; // [!code --]
	public const int redirect_blaser = 383; // [!code ++]

	public const int negateTeleport = 400; // [!code --]
	public const int permaCurse = 656; // [!code ++]

	public const int levitation = 401;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ENC.cs#L78-L90)
```cs:line-numbers=78

	public const int throwReturn = 410;

	public const int noDamage = 654; // [!code --]
	public const int onlyPet = 655; // [!code ++]

	public const int convertFire = 850;

	public const int eco = 652; // [!code --]
 // [!code --]
	public const int sustain_MAG = 446; // [!code --]
	public const int living = 653; // [!code ++]

	public const int sustain_CHA = 447;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ENC.cs#L106-L132)
```cs:line-numbers=106

	public const int bane_fish = 467;

	public const int strongStomach = 480; // [!code --]
	public const int bane_all = 468; // [!code ++]

	public const int revealFaith = 481; // [!code --]
	public const int strongStomach = 480; // [!code ++]

	public const int force_weapon = 482;

	public const int optimizeMana = 483;

	public const int sustain_WIL = 445; // [!code --]
 // [!code --]
	public const int slot_rune = 484;

	public const int sustain_LER = 444; // [!code --]
	public const int sustain_MAG = 446; // [!code ++]

	public const int sustain_DEX = 442; // [!code --]
	public const int nonLethal = 485; // [!code ++]

	public const int living = 653; // [!code --]
	public const int sustain_WIL = 445; // [!code ++]

	public const int negateSleep = 424; // [!code --]
	public const int sustain_PER = 443; // [!code ++]

	public const int negateConfusion = 425; // [!code --]
	public const int noDamage = 654; // [!code ++]

	public const int negateSteal = 426;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ENC.cs#L138-L143)
```cs:line-numbers=138

	public const int negateShockwave = 430;

	public const int negateSunburn = 431; // [!code ++]
 // [!code ++]
	public const int defense_range = 435;

	public const int guts = 436;
```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/ENC.cs#L152-L223)
```cs:line-numbers=152

	public const int sustain_END = 441;

	public const int sustain_PER = 443; // [!code --]
 // [!code --]
	public const int nonLethal = 485; // [!code --]
 // [!code --]
	public const int bane_all = 468; // [!code --]
	public const int sustain_DEX = 442; // [!code ++]

	public const int mod_splash = 608; // [!code --]
	public const int sustain_LER = 444; // [!code ++]

	public const int mod_feint = 623; // [!code --]
	public const int safetyMeasure = 486; // [!code ++]

	public const int mod_cleave = 622; // [!code --]
	public const int revealFaith = 481; // [!code ++]

	public const int mod_flurry = 621; // [!code --]
	public const int deathagony = 488; // [!code ++]

	public const int mod_chaser = 620; // [!code --]
	public const int negateConfusion = 425; // [!code ++]

	public const int mod_talisman = 609; // [!code --]
	public const int mod_frustration = 624; // [!code ++]

	public const int negateFear = 423; // [!code --]
	public const int r_life = 640; // [!code ++]

	public const int r_mana = 641;

	public const int r_DV = 650;

	public const int safetyMeasure = 486; // [!code --]
	public const int r_PV = 651; // [!code ++]

	public const int mod_frustration = 624; // [!code --]
	public const int creativeChef = 487; // [!code ++]

	public const int mod_scatter = 607; // [!code --]
	public const int mod_flurry = 621; // [!code ++]

	public const int mod_drill = 606; // [!code --]
	public const int mod_chaser = 620; // [!code ++]

	public const int r_life = 640; // [!code --]
	public const int mod_talisman = 609; // [!code ++]

	public const int mod_ammo_recover = 604; // [!code --]
	public const int mod_cleave = 622; // [!code ++]

	public const int creativeChef = 487; // [!code --]
	public const int mod_scatter = 607; // [!code ++]

	public const int mod_ammo_knockback = 603; // [!code --]
	public const int mod_splash = 608; // [!code ++]

	public const int mod_rapid = 602; // [!code --]
	public const int mod_feint = 623; // [!code ++]

	public const int deathagony = 488; // [!code --]
	public const int mod_precision = 605; // [!code ++]

	public const int music_drunk = 489;

	public const int mod_ammo_recover = 604; // [!code ++]
 // [!code ++]
	public const int mod_ammo_knockback = 603; // [!code ++]
 // [!code ++]
	public const int mod_ammo = 600;

	public const int mod_reload = 601;

	public const int r_PV = 651; // [!code --]
	public const int eco = 652; // [!code ++]

	public const int mod_precision = 605; // [!code --]
	public const int mod_drill = 606; // [!code ++]
 // [!code ++]
	public const int mod_rapid = 602; // [!code ++]

	public static readonly int[] IDS = new int[103] // [!code --]
	public static readonly int[] IDS = new int[104] // [!code ++]
	{
		418, 419, 422, 416, 415, 420, 414, 417, 667, 660, // [!code --]
		665, 664, 663, 662, 661, 412, 656, 666, 411, 383, // [!code --]
		409, 421, 865, 852, 851, 380, 381, 382, 655, 400, // [!code --]
		401, 402, 403, 404, 405, 406, 407, 408, 410, 654, // [!code --]
		850, 652, 446, 447, 450, 460, 461, 462, 463, 464, // [!code --]
		465, 466, 467, 480, 481, 482, 483, 445, 484, 444, // [!code --]
		442, 653, 424, 425, 426, 427, 428, 429, 430, 435, // [!code --]
		436, 437, 438, 439, 440, 441, 443, 485, 468, 608, // [!code --]
		623, 622, 621, 620, 609, 423, 641, 650, 486, 624, // [!code --]
		607, 606, 640, 604, 487, 603, 602, 488, 489, 600, // [!code --]
		601, 651, 605 // [!code --]
		421, 415, 416, 417, 418, 414, 419, 420, 422, 424, // [!code ++]
		666, 665, 664, 663, 662, 661, 412, 660, 667, 411, // [!code ++]
		400, 409, 423, 865, 852, 851, 380, 381, 382, 383, // [!code ++]
		656, 401, 402, 403, 404, 405, 406, 407, 408, 410, // [!code ++]
		655, 850, 653, 447, 450, 460, 461, 462, 463, 464, // [!code ++]
		465, 466, 467, 468, 480, 482, 483, 484, 446, 485, // [!code ++]
		445, 443, 654, 426, 427, 428, 429, 430, 431, 435, // [!code ++]
		436, 437, 438, 439, 440, 441, 442, 444, 486, 481, // [!code ++]
		488, 425, 624, 640, 641, 650, 651, 487, 621, 620, // [!code ++]
		609, 622, 607, 608, 623, 605, 489, 604, 603, 600, // [!code ++]
		601, 652, 606, 602 // [!code ++]
	};
}
```

## FACTION

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FACTION.cs#L4-L67)
```cs:line-numbers=4

public class FACTION
{
	public const int bfLandmark4 = 3783; // [!code --]
	public const int bfLandmark5 = 3784; // [!code ++]

	public const int bfLandmark2 = 3781; // [!code --]
	public const int bfLandmark3 = 3782; // [!code ++]

	public const int fRation = 2207; // [!code --]
	public const int bfLandmark2 = 3781; // [!code ++]

	public const int bfLandmark1 = 3780;

	public const int bfBreed = 3710;

	public const int bfBasin = 3709; // [!code --]
	public const int bfMonster = 3707; // [!code ++]

	public const int bfFreshAir = 3708;

	public const int bfMonster = 3707; // [!code --]
	public const int bfLandmark4 = 3783; // [!code ++]

	public const int bfFish = 3706; // [!code --]
	public const int bfBasin = 3709; // [!code ++]

	public const int bfLandmark3 = 3782; // [!code --]
	public const int fTaxEvasion = 2119; // [!code ++]

	public const int fFood = 2204; // [!code --]
	public const int fAdmin = 2115; // [!code ++]

	public const int fEducation = 2116;

	public const int fAdmin = 2115; // [!code --]
 // [!code --]
	public const int fLoyal = 2117;

	public const int fLuck = 2118;

	public const int fTaxEvasion = 2119; // [!code --]
 // [!code --]
	public const int fHeirloom = 2120;

	public const int fSoil = 2200;

	public const int fElec = 2201;

	public const int fAttraction = 2206; // [!code --]
 // [!code --]
	public const int fPromo = 2202;

	public const int fMoral = 2203; // [!code --]
	public const int fRation = 2207; // [!code ++]

	public const int fSafety = 2205; // [!code --]
	public const int fMoral = 2203; // [!code ++]

	public const int bfLandmark5 = 3784; // [!code --]
	public const int fFood = 2204; // [!code ++]

	public const int fConstruction = 2003; // [!code --]
	public const int fAttraction = 2206; // [!code ++]

	public const int bfCoal = 3800;

	public const int bfIce = 3804; // [!code --]
	public const int fSafety = 2205; // [!code ++]

	public const int bfSilica = 3802; // [!code --]
	public const int fConstruction = 2003; // [!code ++]

	public const int bfMushroom = 3801;

	public const int bfChitin = 3805; // [!code ++]
 // [!code ++]
	public const int bfGum = 3803; // [!code ++]
 // [!code ++]
	public const int bfSilica = 3802; // [!code ++]
 // [!code ++]
	public const int bfPlain = 3600;

	public const int bfForest = 3601;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FACTION.cs#L86-L123)
```cs:line-numbers=86

	public const int bfUndersea = 3606;

	public const int bfCave = 3500; // [!code --]
 // [!code --]
	public const int actBuildInspect = 4006; // [!code --]
	public const int bfFish = 3706; // [!code ++]

	public const int actBuildRecipe = 4005; // [!code --]
	public const int bfIce = 3804; // [!code ++]

	public const int actBuildCollect = 4004; // [!code --]
	public const int bfHunt = 3705; // [!code ++]

	public const int actBuildAnywhere = 4003; // [!code --]
	public const int bfStart = 3900; // [!code ++]

	public const int actBuildTerrain = 4002; // [!code --]
	public const int actBuildCut = 4000; // [!code ++]

	public const int actBuildMine = 4001;

	public const int actBuildCut = 4000; // [!code --]
	public const int actBuildTerrain = 4002; // [!code ++]

	public const int bfStart = 3900; // [!code --]
	public const int bfCave = 3500; // [!code ++]

	public const int bfChitin = 3805; // [!code --]
	public const int actBuildCollect = 4004; // [!code ++]

	public const int bfHunt = 3705; // [!code --]
	public const int actBuildRecipe = 4005; // [!code ++]

	public const int bfGum = 3803; // [!code --]
	public const int actBuildInspect = 4006; // [!code ++]
 // [!code ++]
	public const int actBuildAnywhere = 4003; // [!code ++]

	public static readonly int[] IDS = new int[53]
	{
		3783, 3781, 2207, 3780, 3710, 3709, 3708, 3707, 3706, 3782, // [!code --]
		2204, 2116, 2115, 2117, 2118, 2119, 2120, 2200, 2201, 2206, // [!code --]
		2202, 2203, 2205, 3784, 2003, 3800, 3804, 3802, 3801, 3600, // [!code --]
		3784, 3782, 3781, 3780, 3710, 3707, 3708, 3783, 3709, 2119, // [!code ++]
		2115, 2116, 2117, 2118, 2120, 2200, 2201, 2202, 2207, 2203, // [!code ++]
		2204, 2206, 3800, 2205, 2003, 3801, 3805, 3803, 3802, 3600, // [!code ++]
		3601, 3602, 3603, 3604, 3605, 3700, 3701, 3702, 3703, 3704,
		3606, 3500, 4006, 4005, 4004, 4003, 4002, 4001, 4000, 3900, // [!code --]
		3805, 3705, 3803 // [!code --]
		3606, 3706, 3804, 3705, 3900, 4000, 4001, 4002, 3500, 4004, // [!code ++]
		4005, 4006, 4003 // [!code ++]
	};
}
public class Faction : EClass
```

## FEAT

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FEAT.cs#L3-L30)
```cs:line-numbers=3

public class FEAT
{
	public const int featDEX = 1621; // [!code --]
 // [!code --]
	public const int featEND = 1622; // [!code --]
 // [!code --]
	public const int featPER = 1623; // [!code --]
	public const int featSTR = 1620; // [!code ++]

	public const int featLER = 1624; // [!code --]
	public const int featLuck = 1628; // [!code ++]

	public const int featSPD = 1629; // [!code --]
	public const int featCHA = 1627; // [!code ++]

	public const int featWIL = 1626;

	public const int featCHA = 1627; // [!code --]
	public const int featMAG = 1625; // [!code ++]

	public const int featLuck = 1628; // [!code --]
	public const int featLER = 1624; // [!code ++]

	public const int featSTR = 1620; // [!code --]
	public const int featPER = 1623; // [!code ++]

	public const int featMAG = 1625; // [!code --]
	public const int featEND = 1622; // [!code ++]

	public const int featHardy = 1630;

	public const int featDEX = 1621; // [!code ++]
 // [!code ++]
	public const int featSPD = 1629; // [!code ++]
 // [!code ++]
	public const int featWhiteVixen = 1414;

	public const int featMana = 1611;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FEAT.cs#L113-L119)
```cs:line-numbers=113

	public const int featEarthStrength = 1411;

	public const int featCosmicHorror = 1233; // [!code --]
	public const int featHeavyEater = 1234; // [!code ++]

	public const int featBoost = 1409;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FEAT.cs#L123-L129)
```cs:line-numbers=123

	public const int featBaby = 1232;

	public const int featHeavyEater = 1234; // [!code --]
	public const int featCosmicHorror = 1233; // [!code ++]

	public const int featLightEater = 1235;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FEAT.cs#L141-L152)
```cs:line-numbers=141

	public const int featGeneSlot = 1242;

	public const int featLittleOne = 1229; // [!code ++]
 // [!code ++]
	public const int featEternalYouth = 1243;

	public const int featReboot = 1410;

	public const int featSevenSense = 1245; // [!code --]
 // [!code --]
	public const int featPegasus = 1246;

	public const int featLibra = 1247;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FEAT.cs#L155-L160)
```cs:line-numbers=155

	public const int featBloodBond = 1249;

	public const int featVampire = 1250; // [!code ++]
 // [!code ++]
	public const int featGoodKarma = 1270;

	public const int featBadKarma = 1271;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FEAT.cs#L167-L177)
```cs:line-numbers=167

	public const int featGod_element1 = 1300;

	public const int featLittleOne = 1229; // [!code --]
	public const int featCentaur = 1244; // [!code ++]

	public const int featDemigod = 1228; // [!code --]
	public const int featGod_earth1 = 1305; // [!code ++]

	public const int featServant = 1227; // [!code --]
	public const int featDemigod = 1228; // [!code ++]

	public const int featUnderground = 1226;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FEAT.cs#L199-L205)
```cs:line-numbers=199

	public const int featSnail = 1211;

	public const int featGod_earth1 = 1305; // [!code --]
	public const int featServant = 1227; // [!code ++]

	public const int featFairyResist = 1212;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FEAT.cs#L231-L240)
```cs:line-numbers=231

	public const int featGod_wind1 = 1310;

	public const int featCentaur = 1244; // [!code --]
	public const int featSevenSense = 1245; // [!code ++]

	public const int featGod_healing1 = 1320;

	public const int featPaladin = 1407; // [!code ++]
 // [!code ++]
	public const int featTourist = 1406;

	public const int featPianist = 1405;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FEAT.cs#L247-L255)
```cs:line-numbers=247

	public const int featThief = 1401;

	public const int featWarrior = 1400; // [!code --]
	public const int featPaladin2 = 1408; // [!code ++]

	public const int featGod_strife1 = 1355; // [!code --]
	public const int featWarrior = 1400; // [!code ++]

	public const int featGod_moonshadow1 = 1350;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FEAT.cs#L265-L290)
```cs:line-numbers=265

	public const int featGod_harvest1 = 1325;

	public const int featPaladin = 1407; // [!code --]
 // [!code --]
	public const int featPaladin2 = 1408; // [!code --]
	public const int featGod_strife1 = 1355; // [!code ++]

	public static readonly int[] IDS = new int[133] // [!code --]
	public static readonly int[] IDS = new int[134] // [!code ++]
	{
		1621, 1622, 1623, 1624, 1629, 1626, 1627, 1628, 1620, 1625, // [!code --]
		1630, 1414, 1611, 1610, 1422, 1421, 1420, 1419, 1418, 1417, // [!code --]
		1620, 1628, 1627, 1626, 1625, 1624, 1623, 1622, 1630, 1621, // [!code ++]
		1629, 1414, 1611, 1610, 1422, 1421, 1420, 1419, 1418, 1417, // [!code ++]
		1416, 1415, 1631, 1413, 1612, 1632, 1648, 1634, 1412, 1662,
		1661, 1660, 1659, 1658, 1657, 1656, 1655, 1654, 1653, 1652,
		1651, 1650, 1649, 1647, 1646, 1645, 1644, 1643, 1642, 1641,
		1640, 1636, 1635, 1633, 1411, 1233, 1409, 1230, 1231, 1232, // [!code --]
		1234, 1235, 1236, 1237, 1238, 1239, 1240, 1241, 1242, 1243, // [!code --]
		1410, 1245, 1246, 1247, 1248, 1249, 1270, 1271, 1272, 1273, // [!code --]
		1290, 1300, 1229, 1228, 1227, 1226, 1200, 1201, 1202, 1203, // [!code --]
		1204, 1205, 1206, 1207, 1208, 1209, 1210, 1211, 1305, 1212, // [!code --]
		1214, 1215, 1216, 1217, 1218, 1219, 1220, 1221, 1222, 1223, // [!code --]
		1224, 1225, 1213, 1310, 1244, 1320, 1406, 1405, 1404, 1403, // [!code --]
		1402, 1401, 1400, 1355, 1350, 1315, 1345, 1340, 1335, 1330, // [!code --]
		1325, 1407, 1408 // [!code --]
		1640, 1636, 1635, 1633, 1411, 1234, 1409, 1230, 1231, 1232, // [!code ++]
		1233, 1235, 1236, 1237, 1238, 1239, 1240, 1241, 1242, 1229, // [!code ++]
		1243, 1410, 1246, 1247, 1248, 1249, 1250, 1270, 1271, 1272, // [!code ++]
		1273, 1290, 1300, 1244, 1305, 1228, 1226, 1200, 1201, 1202, // [!code ++]
		1203, 1204, 1205, 1206, 1207, 1208, 1209, 1210, 1211, 1227, // [!code ++]
		1212, 1214, 1215, 1216, 1217, 1218, 1219, 1220, 1221, 1222, // [!code ++]
		1223, 1224, 1225, 1213, 1310, 1245, 1320, 1407, 1406, 1405, // [!code ++]
		1404, 1403, 1402, 1401, 1408, 1400, 1350, 1315, 1345, 1340, // [!code ++]
		1335, 1330, 1325, 1355 // [!code ++]
	};
}
public class Feat : Element
```

[`public List<string> Apply(int a, ElementContainer owner, bool hint = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FEAT.cs#L518-L523)
```cs:line-numbers=518
		ModBase(958, a * 5, hide: false);
		ModBase(956, a * 10, hide: false);
		ModBase(950, a * -5, hide: false);
		ModBase(960, a * -5, hide: false); // [!code ++]
		break;
	case 1290:
		ModBase(418, a * 100, hide: false);
```

[`public List<string> Apply(int a, ElementContainer owner, bool hint = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FEAT.cs#L581-L586)
```cs:line-numbers=581
	case 1216:
		ModBase(6020, a, hide: false);
		break;
	case 1250: // [!code ++]
		ModBase(950, a * -10, hide: false); // [!code ++]
		ModBase(951, a * 5, hide: false); // [!code ++]
		ModBase(961, a * 5, hide: false); // [!code ++]
		ModBase(8793, a, hide: false); // [!code ++]
		ModBase(6607, a, hide: false); // [!code ++]
		break; // [!code ++]
	case 1415:
		ModBase(60, a * 15, hide: false);
		ModBase(79, a * 5, hide: false);
```

## FOOD

[`public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FOOD.cs#L4-L20)
```cs:line-numbers=4

	public const int food_god = 758;

	public const int justcooked = 757; // [!code ++]
 // [!code ++]
	public const int food_CHA = 700;

	public const int food_cat = 701;

	public const int food_love = 703; // [!code --]
	public const int food_poison = 702; // [!code ++]

	public const int food_bug = 704;

	public const int gainWeight = 705;

	public const int food_poison = 702; // [!code --]
	public const int food_love = 703; // [!code ++]

	public const int kirimi = 707;

```

[`public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FOOD.cs#L22-L34)
```cs:line-numbers=22

	public const int food_undead = 709;

	public const int justcooked = 757; // [!code --]
	public const int food_blood = 710; // [!code ++]

	public const int loseWeight = 706;

	public static readonly int[] IDS = new int[13] // [!code --]
	public static readonly int[] IDS = new int[14] // [!code ++]
	{
		764, 758, 700, 701, 703, 704, 705, 702, 707, 708, // [!code --]
		709, 757, 706 // [!code --]
		764, 758, 757, 700, 701, 702, 704, 705, 703, 707, // [!code ++]
		708, 709, 710, 706 // [!code ++]
	};
}
```

## FoodEffect

[`public static void Proc(Chara c, Thing food, bool consume = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FoodEffect.cs#L57-L63)
```cs:line-numbers=57
		if (flag2)
		{
			num5 *= 2f;
			num2 *= 1.5f; // [!code --]
			num2 *= 1.3f; // [!code ++]
		}
		else
		{
```

[`public static void Proc(Chara c, Thing food, bool consume = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FoodEffect.cs#L71-L79)
```cs:line-numbers=71
		num5 = 0f;
		num2 *= 0.5f;
	}
	if (c.HasElement(1250)) // [!code ++]
	{ // [!code ++]
		if (food.HasElement(710)) // [!code ++]
		{ // [!code ++]
			num2 *= 4f; // [!code ++]
		} // [!code ++]
		else // [!code ++]
		{ // [!code ++]
			num3 /= 10; // [!code ++]
		} // [!code ++]
	} // [!code ++]
	if (c.HasElement(1200))
	{
		num2 *= 1f + (float)c.Evalue(1200) + 0.25f; // [!code --]
		num2 *= 1f + (float)c.Evalue(1200) * 0.25f; // [!code ++]
	}
	if (!c.IsPC)
	{
```

[`public static void Proc(Chara c, Thing food, bool consume = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FoodEffect.cs#L218-L224)
```cs:line-numbers=218
				{
					break;
				}
				goto IL_0f19; // [!code --]
				goto IL_0f4b; // [!code ++]
			case "love":
				ActEffect.LoveMiracle(c, EClass.pc, value.Value * 10);
				break;
```

[`public static void Proc(Chara c, Thing food, bool consume = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/FoodEffect.cs#L362-L369)
```cs:line-numbers=362
	{
		food.trait.OnDrink(c);
	}
	goto IL_0f19; // [!code --]
	IL_0f19: // [!code --]
	goto IL_0f4b; // [!code ++]
	IL_0f4b: // [!code ++]
	if (!consume)
	{
		return;
```

## HotItemNoItem

[`public static bool _TrySetAct(ActPlan p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/HotItemNoItem.cs#L58-L64)
```cs:line-numbers=58
					EClass.player.RefreshCurrentHotItem();
					ActionMode.Adv.planRight.Update(ActionMode.Adv.mouseTarget);
					EClass.pc.renderer.Refresh();
					HotItemHeld.disableTool = true; // [!code --]
					if (!(EClass.pc.held.trait is TraitShackle)) // [!code ++]
					{ // [!code ++]
						HotItemHeld.disableTool = true; // [!code ++]
					} // [!code ++]
				}
			}
			return true;
```

## MUTATION

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/MUTATION.cs#L1-L6)
```cs:line-numbers=1
public class MUTATION
{
	public const int mutationRegen = 1516; // [!code --]
	public const int mutationDexN = 1515; // [!code ++]

	public const int mutationSkin = 1510;

```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/MUTATION.cs#L10-L22)
```cs:line-numbers=10

	public const int mutationDex = 1514;

	public const int mutationDexN = 1515; // [!code --]
 // [!code --]
	public const int mutationRegenN = 1517; // [!code --]
	public const int mutationRegen = 1516; // [!code ++]

	public const int mutationEyeN = 1513;

	public const int mutationSpeedN = 1519; // [!code --]
	public const int mutationSpeed = 1518; // [!code ++]

	public const int etherPoisonHand = 1565;

```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/MUTATION.cs#L34-L42)
```cs:line-numbers=34

	public const int etherRain = 1558;

	public const int mutationSpeed = 1518; // [!code --]
	public const int etherHead = 1557; // [!code ++]

	public const int etherViolence = 1556; // [!code --]
	public const int mutationRegenN = 1517; // [!code ++]

	public const int etherNeck = 1555;

```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/MUTATION.cs#L48-L57)
```cs:line-numbers=48

	public const int etherUgly = 1551;

	public const int etherHead = 1557; // [!code --]
	public const int etherViolence = 1556; // [!code ++]

	public const int mutationHairN = 1533;

	public const int mutationSpeedN = 1519; // [!code ++]
 // [!code ++]
	public const int etherGravity = 1550;

	public const int mutationStrN = 1521;
```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/MUTATION.cs#L64-L73)
```cs:line-numbers=64

	public const int mutationBrainN = 1525;

	public const int mutationCold = 1526; // [!code --]
 // [!code --]
	public const int mutationStr = 1520;

	public const int mutationColdN = 1527; // [!code ++]
 // [!code ++]
	public const int mutationLightning = 1528;

	public const int mutationLightningN = 1529;
```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/MUTATION.cs#L78-L91)
```cs:line-numbers=78

	public const int mutationHair = 1532;

	public const int mutationColdN = 1527; // [!code --]
	public const int mutationCold = 1526; // [!code ++]

	public static readonly int[] IDS = new int[40]
	{
		1516, 1510, 1511, 1512, 1514, 1515, 1517, 1513, 1519, 1565, // [!code --]
		1564, 1563, 1562, 1561, 1560, 1559, 1558, 1518, 1556, 1555, // [!code --]
		1554, 1553, 1552, 1551, 1557, 1533, 1550, 1521, 1522, 1523, // [!code --]
		1524, 1525, 1526, 1520, 1528, 1529, 1530, 1531, 1532, 1527 // [!code --]
		1515, 1510, 1511, 1512, 1514, 1516, 1513, 1518, 1565, 1564, // [!code ++]
		1563, 1562, 1561, 1560, 1559, 1558, 1557, 1517, 1555, 1554, // [!code ++]
		1553, 1552, 1551, 1556, 1533, 1519, 1550, 1521, 1522, 1523, // [!code ++]
		1524, 1525, 1520, 1527, 1528, 1529, 1530, 1531, 1532, 1526 // [!code ++]
	};
}
public class Mutation : Feat
```

## POLICY

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/POLICY.cs#L3-L10)
```cs:line-numbers=3

public class POLICY
{
	public const int store_ripoff = 2816; // [!code --]
 // [!code --]
	public const int store_premium = 2817;

	public const int license_food = 2818;
```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/POLICY.cs#L15-L41)
```cs:line-numbers=15

	public const int legendary_heirloom = 2821;

	public const int license_stolen = 2824; // [!code --]
 // [!code --]
	public const int legendary_exhibition = 2823; // [!code --]
	public const int celeb = 2822; // [!code ++]

	public const int milk_fan = 2825;

	public const int license_stolen = 2824; // [!code ++]
 // [!code ++]
	public const int egg_fan = 2826;

	public const int breed_season = 2827;

	public const int license_slaver = 2828;

	public const int platinum_ticket = 2815; // [!code --]
	public const int store_ripoff = 2816; // [!code ++]

	public const int celeb = 2822; // [!code --]
	public const int legendary_exhibition = 2823; // [!code ++]

	public const int mass_exhibition = 2814; // [!code --]
	public const int platinum_ticket = 2815; // [!code ++]

	public const int food_for_people = 2502; // [!code --]
	public const int faith_tax = 2501; // [!code ++]

	public const int bed_quality = 2812; // [!code --]
	public const int suite_room = 2813; // [!code ++]
 // [!code ++]
	public const int stop_growth = 2515; // [!code ++]

	public const int taxfree = 2514;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/POLICY.cs#L49-L58)
```cs:line-numbers=49

	public const int vaccination = 2509;

	public const int stop_growth = 2515; // [!code --]
 // [!code --]
	public const int nocturnal_life = 2508;

	public const int inquisition = 2507; // [!code ++]
 // [!code ++]
	public const int human_right = 2506;

	public const int legal_drug = 2505;
```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/POLICY.cs#L63-L77)
```cs:line-numbers=63

	public const int wealth_tax = 2500;

	public const int suite_room = 2813; // [!code --]
 // [!code --]
	public const int inquisition = 2507; // [!code --]
	public const int mass_exhibition = 2814; // [!code ++]

	public const int speed_growth = 2516;

	public const int faith_tax = 2501; // [!code --]
	public const int energy_conservation = 2700; // [!code ++]

	public const int trash_sort = 2701; // [!code --]
	public const int food_for_people = 2502; // [!code ++]
 // [!code ++]
	public const int trash_no = 2702; // [!code ++]
 // [!code ++]
	public const int bed_quality = 2812; // [!code ++]

	public const int tourist_safety = 2811;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/POLICY.cs#L79-L93)
```cs:line-numbers=79

	public const int home_discount = 2800;

	public const int livestock_priv = 2715; // [!code --]
	public const int trash_sort = 2701; // [!code ++]

	public const int energy_conservation = 2700; // [!code --]
	public const int forcePanty = 2712; // [!code ++]

	public const int incomeTransfer = 2711;

	public const int noMother = 2710; // [!code --]
	public const int livestock_priv = 2715; // [!code ++]

	public const int forcePanty = 2712; // [!code --]
	public const int noAnimal = 2709; // [!code ++]

	public const int noDM = 2708;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/POLICY.cs#L101-L118)
```cs:line-numbers=101

	public const int weed_no = 2703;

	public const int trash_no = 2702; // [!code --]
 // [!code --]
	public const int noAnimal = 2709; // [!code --]
	public const int noMother = 2710; // [!code ++]

	public static readonly int[] IDS = new int[51]
	{
		2816, 2817, 2818, 2819, 2820, 2821, 2824, 2823, 2825, 2826, // [!code --]
		2827, 2828, 2815, 2822, 2814, 2502, 2812, 2514, 2513, 2512, // [!code --]
		2511, 2510, 2509, 2515, 2508, 2506, 2505, 2504, 2503, 2500, // [!code --]
		2813, 2507, 2516, 2501, 2701, 2811, 2810, 2800, 2715, 2700, // [!code --]
		2711, 2710, 2712, 2708, 2707, 2706, 2705, 2704, 2703, 2702, // [!code --]
		2709 // [!code --]
		2817, 2818, 2819, 2820, 2821, 2822, 2825, 2824, 2826, 2827, // [!code ++]
		2828, 2816, 2823, 2815, 2501, 2813, 2515, 2514, 2513, 2512, // [!code ++]
		2511, 2510, 2509, 2508, 2507, 2506, 2505, 2504, 2503, 2500, // [!code ++]
		2814, 2516, 2700, 2502, 2702, 2812, 2811, 2810, 2800, 2701, // [!code ++]
		2712, 2711, 2715, 2709, 2708, 2707, 2706, 2705, 2704, 2703, // [!code ++]
		2710 // [!code ++]
	};
}
public class Policy : EClass
```

## Player

[`public void CreateEquip()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Player.cs#L1658-L1664)
```cs:line-numbers=1658
	c.EQ_ID("shirt").c_IDTState = 0;
	c.AddCard(ThingGen.CreateCurrency(1 + EClass.rnd(5)));
	bool firstSpellbook = true;
	switch (EClass.pc.job.id) // [!code --]
	switch (c.job.id) // [!code ++]
	{
	case "paladin":
		c.AddCard(SetSpellbook(ThingGen.CreateSpellbook(8400), 2));
```

[`public void CreateEquip()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Player.cs#L1676-L1682)
```cs:line-numbers=1676
		c.AddCard(ThingGen.Create("tool_talisman"));
		break;
	}
	switch (EClass.pc.job.id) // [!code --]
	switch (c.job.id) // [!code ++]
	{
	case "wizard":
	case "warmage":
```

[`public void CreateEquip()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Player.cs#L1728-L1733)
```cs:line-numbers=1728
		c.AddCard(ThingGen.Create("bandage").SetNum(6 + EClass.rnd(3)));
		break;
	}
	if (c.race.id == "vampire") // [!code ++]
	{ // [!code ++]
		c.AddCard(ThingGen.CreateRecipe("bloodpack")); // [!code ++]
		if (EClass.debug.enable) // [!code ++]
		{ // [!code ++]
			c.AddCard(ThingGen.Create("mixer")); // [!code ++]
			c.AddCard(ThingGen.Create("bloodpack").SetNum(3)); // [!code ++]
		} // [!code ++]
	} // [!code ++]
	Thing SetSpellbook(Thing t, int charge)
	{
		if (firstSpellbook)
```

## Point

[`public bool HasFence`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Point.cs#L178-L183)
```cs:line-numbers=178
		}
	}

	public bool IsSunLit // [!code ++]
	{ // [!code ++]
		get // [!code ++]
		{ // [!code ++]
			if (EClass._map.IsIndoor || EClass.world.date.IsNight || cell.HasRoof) // [!code ++]
			{ // [!code ++]
				return Map.sunMap.Contains(index); // [!code ++]
			} // [!code ++]
			return true; // [!code ++]
		} // [!code ++]
	} // [!code ++]
 // [!code ++]
	public bool HasNonWallBlock
	{
		get
```

## Recipe

[`public bool IsValidIngredient(Thing t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Recipe.cs#L138-L144)
```cs:line-numbers=138
		{
			return true;
		}
		Debug.Log(t.Name + "/" + tag + "/" + t.material.tag); // [!code --]
		if (!tag.IsEmpty() && !t.material.tag.Contains(tag))
		{
			return false;
```

## Religion

[`public bool TryGetGift()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Religion.cs#L254-L263)
```cs:line-numbers=254

	public bool IsValidArtifact(string id)
	{
		if (giftRank < 2) // [!code --]
		{ // [!code --]
			return false; // [!code --]
		} // [!code --]
		return id switch
		{
			"gun_mani" => this == EClass.game.religions.Machine, 
```

[`public static Thing Reforge(string id, Point pos = null, bool first = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Religion.cs#L370-L379)
```cs:line-numbers=370
			break;
		}
	}
	if (EClass.pc.IsEyth && EClass.pc.HasElement(1228)) // [!code --]
	{ // [!code --]
		thing.c_idDeity = EClass.game.religions.Eyth.id; // [!code --]
	} // [!code --]
	EClass._zone.AddCard(thing, pos);
	pos.PlayEffect("aura_heaven");
	if (first)
```

[`public void JoinFaith(Chara c, ConvertType type = ConvertType.Default)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Religion.cs#L447-L452)
```cs:line-numbers=447
				EClass.screen.RefreshWeather();
			}
		}
		EClass.pc.PurgeEythArtifact(); // [!code ++]
	}

	public void LeaveFaith(Chara c, Religion newFaith, ConvertType type)
```

## SKILL

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SKILL.cs#L56-L70)
```cs:line-numbers=56

	public const int music = 241;

	public const int weaponPolearm = 106; // [!code --]
 // [!code --]
	public const int climbing = 242;

	public const int weaponPolearm = 106; // [!code ++]
 // [!code ++]
	public const int evasionPlus = 151;

	public const int weaponGun = 105;

	public const int PER = 73; // [!code --]
	public const int DEX = 72; // [!code ++]

	public const int weaponStaff = 103;

```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SKILL.cs#L82-L88)
```cs:line-numbers=82

	public const int mana = 61;

	public const int DV = 64; // [!code --]
	public const int vigor = 62; // [!code ++]

	public const int PV = 65;

```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SKILL.cs#L98-L104)
```cs:line-numbers=98

	public const int weaponBow = 104;

	public const int DEX = 72; // [!code --]
	public const int fishing = 245; // [!code ++]

	public const int LER = 74;

```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SKILL.cs#L128-L138)
```cs:line-numbers=128

	public const int weaponAxe = 102;

	public const int fishing = 245; // [!code --]
	public const int PER = 73; // [!code ++]

	public const int gathering = 250;

	public const int vigor = 62; // [!code --]
	public const int DV = 64; // [!code ++]

	public const int blacksmith = 256;

```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SKILL.cs#L178-L187)
```cs:line-numbers=178

	public const int resHoly = 960;

	public const int resMagic = 961; // [!code --]
 // [!code --]
	public const int resCurse = 972;

	public const int resMagic = 961; // [!code ++]
 // [!code ++]
	public const int resEther = 962;

	public const int resAcid = 963;
```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SKILL.cs#L270-L283)
```cs:line-numbers=270
{
	134, 133, 132, 131, 130, 123, 108, 120, 111, 110,
	109, 135, 107, 122, 150, 226, 152, 200, 207, 210,
	220, 225, 227, 230, 235, 237, 240, 241, 106, 242, // [!code --]
	151, 105, 73, 103, 50, 51, 55, 56, 57, 60, // [!code --]
	61, 64, 65, 66, 67, 68, 70, 71, 104, 72, // [!code --]
	220, 225, 227, 230, 235, 237, 240, 241, 242, 106, // [!code ++]
	151, 105, 72, 103, 50, 51, 55, 56, 57, 60, // [!code ++]
	61, 62, 65, 66, 67, 68, 70, 71, 104, 245, // [!code ++]
	74, 75, 76, 77, 78, 79, 80, 90, 91, 92,
	93, 100, 101, 102, 245, 250, 62, 256, 916, 917, // [!code --]
	93, 100, 101, 102, 73, 250, 64, 256, 916, 917, // [!code ++]
	918, 920, 921, 922, 923, 924, 925, 926, 950, 951,
	952, 953, 915, 954, 956, 957, 958, 959, 960, 961, // [!code --]
	972, 962, 963, 964, 965, 970, 971, 255, 955, 914, // [!code --]
	952, 953, 915, 954, 956, 957, 958, 959, 960, 972, // [!code ++]
	961, 962, 963, 964, 965, 970, 971, 255, 955, 914, // [!code ++]
	919, 912, 257, 258, 259, 260, 261, 280, 281, 285,
	286, 287, 913, 289, 290, 291, 292, 288, 300, 911,
	910, 293, 312, 311, 310, 313, 306, 305, 304, 303,
```

## SLOT

[`public class SLOT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SLOT.cs#L28-L40)
```cs:line-numbers=28

	public const int range = 41;

	public const int ammo = 42; // [!code --]
 // [!code --]
	public const int token = 43;

	public const int ammo = 42; // [!code ++]
 // [!code ++]
	public static readonly int[] IDS = new int[16]
	{
		44, 32, 39, 45, 34, 38, 37, 35, 40, 33,
		31, 30, 36, 41, 42, 43 // [!code --]
		31, 30, 36, 41, 43, 42 // [!code ++]
	};
}
```

## SPELL

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SPELL.cs#L1-L72)
```cs:line-numbers=1
public class SPELL
{
	public const int puddle_Holy = 50909; // [!code --]
 // [!code --]
	public const int bit_Sound = 51107; // [!code --]
 // [!code --]
	public const int flare_Sound = 51207; // [!code --]
 // [!code --]
	public const int ball_Nerve = 50108; // [!code --]
 // [!code --]
	public const int sword_Mind = 51004; // [!code --]
	public const int sword_Nerve = 51008; // [!code ++]

	public const int sword_Void = 51016; // [!code --]
	public const int puddle_Nerve = 50908; // [!code ++]

	public const int bolt_Nerve = 50308; // [!code --]
	public const int weapon_Nerve = 50808; // [!code ++]

	public const int hand_Nerve = 50408; // [!code --]
	public const int miasma_Nerve = 50708; // [!code ++]

	public const int puddle_Mind = 50904; // [!code --]
	public const int funnel_Nerve = 50608; // [!code ++]

	public const int arrow_Nerve = 50508;

	public const int funnel_Nerve = 50608; // [!code --]
 // [!code --]
	public const int miasma_Nerve = 50708; // [!code --]
	public const int bit_Nerve = 51108; // [!code ++]

	public const int weapon_Nerve = 50808; // [!code --]
	public const int hand_Nerve = 50408; // [!code ++]

	public const int puddle_Nerve = 50908; // [!code --]
	public const int sword_Void = 51016; // [!code ++]

	public const int flare_Holy = 51209; // [!code --]
	public const int bolt_Nerve = 50308; // [!code ++]

	public const int sword_Nerve = 51008; // [!code --]
	public const int flare_Mind = 51204; // [!code ++]

	public const int sword_Sound = 51007; // [!code --]
	public const int bit_Mind = 51104; // [!code ++]

	public const int flare_Nerve = 51208;

	public const int ball_Holy = 50109;

	public const int weapon_Mind = 50804; // [!code --]
	public const int sword_Mind = 51004; // [!code ++]

	public const int bolt_Holy = 50309;

	public const int miasma_Mind = 50704; // [!code --]
 // [!code --]
	public const int hand_Holy = 50409;

	public const int bit_Holy = 51109; // [!code --]
	public const int puddle_Mind = 50904; // [!code ++]

	public const int arrow_Holy = 50509;

	public const int weapon_Mind = 50804; // [!code ++]
 // [!code ++]
	public const int funnel_Holy = 50609;

	public const int miasma_Holy = 50709;

	public const int weapon_Holy = 50809;

	public const int puddle_Holy = 50909; // [!code ++]
 // [!code ++]
	public const int sword_Holy = 51009;

	public const int bit_Nerve = 51108; // [!code --]
	public const int bit_Holy = 51109; // [!code ++]

	public const int puddle_Sound = 50907; // [!code --]
	public const int flare_Holy = 51209; // [!code ++]

	public const int bit_Mind = 51104; // [!code --]
	public const int ball_Nerve = 50108; // [!code ++]

	public const int miasma_Poison = 50705; // [!code --]
	public const int flare_Sound = 51207; // [!code ++]

	public const int weapon_Poison = 50805; // [!code --]
	public const int sword_Sound = 51007; // [!code ++]
 // [!code ++]
	public const int miasma_Poison = 50705; // [!code ++]

	public const int puddle_Poison = 50905;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SPELL.cs#L74-L95)
```cs:line-numbers=74

	public const int bit_Poison = 51105;

	public const int arrow_Poison = 50505; // [!code --]
 // [!code --]
	public const int flare_Poison = 51205;

	public const int ball_Nether = 50106;

	public const int hand_Poison = 50405; // [!code --]
	public const int funnel_Poison = 50605; // [!code ++]

	public const int bolt_Nether = 50306;

	public const int hand_Nether = 50406;

	public const int bolt_Poison = 50305; // [!code --]
 // [!code --]
	public const int arrow_Nether = 50506;

	public const int arrow_Poison = 50505; // [!code ++]
 // [!code ++]
	public const int funnel_Nether = 50606;

	public const int miasma_Nether = 50706;
```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SPELL.cs#L100-L132)
```cs:line-numbers=100

	public const int sword_Nether = 51006;

	public const int hand_Poison = 50405; // [!code ++]
 // [!code ++]
	public const int bit_Nether = 51106;

	public const int flare_Nether = 51206;

	public const int ball_Sound = 50107;

	public const int ball_Chaos = 50110; // [!code --]
	public const int bolt_Poison = 50305; // [!code ++]

	public const int bolt_Sound = 50307;

	public const int ball_Poison = 50105; // [!code --]
 // [!code --]
	public const int hand_Sound = 50407;

	public const int ball_Chaos = 50110; // [!code ++]
 // [!code ++]
	public const int arrow_Sound = 50507;

	public const int funnel_Sound = 50607;

	public const int miasma_Sound = 50707;

	public const int flare_Mind = 51204; // [!code --]
 // [!code --]
	public const int weapon_Sound = 50807;

	public const int funnel_Poison = 50605; // [!code --]
	public const int puddle_Sound = 50907; // [!code ++]

	public const int ball_Acid = 50113; // [!code --]
	public const int ball_Poison = 50105; // [!code ++]
 // [!code ++]
	public const int bit_Sound = 51107; // [!code ++]
 // [!code ++]
	public const int weapon_Poison = 50805; // [!code ++]
 // [!code ++]
	public const int flare_Ether = 51212; // [!code ++]

	public const int hand_Chaos = 50410;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SPELL.cs#L166-L172)
```cs:line-numbers=166

	public const int funnel_Impact = 50615;

	public const int funnel_Mind = 50604; // [!code --]
	public const int miasma_Mind = 50704; // [!code ++]

	public const int puddle_Void = 50916;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SPELL.cs#L250-L256)
```cs:line-numbers=250

	public const int bolt_Acid = 50313;

	public const int flare_Ether = 51212; // [!code --]
	public const int ball_Acid = 50113; // [!code ++]

	public const int bit_Ether = 51112;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SPELL.cs#L274-L284)
```cs:line-numbers=274

	public const int bit_Magic = 51111;

	public const int arrow_Mind = 50504; // [!code --]
	public const int funnel_Mind = 50604; // [!code ++]

	public const int SpIncognito = 8780;

	public const int bolt_Mind = 50304; // [!code --]
	public const int hand_Mind = 50404; // [!code ++]

	public const int SpWisdom = 8503;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SPELL.cs#L426-L436)
```cs:line-numbers=426

	public const int SpIdentify = 8230;

	public const int hand_Mind = 50404; // [!code --]
	public const int arrow_Mind = 50504; // [!code ++]

	public const int SpTransmuteBat = 8793; // [!code --]
	public const int SpDarkness = 8800; // [!code ++]

	public const int SpWeb = 8801; // [!code --]
	public const int SpSummon = 9000; // [!code ++]
 // [!code ++]
	public const int funnel_Lightning = 50602; // [!code ++]

	public const int arrow_Lightning = 50502;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SPELL.cs#L460-L474)
```cs:line-numbers=460

	public const int bolt_Cold = 50301;

	public const int ball_Cold = 50101; // [!code --]
	public const int miasma_Lightning = 50702; // [!code ++]

	public const int funnel_Lightning = 50602; // [!code --]
	public const int ball_Cold = 50101; // [!code ++]

	public const int flare_Fire = 51200; // [!code --]
	public const int weapon_Lightning = 50802; // [!code ++]

	public const int miasma_Lightning = 50702; // [!code --]
	public const int sword_Lightning = 51002; // [!code ++]

	public const int puddle_Lightning = 50902; // [!code --]
	public const int bolt_Mind = 50304; // [!code ++]

	public const int ball_Mind = 50104;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SPELL.cs#L498-L512)
```cs:line-numbers=498

	public const int bit_Lightning = 51102;

	public const int sword_Lightning = 51002; // [!code --]
	public const int puddle_Lightning = 50902; // [!code ++]

	public const int weapon_Lightning = 50802; // [!code --]
	public const int SpWeb = 8801; // [!code ++]

	public const int SpDarkness = 8800; // [!code --]
	public const int flare_Fire = 51200; // [!code ++]

	public const int bit_Fire = 51100; // [!code --]
	public const int sword_Fire = 51000; // [!code ++]

	public const int puddle_Fire = 50900; // [!code --]
	public const int SpSummonDragon = 9054; // [!code ++]

	public const int SpSummonMachine = 9053;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SPELL.cs#L536-L550)
```cs:line-numbers=536

	public const int SpSummonUndeadSister = 9001;

	public const int SpSummon = 9000; // [!code --]
	public const int SpMeteor = 9150; // [!code ++]

	public const int SpSummonDragon = 9054; // [!code --]
	public const int bit_Fire = 51100; // [!code ++]

	public const int sword_Fire = 51000; // [!code --]
	public const int SpEarthquake = 9151; // [!code ++]

	public const int SpMeteor = 9150; // [!code --]
	public const int SpMoonArrow = 9156; // [!code ++]

	public const int SpMoonSpear = 9155; // [!code --]
	public const int puddle_Fire = 50900; // [!code ++]

	public const int weapon_Fire = 50800;

```

[`public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SPELL.cs#L574-L616)
```cs:line-numbers=574

	public const int SpExterminate = 9160;

	public const int SpMoonArrow = 9156; // [!code --]
 // [!code --]
	public const int SpEarthquake = 9151; // [!code --]
	public const int SpMoonSpear = 9155; // [!code ++]

	public const int flare_Void = 51216;

	public static readonly int[] IDS = new int[290] // [!code --]
	public static readonly int[] IDS = new int[289] // [!code ++]
	{
		50909, 51107, 51207, 50108, 51004, 51016, 50308, 50408, 50904, 50508, // [!code --]
		50608, 50708, 50808, 50908, 51209, 51008, 51007, 51208, 50109, 50804, // [!code --]
		50309, 50704, 50409, 51109, 50509, 50609, 50709, 50809, 51009, 51108, // [!code --]
		50907, 51104, 50705, 50805, 50905, 51005, 51105, 50505, 51205, 50106, // [!code --]
		50405, 50306, 50406, 50305, 50506, 50606, 50706, 50806, 50906, 51006, // [!code --]
		51106, 51206, 50107, 50110, 50307, 50105, 50407, 50507, 50607, 50707, // [!code --]
		51204, 50807, 50605, 50113, 50410, 50115, 51214, 51114, 51014, 50914, // [!code --]
		50814, 50315, 50714, 50514, 50414, 50314, 50114, 51213, 51113, 50614, // [!code --]
		50415, 50515, 50615, 50604, 50916, 50816, 50716, 50616, 50516, 50416, // [!code --]
		50316, 50116, 51215, 51115, 51015, 50915, 50815, 50715, 51013, 50913, // [!code --]
		50813, 50713, 50811, 50711, 50611, 50511, 50411, 50311, 50111, 51210, // [!code --]
		51110, 51010, 50910, 50810, 50710, 50610, 50510, 50911, 50310, 51011, // [!code --]
		51211, 50613, 50513, 50413, 50313, 51212, 51112, 51012, 50912, 50812, // [!code --]
		50712, 50612, 50512, 50412, 50312, 50112, 51111, 50504, 8780, 50304, // [!code --]
		8503, 8502, 8501, 8500, 8491, 8490, 8480, 8471, 8470, 8450, // [!code --]
		8430, 8406, 8405, 8404, 8403, 8504, 8402, 8506, 8510, 8791, // [!code --]
		8790, 8776, 8775, 8770, 8710, 8708, 8707, 8706, 8705, 8704, // [!code --]
		8702, 8700, 8555, 8550, 8507, 8792, 8401, 8390, 8202, 8201, // [!code --]
		8200, 7800, 7010, 7009, 7008, 7007, 7006, 7005, 7004, 7003, // [!code --]
		7002, 7001, 51116, 8220, 8400, 8221, 8232, 8380, 8300, 8288, // [!code --]
		8286, 8285, 8284, 8281, 8280, 8260, 8256, 8255, 8251, 8250, // [!code --]
		8241, 8240, 8230, 50404, 8793, 8801, 50502, 50402, 50302, 50102, // [!code --]
		51008, 50908, 50808, 50708, 50608, 50508, 51108, 50408, 51016, 50308, // [!code ++]
		51204, 51104, 51208, 50109, 51004, 50309, 50409, 50904, 50509, 50804, // [!code ++]
		50609, 50709, 50809, 50909, 51009, 51109, 51209, 50108, 51207, 51007, // [!code ++]
		50705, 50905, 51005, 51105, 51205, 50106, 50605, 50306, 50406, 50506, // [!code ++]
		50505, 50606, 50706, 50806, 50906, 51006, 50405, 51106, 51206, 50107, // [!code ++]
		50305, 50307, 50407, 50110, 50507, 50607, 50707, 50807, 50907, 50105, // [!code ++]
		51107, 50805, 51212, 50410, 50115, 51214, 51114, 51014, 50914, 50814, // [!code ++]
		50315, 50714, 50514, 50414, 50314, 50114, 51213, 51113, 50614, 50415, // [!code ++]
		50515, 50615, 50704, 50916, 50816, 50716, 50616, 50516, 50416, 50316, // [!code ++]
		50116, 51215, 51115, 51015, 50915, 50815, 50715, 51013, 50913, 50813, // [!code ++]
		50713, 50811, 50711, 50611, 50511, 50411, 50311, 50111, 51210, 51110, // [!code ++]
		51010, 50910, 50810, 50710, 50610, 50510, 50911, 50310, 51011, 51211, // [!code ++]
		50613, 50513, 50413, 50313, 50113, 51112, 51012, 50912, 50812, 50712, // [!code ++]
		50612, 50512, 50412, 50312, 50112, 51111, 50604, 8780, 50404, 8503, // [!code ++]
		8502, 8501, 8500, 8491, 8490, 8480, 8471, 8470, 8450, 8430, // [!code ++]
		8406, 8405, 8404, 8403, 8504, 8402, 8506, 8510, 8791, 8790, // [!code ++]
		8776, 8775, 8770, 8710, 8708, 8707, 8706, 8705, 8704, 8702, // [!code ++]
		8700, 8555, 8550, 8507, 8792, 8401, 8390, 8202, 8201, 8200, // [!code ++]
		7800, 7010, 7009, 7008, 7007, 7006, 7005, 7004, 7003, 7002, // [!code ++]
		7001, 51116, 8220, 8400, 8221, 8232, 8380, 8300, 8288, 8286, // [!code ++]
		8285, 8284, 8281, 8280, 8260, 8256, 8255, 8251, 8250, 8241, // [!code ++]
		8240, 8230, 50504, 8800, 9000, 50602, 50502, 50402, 50302, 50102, // [!code ++]
		51201, 51101, 51001, 50901, 50801, 50701, 50601, 50501, 50401, 50301,
		50101, 50602, 51200, 50702, 50902, 50104, 51203, 51103, 51003, 50903, // [!code --]
		50803, 50703, 50603, 50503, 50403, 50303, 50103, 51202, 51102, 51002, // [!code --]
		50802, 8800, 51100, 50900, 9053, 9052, 9051, 9050, 9010, 9009, // [!code --]
		9008, 9007, 9006, 9005, 9004, 9003, 9002, 9001, 9000, 9054, // [!code --]
		51000, 9150, 9155, 50800, 50700, 50600, 50500, 50400, 50300, 50100, // [!code --]
		9503, 9502, 9501, 9500, 9210, 9200, 9160, 9156, 9151, 51216 // [!code --]
		50702, 50101, 50802, 51002, 50304, 50104, 51203, 51103, 51003, 50903, // [!code ++]
		50803, 50703, 50603, 50503, 50403, 50303, 50103, 51202, 51102, 50902, // [!code ++]
		8801, 51200, 51000, 9054, 9053, 9052, 9051, 9050, 9010, 9009, // [!code ++]
		9008, 9007, 9006, 9005, 9004, 9003, 9002, 9001, 9150, 51100, // [!code ++]
		9151, 9156, 50900, 50800, 50700, 50600, 50500, 50400, 50300, 50100, // [!code ++]
		9503, 9502, 9501, 9500, 9210, 9200, 9160, 9155, 51216 // [!code ++]
	};
}
public class Spell : Ability
```

## SerializedCards

[`public class Data : EClass`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SerializedCards.cs#L11-L17)
```cs:line-numbers=11
		public int[] ints = new int[30];

		[JsonProperty]
		public string[] strs = new string[10]; // [!code --]
		public string[] strs = new string[20]; // [!code ++]

		[JsonProperty]
		public Dictionary<int, object> obj;
```

[`public int encLv`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SerializedCards.cs#L273-L278)
```cs:line-numbers=273
			}
		}

		public int idtState // [!code ++]
		{ // [!code ++]
			get // [!code ++]
			{ // [!code ++]
				return ints[23]; // [!code ++]
			} // [!code ++]
			set // [!code ++]
			{ // [!code ++]
				ints[23] = value; // [!code ++]
			} // [!code ++]
		} // [!code ++]
 // [!code ++]
		public string id
		{
			get
```

[`public string cNote`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SerializedCards.cs#L393-L398)
```cs:line-numbers=393
			}
		}

		public string idRefName // [!code ++]
		{ // [!code ++]
			get // [!code ++]
			{ // [!code ++]
				return strs[10]; // [!code ++]
			} // [!code ++]
			set // [!code ++]
			{ // [!code ++]
				strs[10] = value; // [!code ++]
			} // [!code ++]
		} // [!code ++]
 // [!code ++]
		public string idTeleport // [!code ++]
		{ // [!code ++]
			get // [!code ++]
			{ // [!code ++]
				return strs[11]; // [!code ++]
			} // [!code ++]
			set // [!code ++]
			{ // [!code ++]
				strs[11] = value; // [!code ++]
			} // [!code ++]
		} // [!code ++]
 // [!code ++]
		public bool isDead
		{
			get
```

[`public void Add(Card c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SerializedCards.cs#L456-L462)
```cs:line-numbers=456
		isEmpty = (c.things.Count == 0 && c.c_lockLv == 0),
		encLv = c.encLV,
		cText = c.c_refText,
		cNote = c.c_note // [!code --]
		cNote = c.c_note, // [!code ++]
		idtState = c.c_IDTState, // [!code ++]
		idRefName = c.c_idRefName, // [!code ++]
		idTeleport = c.GetStr(31) // [!code ++]
	};
	if (c.c_idBacker != 0)
	{
```

[`public void Restore(Map map, Map orgMap, bool addToZone, PartialMap partial = nu`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SerializedCards.cs#L807-L812)
```cs:line-numbers=807
			{
				card2.SetEncLv(card4.encLv);
			}
			if (card4.strs.Length > 10) // [!code ++]
			{ // [!code ++]
				if (!card4.idRefName.IsEmpty()) // [!code ++]
				{ // [!code ++]
					card2.c_idRefName = card4.idRefName; // [!code ++]
				} // [!code ++]
				if (!card4.idTeleport.IsEmpty()) // [!code ++]
				{ // [!code ++]
					card2.SetStr(31, card4.idTeleport); // [!code ++]
				} // [!code ++]
			} // [!code ++]
			card2.c_IDTState = card4.idtState; // [!code ++]
		}
		if (card2.isChara)
		{
```

## SourceThing

[`public class Row : CardRow`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SourceThing.cs#L52-L57)
```cs:line-numbers=52

		public bool ignoreAltFix;

		public bool animeNoSync; // [!code ++]
 // [!code ++]
		[NonSerialized]
		public string name_L;

```

[`public override void SetTiles()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/SourceThing.cs#L102-L107)
```cs:line-numbers=102
					_altTiles[i] = altTiles[i] / 100 * (int)renderData.pass.pmesh.tiling.x + altTiles[i] % 100 + num;
				}
			}
			animeNoSync = tag.Contains("animeNoSync"); // [!code ++]
		}

		public override string GetName(SourceMaterial.Row mat, int sum)
```

## Thing

[`public override void SetRenderParam(RenderParam p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Thing.cs#L1582-L1587)
```cs:line-numbers=1582
		}
		break;
	default:
	{ // [!code ++]
		if (source._altTiles.Length != 0 && trait.UseAltTiles)
		{
			p.tile = source._altTiles[base.dir % source._altTiles.Length] * ((!flipX) ? 1 : (-1));
```

[`public override void SetRenderParam(RenderParam p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Thing.cs#L1590-L1602)
```cs:line-numbers=1590
		{
			p.tile = sourceCard._tiles[base.dir % sourceCard._tiles.Length] * ((!flipX) ? 1 : (-1));
		}
		float time = Time.realtimeSinceStartup; // [!code ++]
		if (source.animeNoSync) // [!code ++]
		{ // [!code ++]
			Rand.UseSeed(base.uid, delegate // [!code ++]
			{ // [!code ++]
				time += EClass.rnd(1000); // [!code ++]
			}); // [!code ++]
		} // [!code ++]
		if (source.anime.Length == 0 || !trait.IsAnimeOn)
		{
			break;
		}
		if (source.anime.Length > 2)
		{
			float num = Time.realtimeSinceStartup * 1000f / (float)source.anime[1] % (float)source.anime[2]; // [!code --]
			float num = time * 1000f / (float)source.anime[1] % (float)source.anime[2]; // [!code ++]
			if ((int)num == source.anime[0] - 1 && source.anime.Length > 3)
			{
				PlaySound("anime_sound" + source.anime[3]);
```

[`public override void SetRenderParam(RenderParam p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/Thing.cs#L1608-L1618)
```cs:line-numbers=1608
		}
		else
		{
			float num2 = Time.realtimeSinceStartup * 1000f / (float)source.anime[1] % (float)source.anime[0]; // [!code --]
			float num2 = time * 1000f / (float)source.anime[1] % (float)source.anime[0]; // [!code ++]
			p.tile += num2 * (float)((!(p.tile < 0f)) ? 1 : (-1));
		}
		break;
	}
	} // [!code ++]
	if (trait.IdSkin != 0 && sourceCard.skins.Length != 0)
	{
		int num6 = sourceCard.skins.TryGet(trait.IdSkin - 1);
```

## TraitAltar

[`public class TraitAltar : Trait`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/TraitAltar.cs#L18-L23)
```cs:line-numbers=18

	public bool IsEyth => idDeity == "eyth";

	public override void OnSetOwner() // [!code ++]
	{ // [!code ++]
		if (idDeity == "void") // [!code ++]
		{ // [!code ++]
			owner.c_idDeity = "eyth"; // [!code ++]
		} // [!code ++]
	} // [!code ++]
 // [!code ++]
	public override void OnCreate(int lv)
	{
		SetDeity(GetParam(1) ?? EClass.game.religions.GetRandomReligion().id);
```

[`public override void TrySetAct(ActPlan p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/TraitAltar.cs#L75-L83)
```cs:line-numbers=75

	public override bool CanOffer(Card c)
	{
		if (c != null && c.HasTag(CTAG.godArtifact) && (c.c_idDeity == Deity.id || (EClass.pc.IsEyth && EClass.pc.HasElement(1228) && Deity == EClass.game.religions.Eyth))) // [!code --]
		if (c != null && c.HasTag(CTAG.godArtifact)) // [!code ++]
		{
			return true; // [!code --]
			if (EClass.pc.IsEyth && EClass.pc.HasElement(1228)) // [!code ++]
			{ // [!code ++]
				if (IsEyth || Deity.IsValidArtifact(c.id)) // [!code ++]
				{ // [!code ++]
					return true; // [!code ++]
				} // [!code ++]
			} // [!code ++]
			else if (c.c_idDeity == Deity.id) // [!code ++]
			{ // [!code ++]
				return true; // [!code ++]
			} // [!code ++]
		}
		if (base.CanOffer(c) && (EClass.pc.faith.GetOfferingValue(c as Thing) > 0 || c.id == "water") && !c.isCopy)
		{
```

[`public void OnOffer(Chara c, Thing t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/TraitAltar.cs#L136-L142)
```cs:line-numbers=136
	{
		Msg.Say("nothingHappens");
	}
	else if (IsEyth) // [!code --]
	else if (IsEyth && !EClass.pc.HasElement(1228)) // [!code ++]
	{
		if (EClass.pc.IsEyth)
		{
```

[`public void OnOffer(Chara c, Thing t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/TraitAltar.cs#L156-L161)
```cs:line-numbers=156
			_ = t.encLV;
			t.Destroy();
			Thing thing = Religion.Reforge(t.id);
			if (EClass.pc.IsEyth && EClass.pc.HasElement(1228) && IsEyth) // [!code ++]
			{ // [!code ++]
				thing.c_idDeity = EClass.game.religions.Eyth.id; // [!code ++]
			} // [!code ++]
			thing.SetEncLv(t.encLV);
			thing.SetBlessedState(t.blessedState);
			if (t.IsIdentified)
```

[`public void OnOffer(Chara c, Thing t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/TraitAltar.cs#L169-L175)
```cs:line-numbers=169
			Msg.Say("nothingHappens");
			return;
		}
		if (Deity != EClass.pc.faith) // [!code --]
		if (Deity.id != EClass.pc.faith.id) // [!code ++]
		{
			bool flag = EClass.rnd(EClass.pc.faith.GetOfferingValue(t, t.Num)) > EClass.rnd(200);
			if (GetParam(1) != null || EClass.pc.IsEyth)
```

## TraitMapBoard

[`public override void TrySetAct(ActPlan p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/TraitMapBoard.cs#L15-L22)
```cs:line-numbers=15
	}
	p.TrySetAct("actChangeHomeIcon", delegate
	{
		UIContextMenu uIContextMenu4 = EClass.ui.CreateContextMenuInteraction(); // [!code --]
		GridLayoutGroup parent = uIContextMenu4.AddGridLayout(); // [!code --]
		UIContextMenu uIContextMenu5 = EClass.ui.CreateContextMenuInteraction(); // [!code ++]
		GridLayoutGroup parent = uIContextMenu5.AddGridLayout(); // [!code ++]
		HashSet<int> hashSet = new HashSet<int>();
		foreach (Spatial value in EClass.game.spatials.map.Values)
		{
```

[`public override void TrySetAct(ActPlan p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/TraitMapBoard.cs#L39-L67)
```cs:line-numbers=39
				EClass.scene.elomap.SetZone(EClass._zone.x, EClass._zone.y, EClass._zone, updateMesh: true);
			});
		}
		uIContextMenu4.Show(); // [!code --]
		uIContextMenu5.Show(); // [!code ++]
		return false;
	}, owner);
	p.TrySetAct("actChangeBlockHeight", delegate
	{
		UIContextMenu uIContextMenu3 = EClass.ui.CreateContextMenuInteraction(); // [!code --]
		uIContextMenu3.AddSlider("adjustment", (float a) => a.ToString() ?? "", EClass._map.config.blockHeight * 10f, delegate(float b) // [!code --]
		UIContextMenu uIContextMenu4 = EClass.ui.CreateContextMenuInteraction(); // [!code ++]
		uIContextMenu4.AddSlider("adjustment", (float a) => a.ToString() ?? "", EClass._map.config.blockHeight * 10f, delegate(float b) // [!code ++]
		{
			EClass._map.config.blockHeight = b * 0.1f;
		}, 0f, 40f, isInt: true, hideOther: false);
		uIContextMenu3.Show(); // [!code --]
		uIContextMenu4.Show(); // [!code ++]
		return false;
	}, owner);
	if (EClass._zone.IsSkyLevel)
	{
		p.TrySetAct("actChangeSkyBlockHeight", delegate
		{
			UIContextMenu uIContextMenu2 = EClass.ui.CreateContextMenuInteraction(); // [!code --]
			uIContextMenu2.AddSlider("adjustment", (float a) => a.ToString() ?? "", EClass._map.config.skyBlockHeight, delegate(float b) // [!code --]
			UIContextMenu uIContextMenu3 = EClass.ui.CreateContextMenuInteraction(); // [!code ++]
			uIContextMenu3.AddSlider("adjustment", (float a) => a.ToString() ?? "", EClass._map.config.skyBlockHeight, delegate(float b) // [!code ++]
			{
				EClass._map.config.skyBlockHeight = (int)b;
			}, 1f, 20f, isInt: true, hideOther: false);
			uIContextMenu2.Show(); // [!code --]
			uIContextMenu3.Show(); // [!code ++]
			return false;
		}, owner);
	}
```

[`public override void TrySetAct(ActPlan p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/TraitMapBoard.cs#L82-L93)
```cs:line-numbers=82
	}, owner);
	p.TrySetAct("actChangeShadowStrength", delegate
	{
		UIContextMenu uIContextMenu = EClass.ui.CreateContextMenuInteraction(); // [!code --]
		uIContextMenu.AddSlider("adjustment", (float a) => a + "%", EClass._map.config.shadowStrength * 100f, delegate(float b) // [!code --]
		UIContextMenu uIContextMenu2 = EClass.ui.CreateContextMenuInteraction(); // [!code ++]
		uIContextMenu2.AddSlider("adjustment", (float a) => a + "%", EClass._map.config.shadowStrength * 100f, delegate(float b) // [!code ++]
		{
			EClass._map.config.shadowStrength = b * 0.01f;
			EClass.screen.RefreshAll();
		}, 0f, 400f, isInt: true, hideOther: false);
		uIContextMenu2.Show(); // [!code ++]
		return false; // [!code ++]
	}, owner); // [!code ++]
	p.TrySetAct("actChangeHeightShadowStrength", delegate // [!code ++]
	{ // [!code ++]
		UIContextMenu uIContextMenu = EClass.ui.CreateContextMenuInteraction(); // [!code ++]
		uIContextMenu.AddSlider("adjustment", (float a) => a + "%", EClass._map.config.heightLightMod * 1000f, delegate(float b) // [!code ++]
		{ // [!code ++]
			EClass._map.config.heightLightMod = b * 0.001f; // [!code ++]
		}, 0f, 100f, isInt: true, hideOther: false); // [!code ++]
		uIContextMenu.Show();
		return false;
	}, owner);
```

## WidgetManager

[`public void Hide()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/WidgetManager.cs#L276-L288)
```cs:line-numbers=276

	public void Reset(bool toggleTheme)
	{
		if (WidgetMainText.Instance.box.isShowingLog) // [!code --]
		{ // [!code --]
			WidgetMainText.Instance._ToggleLog(); // [!code --]
		} // [!code --]
		MsgBox msgBox = null; // [!code ++]
		if ((bool)WidgetMainText.Instance)
		{
			(WidgetMainText.boxBk = WidgetMainText.Instance.box).transform.SetParent(base.transform.parent, worldPositionStays: false); // [!code --]
			if (WidgetMainText.Instance.box.isShowingLog) // [!code ++]
			{ // [!code ++]
				WidgetMainText.Instance._ToggleLog(); // [!code ++]
			} // [!code ++]
			msgBox = (WidgetMainText.boxBk = WidgetMainText.Instance.box); // [!code ++]
			msgBox.transform.SetParent(base.transform.parent, worldPositionStays: false); // [!code ++]
		}
		KillWidgets();
		if (toggleTheme)
```

[`public void Reset(bool toggleTheme)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5256b8c481a7263611744e83c00e1d81041b1df4/Elin/WidgetManager.cs#L292-L297)
```cs:line-numbers=292
		OnGameInstantiated();
		OnActivateZone();
		OnChangeActionMode();
		if (!WidgetMainText.Instance && (bool)msgBox) // [!code ++]
		{ // [!code ++]
			UnityEngine.Object.Destroy(msgBox.gameObject); // [!code ++]
		} // [!code ++]
	}

	public void DialogSave(Action onSave = null)
```
