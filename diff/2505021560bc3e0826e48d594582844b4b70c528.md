---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 10 files modified.
version: EA 23.271 Nightly
changes: AI_Fuck/AI_Trolley/ActZap/Card/Chara/DNA/ElementContainer/FEAT/StanceSongEnd/WindowChara
---

# EA 23.271 Nightly

February 16, 2026

10 files modified.

## Important Changes

**None.**
## AI_Fuck

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/AI_Fuck.cs#L144-L149)
```cs:line-numbers=144
				}
				break;
			}
			if (variation == Variation.Slime) // [!code ++]
			{ // [!code ++]
				owner.DoHostileAction(target); // [!code ++]
			} // [!code ++]
			if (EClass.rnd(3) == 0 || sell)
			{
				if (variation == Variation.Slime)
```

[`public void Finish()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/AI_Fuck.cs#L418-L428)
```cs:line-numbers=418
			Thing thing = null;
			for (int j = 0; j < 10; j++)
			{
				thing = target.MakeGene(DNA.Type.Superior); // [!code --]
				thing = target.MakeGene((j < 3) ? DNA.Type.Superior : DNA.Type.Default); // [!code ++]
				thing.c_DNA.MakeSlimeFood(chara);
				if (thing.c_DNA.GetInvalidAction(chara) != null || thing.c_DNA.GetInvalidFeat(chara) != null)
				{
					thing.c_DNA.vals.Clear();
					thing.c_DNA.type = DNA.Type.Inferior; // [!code ++]
					continue;
				}
				thing.elements.ModBase(10, 200);
```

## AI_Trolley

[`using System;`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/AI_Trolley.cs#L1-L5)
```cs:line-numbers=1
using System;
using System.Collections.Generic;
using System.Linq; // [!code ++]
using UnityEngine;

public class AI_Trolley : AIAct
```

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/AI_Trolley.cs#L85-L91)
```cs:line-numbers=85
			owner.PlaySound(idSound);
			EClass.Sound.Stop(idSound, Mathf.Max(1f, trolley.FadeDuration));
		}
		foreach (Chara item in point.ListCharas()) // [!code --]
		foreach (Chara item in point.ListCharas().ToList()) // [!code ++]
		{
			owner.Kick(item, ignoreSelf: true, karmaLoss: false);
		}
```

## ActZap

[`public override bool Perform()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/ActZap.cs#L20-L25)
```cs:line-numbers=20
		trait.owner.ModCharge(-1);
		Act.CC.PlayEffect("rod");
		Act.CC.PlaySound("rod");
		Act.CC.RemoveCondition<ConInvisibility>(); // [!code ++]
		Act.TC = Act.CC;
		EffectId idEffect = trait.IdEffect;
		int power = trait.Power * (100 + Act.CC.Evalue(305) * 10 + Act.CC.MAG / 2 + Act.CC.PER / 2) / 100;
```

## Card

[`public void LevelUp()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/Card.cs#L3034-L3039)
```cs:line-numbers=3034
	{
		Chara.SetFeat(1415, Evalue(1415) + 1, msg: true);
	}
	if (IsPC && HasElement(1274) && Evalue(1274) < 8 && LV >= Evalue(1274) * 5) // [!code ++]
	{ // [!code ++]
		Chara.SetFeat(1274, Evalue(1274) + 1, msg: true); // [!code ++]
	} // [!code ++]
	if (IsPC || !(Chara.race.id == "mutant"))
	{
		return;
```

## Chara

[`public bool IsWealthy`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/Chara.cs#L1067-L1073)
```cs:line-numbers=1067

	public FactionBranch homeBranch => homeZone?.branch;

	public int MaxGeneSlot => race.geneCap - (HasElement(1237) ? 2 : 0) + Evalue(1242) + Evalue(1273); // [!code --]
	public int MaxGeneSlot => race.geneCap - (HasElement(1237) ? 2 : 0) + Evalue(1242) + Evalue(1273) + ((IsPC && HasElement(1274)) ? (Evalue(1274) - 7) : 0); // [!code ++]

	public int GeneCostMTP
	{
```

[`public override void OnCreate(int genLv)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/Chara.cs#L1627-L1633)
```cs:line-numbers=1627
	}
	if (base.LV > 5 && race.id == "mutant")
	{
		for (int j = 0; j < Mathf.Min(1 + base.LV / 5, 22); j++) // [!code --]
		for (int j = 0; j < Mathf.Min(1 + base.LV / 5, 20); j++) // [!code ++]
		{
			SetFeat(1644, j + 1);
		}
```

[`public void RestockEquip(bool onCreate)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/Chara.cs#L4907-L4912)
```cs:line-numbers=4907
			EQ_ID("staff_leek");
		}
		break;
	case "kumatan": // [!code ++]
		if (onCreate) // [!code ++]
		{ // [!code ++]
			EQ_ID("dagger_hocho"); // [!code ++]
		} // [!code ++]
		break; // [!code ++]
	}
	if (!TryEquipRanged())
	{
```

## DNA

[`public bool CanRemove(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/DNA.cs#L258-L263)
```cs:line-numbers=258
		case 1415:
			return false;
		case 1228:
		case 1414: // [!code ++]
			return !c.IsPC;
		}
	}
```

[`public string GetText()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/DNA.cs#L561-L567)
```cs:line-numbers=561
		{
			text = "???";
		}
		return "gene".lang(text.ToTitleCase(), cost.ToString() ?? ""); // [!code --]
		return "gene".lang(text.ToTitleCase(), (cost == 0) ? "" : (cost.ToString() ?? "")); // [!code ++]
	}

	public void WriteNote(UINote n, Chara tg = null)
```

## ElementContainer

[`public void ApplyPotential(int mode = 0)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/ElementContainer.cs#L158-L164)
```cs:line-numbers=158
	{
		if (value.HasTag("primary"))
		{
			value.vTempPotential = (value.ValueWithoutLink - ((mode != 2) ? 7 : 0)) * 5; // [!code --]
			value.vTempPotential = Mathf.Max(30, (value.ValueWithoutLink - ((mode != 2) ? 8 : 0)) * 7); // [!code ++]
		}
	}
}
```

## FEAT

[`public List<string> Apply(int a, ElementContainer owner, bool hint = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/FEAT.cs#L625-L630)
```cs:line-numbers=625
		ModPotential(120, a * 50);
		ModPotential(123, a * 50);
		break;
	case 1274: // [!code ++]
		featRef[3] = (a - 7).ToString() ?? ""; // [!code ++]
		break; // [!code ++]
	case 1750:
	{
		string[] array = featRef;
```

## StanceSongEnd

[`public override void TickSong()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/StanceSongEnd.cs#L10-L18)
```cs:line-numbers=10
		{
			break;
		}
		if ((item.IsPowerful ? 15 : 30) * Mathf.Min(base.power / 4, 100) / 100 > EClass.rnd(100)) // [!code --]
		if (30 * Mathf.Min(base.power / 4, 100) / 100 > EClass.rnd(100)) // [!code ++]
		{
			ActEffect.ProcAt(EffectId.Hand, owner.Power, BlessedState.Normal, owner, item, item.pos, isNeg: true, new ActRef // [!code --]
			ActEffect.ProcAt(EffectId.Hand, new ActHand().GetPower(owner), BlessedState.Normal, owner, item, item.pos, isNeg: true, new ActRef // [!code ++]
			{
				aliasEle = ((EClass.rnd(2) == 0) ? "eleLightning" : ((EClass.rnd(2) == 0) ? "eleCold" : "eleFire"))
			});
```

## WindowChara

[`public void RefreshSkill(int idTab)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/WindowChara.cs#L528-L534)
```cs:line-numbers=528
		}
		if (chara.IsPC && chara.HasElement(1274) && chara.c_genes != null && chara.c_genes.items.Count > 0)
		{
			Header("genes", null); // [!code --]
			Header("genes".lang() + "  " + EClass.pc.CurrentGeneSlot + "/" + EClass.pc.MaxGeneSlot, null); // [!code ++]
			ListFeat();
			list.callbacks = new UIList.Callback<DNA, ButtonElement>
			{
```

[`public void RefreshSkill(int idTab)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2505021560bc3e0826e48d594582844b4b70c528/Elin/WindowChara.cs#L547-L553)
```cs:line-numbers=547
						a.WriteNote(uINote);
						t.note.Build();
					});
					b.subText.text = "(+" + a.slot + ")"; // [!code --]
					b.subText.text = "(" + a.slot + ")"; // [!code ++]
					b.subText.SetActive(enable: true);
					b.imagePotential.SetActive(enable: false);
				},
```
