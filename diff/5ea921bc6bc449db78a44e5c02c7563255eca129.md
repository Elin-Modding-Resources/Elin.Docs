---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 4 files modified.
version: EA 23.222 Stable nyan
changes: AI_Mofu/Card/CharaRenderer/TraitCrafter
---

# EA 23.222 Stable nyan

October 19, 2025

4 files modified.

## Important Changes

**None.**
## AI_Mofu

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5ea921bc6bc449db78a44e5c02c7563255eca129/Elin/AI_Mofu.cs#L27-L33)
```cs:line-numbers=27
	{
		yield return DoGoto(mofu);
	}
	if (mofu == null || !mofu.ExistsOnMap) // [!code --]
	if (mofu == null || !mofu.ExistsOnMap || owner.Dist(mofu) > 1) // [!code ++]
	{
		yield return Success();
	}
```

## Card

[`public int MaxRune()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5ea921bc6bc449db78a44e5c02c7563255eca129/Elin/Card.cs#L3591-L3597)
```cs:line-numbers=3591
public bool CanAddRune(TraitMod mod)
{
	SourceElement.Row source = mod.source;
	if (category.slot == 0) // [!code --]
	if (category.slot == 0 || isReplica) // [!code ++]
	{
		return false;
	}
```

## CharaRenderer

[`public void DrawHat()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5ea921bc6bc449db78a44e5c02c7563255eca129/Elin/CharaRenderer.cs#L333-L346)
```cs:line-numbers=333
		RenderObject.currentParam.liquidLv = 0;
		RenderObject.currentParam.x += 0.01f * (float)pref.equipX;
		RenderObject.currentParam.y += num + 0.01f * (float)(pref.equipY + cardRow.pref.equipY);
		RenderObject.currentParam.z += 0f - pref.hatY + ((pccData != null) ? 0.4f : 0.3f); // [!code --]
		RenderObject.currentParam.z += -0.09f; // [!code ++]
		RenderObject.currentParam.tile = cardRow._tiles[owner.uid % cardRow._tiles.Length] * ((!flag) ? 1 : (-1));
		RenderObject.currentParam.mat = cardRow.DefaultMaterial;
		RenderObject.currentParam.matColor = cardRow.GetColorInt(RenderObject.currentParam.mat);
		cardRow.renderData.Draw(RenderObject.currentParam);
		RenderObject.currentParam.x -= 0.01f * (float)pref.equipX;
		RenderObject.currentParam.y -= num + 0.01f * (float)(pref.equipY + cardRow.pref.equipY);
		RenderObject.currentParam.z -= 0f - pref.hatY + ((pccData != null) ? 0.4f : 0.3f); // [!code --]
		RenderObject.currentParam.z -= -0.09f; // [!code ++]
		RenderObject.currentParam.liquidLv = liquidLv;
	}

```

## TraitCrafter

[`public override void TrySetAct(ActPlan p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/5ea921bc6bc449db78a44e5c02c7563255eca129/Elin/TraitCrafter.cs#L571-L576)
```cs:line-numbers=571

	public override bool CanUse(Chara c)
	{
		if (EClass._zone.IsUserZone && owner.isNPCProperty) // [!code ++]
		{ // [!code ++]
			return false; // [!code ++]
		} // [!code ++]
		return CanUseFromInventory;
	}

```
