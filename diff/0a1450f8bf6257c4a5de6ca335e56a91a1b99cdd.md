---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 32 files modified. 1 new file created.
version: EA 23.232 Nightly Patch 2
changes: AI_Fish/AI_Idle/ActEffect/ActRanged/ActThrow/CINT/Chara/CoreDebug/DOMAIN/DramaCustomSequence/DramaManager/DramaOutcome/ELEMENT/ENC/FACTION/FEAT/FOOD/Game/InvOwnerReconstruction/MUTATION/Map/POLICY/Party/Player/SKILL/Scene/TraitDeliveryChest/TraitFoodEggFertilized/TraitLightSun/TraitMonsterBall/+TraitSilvercatBall/WidgetRoster/ZoneEventDefenseGame
---

# EA 23.232 Nightly Patch 2

November 9, 2025

32 files modified. 1 new file created.

## Important Changes

Possible breaking changes. Click the filename to view the chunk.
### [Party (1)](#party)
```cs:no-line-numbers
public int EValue(int ele) // [!code --]
public int EvalueBest(int ele) // [!code ++]
```
## AI_Fish

[`public static Thing Makefish(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/AI_Fish.cs#L395-L401)
```cs:line-numbers=395
			num4 = 3;
		}
		SetFeverSeed();
		thing = ThingGen.Create("fish", -1, lv); // [!code --]
		string text2 = "fish"; // [!code ++]
		if (EClass._zone.id == "startVillage2") // [!code ++]
		{ // [!code ++]
			text2 = "65"; // [!code ++]
		} // [!code ++]
		thing = ThingGen.Create(text2, -1, lv); // [!code ++]
		SetFeverSeed();
		int num5 = Mathf.Max(1, num / (thing.source.LV * 2 + 10));
		int num6 = 5;
```

[`public static Thing Makefish(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/AI_Fish.cs#L413-L419)
```cs:line-numbers=413
			c.Say("bigCatch", c);
		}
		num2 = (num7 ? num5 : EClass.rnd(num5)) / (num4 + 1) + 1;
		if (EClass.debug.enable || (thing.id == "65" && EClass.rnd(c.IsPC ? 8192 : 819200) == 0)) // [!code --]
		if (thing.id == "65" && EClass.rnd(EClass.debug.enable ? 2 : (c.IsPC ? 8192 : 819200)) == 0) // [!code ++]
		{
			thing = ThingGen.Create("65_gold", -1, lv);
			num2 = 1;
```

## AI_Idle

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/AI_Idle.cs#L225-L231)
```cs:line-numbers=225
						list2.Add(member);
					}
				}
				if (list2.Count > 2) // [!code --]
				if (list2.Count > 2 + EClass.pc.party.EvalueTotal(1272, (Chara c) => c.IsPC || c.faith == EClass.game.religions.Harmony)) // [!code ++]
				{
					list2.Remove(owner);
					owner.SetEnemy(list2.RandomItem());
```

## ActEffect

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ActEffect.cs#L374-L413)
```cs:line-numbers=374
				switch (id)
				{
				case EffectId.GravityGun:
					if (!c.isChara) // [!code --]
					if (c.isChara) // [!code ++]
					{
						break; // [!code --]
					} // [!code --]
					c.Chara.AddCondition<ConGravity>(power); // [!code --]
					if (EClass.rnd(2) == 0) // [!code --]
					{ // [!code --]
						c.Chara.AddCondition<ConEntangle>(power / 2); // [!code --]
					} // [!code --]
					if (EClass.rnd(4) == 0) // [!code --]
					{ // [!code --]
						c.Chara.AddCondition<ConBlind>(power); // [!code --]
					} // [!code --]
					if (EClass.rnd(5) == 0) // [!code --]
					{ // [!code --]
						c.Chara.AddCondition<ConDim>(power / 3); // [!code --]
					} // [!code --]
					if (EClass.rnd(3) == 0) // [!code --]
					{ // [!code --]
						c.Chara.AddCondition<ConSupress>(power / 2); // [!code --]
					} // [!code --]
					if (actref.refThing != null && actref.refThing.id == "gun_gravity2") // [!code --]
					{ // [!code --]
						if (EClass.rnd(4) == 0) // [!code --]
						{ // [!code --]
							c.Chara.AddCondition<ConSilence>(power / 3); // [!code --]
						} // [!code --]
						if (EClass.rnd(4) == 0) // [!code --]
						{ // [!code --]
							c.Chara.AddCondition<ConWeakResEle>(power); // [!code --]
						} // [!code --]
						if (EClass.rnd(4) == 0) // [!code --]
						AddCon<ConGravity>(1, power); // [!code ++]
						AddCon<ConBlind>(4, power); // [!code ++]
						AddCon<ConDim>(5, power / 2); // [!code ++]
						AddCon<ConSupress>(3, power / 2); // [!code ++]
						if (actref.refThing != null && actref.refThing.id == "gun_gravity2") // [!code ++]
						{
							c.Chara.AddCondition<ConNightmare>(power); // [!code --]
							AddCon<ConEntangle>(4, power / 3); // [!code ++]
							AddCon<ConSilence>(4, power / 3); // [!code ++]
							AddCon<ConWeakResEle>(4, power); // [!code ++]
							AddCon<ConNightmare>(4, power); // [!code ++]
						}
					}
					break;
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ActEffect.cs#L435-L440)
```cs:line-numbers=435
				chara.DoHostileAction(c);
			}
			num2++;
			void AddCon<T>(int rate, int power) where T : Condition // [!code ++]
			{ // [!code ++]
				if (EClass.rnd(1 + actref.refVal) == 0 && !c.Chara.HasCondition<T>() && EClass.rnd(rate) == 0) // [!code ++]
				{ // [!code ++]
					c.Chara.AddCondition<T>(power); // [!code ++]
				} // [!code ++]
			} // [!code ++]
		}
		if ((id == EffectId.Explosive || id == EffectId.Suicide || id == EffectId.Rocket) && (!EClass._zone.IsPCFaction || !EClass.Branch.HasItemProtection))
		{
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ActEffect.cs#L447-L453)
```cs:line-numbers=447
			bool flag5 = EClass._zone.HasLaw && !EClass._zone.IsPCFaction && (CC.IsPC || (id == EffectId.Explosive && actref.refThing == null)) && !(EClass._zone is Zone_Vernis);
			if (p.HasObj && p.cell.matObj.hardness <= num7)
			{
				EClass._map.MineObj(p); // [!code --]
				EClass._map.MineObj(p, null, CC.Chara); // [!code ++]
				if (flag5)
				{
					EClass.player.ModKarma(-1);
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ActEffect.cs#L455-L461)
```cs:line-numbers=455
			}
			if (!p.HasObj && p.HasBlock && p.matBlock.hardness <= num7)
			{
				EClass._map.MineBlock(p); // [!code --]
				EClass._map.MineBlock(p, recoverBlock: false, CC.Chara); // [!code ++]
				if (flag5)
				{
					EClass.player.ModKarma(-1);
```

## ActRanged

[`void Shoot(Card _tc, Point _tp, bool subAttack)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ActRanged.cs#L386-L392)
```cs:line-numbers=386
					{
						origin = Act.CC.Chara,
						refThing = weapon,
						aliasEle = "eleImpact" // [!code --]
						aliasEle = "eleImpact", // [!code ++]
						refVal = j // [!code ++]
					});
					break;
				}
```

## ActThrow

[`public override string GetText(string str = "")`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ActThrow.cs#L18-L24)
```cs:line-numbers=18
	if (target != null)
	{
		TraitMonsterBall traitMonsterBall = target.trait as TraitMonsterBall;
		if (pcTarget != null && traitMonsterBall != null && !traitMonsterBall.IsDuponneBall && !traitMonsterBall.IsLittleBall && pcTarget.LV > target.LV) // [!code --]
		if (pcTarget != null && traitMonsterBall != null && !traitMonsterBall.IsDuponneBall && !traitMonsterBall.IsLittleBall && !traitMonsterBall.IsSilvercatBall && pcTarget.LV > target.LV) // [!code ++]
		{
			text = " " + "mb_invalidLV".lang();
		}
```

[`public static EffectIRenderer Throw(Card c, Point p, Card target, Thing t, Throw`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ActThrow.cs#L257-L278)
```cs:line-numbers=257
					}
				});
			}
			if (traitMonsterBall.IsDuponneBall && _c.id == "lurie_boss") // [!code --]
			if ((traitMonsterBall.IsSilvercatBall || _c.id == "cat_silver") && EClass._zone.id == "startVillage2") // [!code ++]
			{
				_c.orgPos = c.pos.Copy();
				_c.homeZone = EClass._zone;
				Chara chara = _c;
				Hostility c_originalHostility = (_c.hostility = Hostility.Friend);
				chara.c_originalHostility = c_originalHostility;
				EClass._zone.ModInfluence(10); // [!code ++]
				_c.PlaySound("chime_angel"); // [!code ++]
			} // [!code ++]
			else if (traitMonsterBall.IsDuponneBall && _c.id == "lurie_boss") // [!code ++]
			{ // [!code ++]
				_c.orgPos = c.pos.Copy(); // [!code ++]
				_c.homeZone = EClass._zone; // [!code ++]
				Chara chara2 = _c; // [!code ++]
				Hostility c_originalHostility = (_c.hostility = Hostility.Friend); // [!code ++]
				chara2.c_originalHostility = c_originalHostility; // [!code ++]
				EClass._zone.ModInfluence(20);
				_c.PlaySound("chime_angel");
			}
			else if (traitMonsterBall.IsLittleBall && _c.id == "littleOne")
			{
				_c.orgPos = c.pos.Copy();
				Chara chara2 = _c; // [!code --]
				Chara chara3 = _c; // [!code ++]
				Hostility c_originalHostility = (_c.hostility = Hostility.Neutral);
				chara2.c_originalHostility = c_originalHostility; // [!code --]
				chara3.c_originalHostility = c_originalHostility; // [!code ++]
				EClass._zone.ModInfluence(5);
				_c.PlaySound("chime_angel");
				EClass.core.actionsNextFrame.Add(delegate
```

[`public static EffectIRenderer Throw(Card c, Point p, Card target, Thing t, Throw`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ActThrow.cs#L294-L303)
```cs:line-numbers=294
				break;
			}
			Act.TC.Say("throw_hit", t, Act.TC);
			Chara chara3 = Act.TC.Chara; // [!code --]
			if (traitMonsterBall.IsDuponneBall) // [!code --]
			Chara chara4 = Act.TC.Chara; // [!code ++]
			if (traitMonsterBall.IsSilvercatBall) // [!code ++]
			{ // [!code ++]
				if (chara4.id != "cat_silver" || chara4.IsPCFactionOrMinion || EClass._zone.id == "startVillage2" || EClass._zone.IsUserZone) // [!code ++]
				{ // [!code ++]
					Msg.Say("monsterball_invalid"); // [!code ++]
					break; // [!code ++]
				} // [!code ++]
				if (chara4.LV > 10) // [!code ++]
				{ // [!code ++]
					Msg.Say("monsterball_lv"); // [!code ++]
					break; // [!code ++]
				} // [!code ++]
			} // [!code ++]
			else if (traitMonsterBall.IsDuponneBall) // [!code ++]
			{
				if (chara3.id != "lurie_boss" || chara3.IsPCFactionOrMinion || EClass._zone is Zone_Exile || EClass._zone.IsUserZone) // [!code --]
				if (chara4.id != "lurie_boss" || chara4.IsPCFactionOrMinion || EClass._zone is Zone_Exile || EClass._zone.IsUserZone) // [!code ++]
				{
					Msg.Say("monsterball_invalid");
					break;
```

[`public static EffectIRenderer Throw(Card c, Point p, Card target, Thing t, Throw`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ActThrow.cs#L305-L348)
```cs:line-numbers=305
			}
			else if (traitMonsterBall.IsLittleBall)
			{
				if (chara3.id != "littleOne" || chara3.IsPCFactionOrMinion || EClass._zone is Zone_LittleGarden || EClass._zone.IsUserZone || chara3.GetBool(132)) // [!code --]
				if (chara4.id != "littleOne" || chara4.IsPCFactionOrMinion || EClass._zone is Zone_LittleGarden || EClass._zone.IsUserZone || chara4.GetBool(132)) // [!code ++]
				{
					Msg.Say("monsterball_invalid");
					break;
				}
				chara3.SetBool(132, enable: true); // [!code --]
				chara4.SetBool(132, enable: true); // [!code ++]
			}
			else
			{
				if (!chara3.trait.CanBeTamed || EClass._zone.IsUserZone) // [!code --]
				if (!chara4.trait.CanBeTamed || EClass._zone.IsUserZone) // [!code ++]
				{
					Msg.Say("monsterball_invalid");
					break;
				}
				if (chara3.LV > traitMonsterBall.owner.LV) // [!code --]
				if (chara4.LV > traitMonsterBall.owner.LV) // [!code ++]
				{
					Msg.Say("monsterball_lv");
					break;
				}
				if (!EClass.debug.enable && chara3.hp > chara3.MaxHP / 10) // [!code --]
				if (!EClass.debug.enable && chara4.hp > chara4.MaxHP / 10) // [!code ++]
				{
					Msg.Say("monsterball_hp");
					break;
				}
			}
			Msg.Say("monsterball_capture", c, chara3); // [!code --]
			chara3.PlaySound("identify"); // [!code --]
			chara3.PlayEffect("identify"); // [!code --]
			Msg.Say("monsterball_capture", c, chara4); // [!code ++]
			chara4.PlaySound("identify"); // [!code ++]
			chara4.PlayEffect("identify"); // [!code ++]
			t.ChangeMaterial("copper");
			if (chara3.IsLocalChara) // [!code --]
			if (chara4.IsLocalChara) // [!code ++]
			{
				Debug.Log("Creating Replacement NPC for:" + chara3); // [!code --]
				EClass._map.deadCharas.Add(chara3.CreateReplacement()); // [!code --]
				Debug.Log("Creating Replacement NPC for:" + chara4); // [!code ++]
				EClass._map.deadCharas.Add(chara4.CreateReplacement()); // [!code ++]
			}
			traitMonsterBall.chara = chara3; // [!code --]
			chara3.ReleaseMinion(); // [!code --]
			EClass._zone.RemoveCard(chara3); // [!code --]
			chara3.homeZone = null; // [!code --]
			traitMonsterBall.chara = chara4; // [!code ++]
			chara4.ReleaseMinion(); // [!code ++]
			EClass._zone.RemoveCard(chara4); // [!code ++]
			chara4.homeZone = null; // [!code ++]
			c.ModExp(108, 100);
			if (traitMonsterBall.IsDuponneBall && EClass.game.quests.GetPhase<QuestNegotiationDarkness>() == 3)
			{
```

## CINT

[`public class CINT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/CINT.cs#L36-L41)
```cs:line-numbers=36

	public const int isHiredByGold = 18;

	public const int rosterPriority = 19; // [!code ++]
 // [!code ++]
	public const int price = 21;

	public const int dateStockExpire = 22;
```

## Chara

[`public bool IsWealthy`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/Chara.cs#L1063-L1069)
```cs:line-numbers=1063

	public FactionBranch homeBranch => homeZone?.branch;

	public int MaxGeneSlot => race.geneCap - (HasElement(1237) ? 2 : 0) + Evalue(1242); // [!code --]
	public int MaxGeneSlot => race.geneCap - (HasElement(1237) ? 2 : 0) + Evalue(1242) + Evalue(1273); // [!code ++]

	public int CurrentGeneSlot
	{
```

[`public void TryUpgrade(bool msg = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/Chara.cs#L8504-L8509)
```cs:line-numbers=8504
		}
	}

	public bool CanBloom() // [!code ++]
	{ // [!code ++]
		if (IsPC || base.isScaled || HasElement(1273)) // [!code ++]
		{ // [!code ++]
			return false; // [!code ++]
		} // [!code ++]
		if (!EClass.debug.enable) // [!code ++]
		{ // [!code ++]
			if (base.c_daysWithPC > 360) // [!code ++]
			{ // [!code ++]
				return affinity.CanSleepBeside(); // [!code ++]
			} // [!code ++]
			return false; // [!code ++]
		} // [!code ++]
		return true; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public void AddCooldown(int idEle, int turns = 0)
	{
		if (_cooldowns == null)
```

[`public void RefreshFaithElement()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/Chara.cs#L10000-L10006)
```cs:line-numbers=10000
			faithElements.SetBase(row2.id, 1);
		}
		int[] array = row.elements;
		int num = GetPietyValue() * (120 + Evalue(1407) * 15) / 100; // [!code --]
		int num = GetPietyValue() * (120 + Evalue(1407) * 15 + Evalue(1228) * 20) / 100; // [!code ++]
		for (int i = 0; i < array.Length; i += 2)
		{
			int num2 = array[i + 1] * num / 50;
```

## CoreDebug

[`public void InitDebugCommands()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/CoreDebug.cs#L1575-L1583)
```cs:line-numbers=1575
			EClass.Branch.resources.knowledge.Mod(100);
		}
	});
	Add(cat2, "Add Influence", delegate // [!code --]
	Add(cat2, "Remove Influence", delegate // [!code ++]
	{
		EClass._zone.influence += 100; // [!code --]
		EClass._zone.influence = 0; // [!code ++]
	});
	Add(cat2, "Reroll Hobbies", delegate
	{
```

## DOMAIN

[`public class DOMAIN`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/DOMAIN.cs#L16-L25)
```cs:line-numbers=16

	public const int domMiracle = 803;

	public const int domHarvest = 808; // [!code --]
 // [!code --]
	public const int domWind = 807;

	public const int domHarvest = 808; // [!code ++]
 // [!code ++]
	public const int domLuck = 810;

	public const int domHealing = 811;
```

[`public class DOMAIN`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/DOMAIN.cs#L36-L42)
```cs:line-numbers=36

	public static readonly int[] IDS = new int[16]
	{
		805, 806, 801, 800, 804, 802, 803, 808, 807, 810, // [!code --]
		805, 806, 801, 800, 804, 802, 803, 807, 808, 810, // [!code ++]
		811, 812, 813, 814, 815, 809
	};
}
```

## DramaCustomSequence

[`public void Build(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/DramaCustomSequence.cs#L721-L726)
```cs:line-numbers=721
		});
		Choice("no2", StepDefault, cancel: true).SetOnClick(RumorChill);
	});
	Step("_bloom"); // [!code ++]
	Method(delegate // [!code ++]
	{ // [!code ++]
		TempTalkTopic("blooming1", null); // [!code ++]
		foreach (Chara item6 in EClass.pc.party.members.Where((Chara c2) => c2.CanBloom())) // [!code ++]
		{ // [!code ++]
			Chara c4 = item6; // [!code ++]
			Choice("daBloom".lang(c4.Name), delegate // [!code ++]
			{ // [!code ++]
				if (EClass._zone.influence < 10) // [!code ++]
				{ // [!code ++]
					TempTalkTopic("blooming3", StepDefault); // [!code ++]
				} // [!code ++]
				else // [!code ++]
				{ // [!code ++]
					EClass._zone.ModInfluence(-10); // [!code ++]
					LayerDrama.Instance.SetOnKill(delegate // [!code ++]
					{ // [!code ++]
						c.Talk("goodBoy"); // [!code ++]
						c4.Say("dingExp", c); // [!code ++]
						c4.Talk("tailed"); // [!code ++]
						c4.SetFeat(1273, 1, msg: true); // [!code ++]
						c4.PlayEffect("aura_heaven"); // [!code ++]
						c4.feat += 10; // [!code ++]
						EClass.pc.PlaySound("pray"); // [!code ++]
					}); // [!code ++]
					TempTalkTopic("blooming2", StepEnd); // [!code ++]
				} // [!code ++]
			}); // [!code ++]
		} // [!code ++]
		Choice("no2", StepDefault, cancel: true).SetOnClick(RumorChill); // [!code ++]
	}); // [!code ++]
	Step("_buy");
	Method(delegate
	{
```

[`public void Build(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/DramaCustomSequence.cs#L781-L802)
```cs:line-numbers=781
				{
					b.button1.mainText.text = a.Name;
					UIItem uIItem = Util.Instantiate<UIItem>("UI/Element/Item/Extra/costBarter", b.layout);
					HomeResource.Cost c2 = new HomeResource.Cost(EClass.BranchOrHomeBranch.resources.money, a.source.money); // [!code --]
					uIItem.text1.SetText(c2.cost.ToString() ?? "", (c2.resource.value >= c2.cost) ? FontColor.Good : FontColor.Bad); // [!code --]
					uIItem.image1.sprite = c2.resource.Sprite; // [!code --]
					HomeResource.Cost c3 = new HomeResource.Cost(EClass.BranchOrHomeBranch.resources.money, a.source.money); // [!code ++]
					uIItem.text1.SetText(c3.cost.ToString() ?? "", (c3.resource.value >= c3.cost) ? FontColor.Good : FontColor.Bad); // [!code ++]
					uIItem.image1.sprite = c3.resource.Sprite; // [!code ++]
					b.button1.SetTooltip(delegate(UITooltip t)
					{
						a.WriteNote(t.note);
					});
					b.button1.onClick.AddListener(delegate
					{
						if (c2.resource.value < c2.cost) // [!code --]
						if (c3.resource.value < c3.cost) // [!code ++]
						{
							SE.Beep();
						}
						else
						{
							c2.resource.Mod(-c2.cost); // [!code --]
							c3.resource.Mod(-c3.cost); // [!code ++]
							plans.Remove(a);
							EClass.BranchOrHomeBranch.researches.AddPlan(a);
							SE.Pay();
```

[`public void Build(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/DramaCustomSequence.cs#L807-L815)
```cs:line-numbers=807
				},
				onList = delegate
				{
					foreach (ResearchPlan item6 in plans) // [!code --]
					foreach (ResearchPlan item7 in plans) // [!code ++]
					{
						list.Add(item6); // [!code --]
						list.Add(item7); // [!code ++]
					}
				}
			};
```

[`void Invest(bool quick)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/DramaCustomSequence.cs#L1081-L1087)
```cs:line-numbers=1081
				},
				onList = delegate
				{
					foreach (SourceElement.Row item7 in EClass.sources.elements.rows.Where(delegate(SourceElement.Row a) // [!code --]
					foreach (SourceElement.Row item8 in EClass.sources.elements.rows.Where(delegate(SourceElement.Row a) // [!code ++]
					{
						if (a.tag.Contains("unused"))
						{
```

[`void Invest(bool quick)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/DramaCustomSequence.cs#L1114-L1120)
```cs:line-numbers=1114
						return a.category == "skill" && a.categorySub == c.trait.IDTrainer;
					}).ToList())
					{
						list.Add(Element.Create(item7.id)); // [!code --]
						list.Add(Element.Create(item8.id)); // [!code ++]
					}
				}
			};
```

[`void Invest(bool quick)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/DramaCustomSequence.cs#L1232-L1241)
```cs:line-numbers=1232
				{
					SE.Pay();
					EClass.pc.ModCurrency(-costIdentify);
					foreach (Thing item8 in EClass.pc.things.List((Thing t) => !t.IsIdentified, onlyAccessible: true)) // [!code --]
					foreach (Thing item9 in EClass.pc.things.List((Thing t) => !t.IsIdentified, onlyAccessible: true)) // [!code ++]
					{
						item8.Thing.Identify(show: false); // [!code --]
						if (!item8.IsInstalled) // [!code --]
						item9.Thing.Identify(show: false); // [!code ++]
						if (!item9.IsInstalled) // [!code ++]
						{
							numSuperior++;
						}
```

## DramaManager

[`public bool CheckIF(string IF)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/DramaManager.cs#L1073-L1078)
```cs:line-numbers=1073
	string[] array = IF.Split(',');
	switch (array[0])
	{
	case "garden_bloom": // [!code ++]
		foreach (Chara member in EMono.pc.party.members) // [!code ++]
		{ // [!code ++]
			if (member.CanBloom()) // [!code ++]
			{ // [!code ++]
				return true; // [!code ++]
			} // [!code ++]
		} // [!code ++]
		return false; // [!code ++]
	case "duponne_mino":
		return EMono.pc.things.Find("minohorn") != null;
	case "duponne_rescued":
```

[`public bool CheckIF(string IF)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/DramaManager.cs#L1099-L1104)
```cs:line-numbers=1099
		return !EMono.game.IsSurvival;
	case "fromBook":
		return LayerDrama.fromBook;
	case "nerun_nadenade": // [!code ++]
		if (!EMono.game.startVersion.IsBelow(0, 23, 232)) // [!code ++]
		{ // [!code ++]
			return EMono.player.stats.death2 == 0; // [!code ++]
		} // [!code ++]
		return false; // [!code ++]
	case "nerun_nadenade2": // [!code ++]
		GameLang.refDrama1 = EMono.player.stats.death2.ToString() ?? ""; // [!code ++]
		return EMono.player.stats.death2 >= 100; // [!code ++]
	case "!fromBook":
		return !LayerDrama.fromBook;
	case "WindRest":
```

[`public bool CheckIF(string IF)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/DramaManager.cs#L1114-L1122)
```cs:line-numbers=1114
	case "fiamaPet":
		if (EMono.pc.homeBranch != null)
		{
			foreach (Chara member in EMono.pc.homeBranch.members) // [!code --]
			foreach (Chara member2 in EMono.pc.homeBranch.members) // [!code ++]
			{
				if (member.isDead && member.CanRevive() && member.GetInt(100) != 0) // [!code --]
				if (member2.isDead && member2.CanRevive() && member2.GetInt(100) != 0) // [!code ++]
				{
					return true;
				}
```

## DramaOutcome

[`public void poppy_found()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/DramaOutcome.cs#L387-L392)
```cs:line-numbers=387
		cc.RemoveEditorTag(EditorTag.Invulnerable);
	}

	public void give_catball_recipe() // [!code ++]
	{ // [!code ++]
		EMono.player.DropReward(ThingGen.CreateRecipe("silvercatball")); // [!code ++]
	} // [!code ++]
 // [!code ++]
	public void event_swordkeeper()
	{
		EMono._zone.AddChara("swordkeeper", 45, 52);
```

[`public void upgrade_miscreation()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/DramaOutcome.cs#L400-L408)
```cs:line-numbers=400
		for (int i = 0; i < num; i++)
		{
			Rand.SetSeed(chara.uid + i);
			DNA.GenerateRandomGene(chara.LV + 30, chara.uid + i).c_DNA.Apply(chara, reverse: false); // [!code --]
			Rand.SetSeed(); // [!code --]
			Thing thing = DNA.GenerateRandomGene(chara.LV + 30, chara.uid + i); // [!code ++]
			if (thing.c_DNA.GetInvalidFeat(chara) == null && thing.c_DNA.GetInvalidAction(chara) == null) // [!code ++]
			{ // [!code ++]
				thing.c_DNA.Apply(chara, reverse: false); // [!code ++]
			} // [!code ++]
		}
		Rand.SetSeed(); // [!code ++]
	}

	public static bool If(DramaChoice item, Chara c)
```

## ELEMENT

[`public class ELEMENT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ELEMENT.cs#L33-L45)
```cs:line-numbers=33

	public const int _void = 0;

	public const int old_antidote = 25; // [!code --]
 // [!code --]
	public const int piety = 85; // [!code --]
	public const int poison = 20; // [!code ++]

	public const int race = 29;

	public const int cure = 26; // [!code --]
	public const int piety = 85; // [!code ++]

	public const int old_heal = 24;

```

[`public class ELEMENT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ELEMENT.cs#L49-L63)
```cs:line-numbers=49

	public const int fire = 21;

	public const int poison = 20; // [!code --]
	public const int taste = 18; // [!code ++]

	public const int decay = 17;

	public const int heat = 16;

	public const int taste = 18; // [!code --]
	public const int cure = 26; // [!code ++]

	public const int growth = 14; // [!code --]
	public const int water = 15; // [!code ++]

	public const int hardness = 13;

```

[`public class ELEMENT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ELEMENT.cs#L71-L88)
```cs:line-numbers=71

	public const int d = 3;

	public const int water = 15; // [!code --]
	public const int quality = 2; // [!code ++]

	public const int lv = 1;

	public const int quality = 2; // [!code --]
	public const int growth = 14; // [!code ++]
 // [!code ++]
	public const int old_antidote = 25; // [!code ++]

	public static readonly int[] IDS = new int[36]
	{
		752, 753, 754, 755, 756, 762, 760, 761, 763, 765,
		751, 759, 750, 0, 25, 85, 29, 26, 24, 23, // [!code --]
		22, 21, 20, 17, 16, 18, 14, 13, 12, 11, // [!code --]
		10, 5, 3, 15, 1, 2 // [!code --]
		751, 759, 750, 0, 20, 29, 85, 24, 23, 22, // [!code ++]
		21, 18, 17, 16, 26, 15, 13, 12, 11, 10, // [!code ++]
		5, 3, 2, 1, 14, 25 // [!code ++]
	};
}
public class Element : EClass
```

## ENC

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ENC.cs#L2-L25)
```cs:line-numbers=2
{
	public const int innocence = 418;

	public const int slowCorruption = 412; // [!code --]
	public const int encTail = 419; // [!code ++]

	public const int encHit = 414; // [!code --]
	public const int negateParalysis = 422; // [!code ++]

	public const int seeInvisible = 416;

	public const int invisibility = 415;

	public const int encTail = 419; // [!code --]
	public const int negatePoison = 420; // [!code ++]
 // [!code ++]
	public const int encHit = 414; // [!code ++]

	public const int loving = 417;

	public const int negatePoison = 420; // [!code --]
	public const int encRagnarok = 667; // [!code ++]

	public const int absorbHP = 660;

	public const int meleeDistance = 666; // [!code --]
 // [!code --]
	public const int planter = 665;

	public const int boostMachine = 664;
```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ENC.cs#L30-L46)
```cs:line-numbers=30

	public const int absorbMP = 661;

	public const int encSpell = 411; // [!code --]
	public const int slowCorruption = 412; // [!code ++]

	public const int permaCurse = 656;

	public const int encRagnarok = 667; // [!code --]
	public const int meleeDistance = 666; // [!code ++]

	public const int throwReturn = 410; // [!code --]
	public const int encSpell = 411; // [!code ++]

	public const int redirect_blaser = 383;

	public const int resWeather = 408; // [!code --]
	public const int corruption = 409; // [!code ++]

	public const int negateBlind = 421;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ENC.cs#L50-L57)
```cs:line-numbers=50

	public const int convertCold = 851;

	public const int convertFire = 850; // [!code --]
 // [!code --]
	public const int counter = 380;

	public const int basher = 381;
```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ENC.cs#L76-L86)
```cs:line-numbers=76

	public const int travelSpeed = 407;

	public const int corruption = 409; // [!code --]
	public const int resWeather = 408; // [!code ++]
 // [!code ++]
	public const int throwReturn = 410; // [!code ++]

	public const int noDamage = 654;

	public const int negateParalysis = 422; // [!code --]
	public const int convertFire = 850; // [!code ++]

	public const int eco = 652;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ENC.cs#L188-L223)
```cs:line-numbers=188

	public const int mod_ammo_recover = 604;

	public const int creativeChef = 487; // [!code ++]
 // [!code ++]
	public const int mod_ammo_knockback = 603;

	public const int mod_rapid = 602;

	public const int creativeChef = 487; // [!code --]
 // [!code --]
	public const int deathagony = 488;

	public const int music_drunk = 489;

	public const int mod_ammo = 600;

	public const int mod_reload = 601; // [!code ++]
 // [!code ++]
	public const int r_PV = 651;

	public const int mod_precision = 605;

	public const int mod_reload = 601; // [!code --]
 // [!code --]
	public static readonly int[] IDS = new int[103]
	{
		418, 412, 414, 416, 415, 419, 417, 420, 660, 666, // [!code --]
		665, 664, 663, 662, 661, 411, 656, 667, 410, 383, // [!code --]
		408, 421, 865, 852, 851, 850, 380, 381, 382, 655, // [!code --]
		400, 401, 402, 403, 404, 405, 406, 407, 409, 654, // [!code --]
		422, 652, 446, 447, 450, 460, 461, 462, 463, 464, // [!code --]
		418, 419, 422, 416, 415, 420, 414, 417, 667, 660, // [!code ++]
		665, 664, 663, 662, 661, 412, 656, 666, 411, 383, // [!code ++]
		409, 421, 865, 852, 851, 380, 381, 382, 655, 400, // [!code ++]
		401, 402, 403, 404, 405, 406, 407, 408, 410, 654, // [!code ++]
		850, 652, 446, 447, 450, 460, 461, 462, 463, 464, // [!code ++]
		465, 466, 467, 480, 481, 482, 483, 445, 484, 444,
		442, 653, 424, 425, 426, 427, 428, 429, 430, 435,
		436, 437, 438, 439, 440, 441, 443, 485, 468, 608,
		623, 622, 621, 620, 609, 423, 641, 650, 486, 624,
		607, 606, 640, 604, 603, 602, 487, 488, 489, 600, // [!code --]
		651, 605, 601 // [!code --]
		607, 606, 640, 604, 487, 603, 602, 488, 489, 600, // [!code ++]
		601, 651, 605 // [!code ++]
	};
}
```

## FACTION

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FACTION.cs#L4-L11)
```cs:line-numbers=4

public class FACTION
{
	public const int bfFish = 3706; // [!code --]
 // [!code --]
	public const int bfLandmark4 = 3783;

	public const int bfLandmark2 = 3781;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FACTION.cs#L22-L27)
```cs:line-numbers=22

	public const int bfMonster = 3707;

	public const int bfFish = 3706; // [!code ++]
 // [!code ++]
	public const int bfLandmark3 = 3782;

	public const int fFood = 2204;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FACTION.cs#L94-L101)
```cs:line-numbers=94

	public const int actBuildCollect = 4004;

	public const int bfGum = 3803; // [!code --]
 // [!code --]
	public const int actBuildAnywhere = 4003;

	public const int actBuildTerrain = 4002;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FACTION.cs#L110-L123)
```cs:line-numbers=110

	public const int bfHunt = 3705;

	public const int bfGum = 3803; // [!code ++]
 // [!code ++]
	public static readonly int[] IDS = new int[53]
	{
		3706, 3783, 3781, 2207, 3780, 3710, 3709, 3708, 3707, 3782, // [!code --]
		3783, 3781, 2207, 3780, 3710, 3709, 3708, 3707, 3706, 3782, // [!code ++]
		2204, 2116, 2115, 2117, 2118, 2119, 2120, 2200, 2201, 2206,
		2202, 2203, 2205, 3784, 2003, 3800, 3804, 3802, 3801, 3600,
		3601, 3602, 3603, 3604, 3605, 3700, 3701, 3702, 3703, 3704,
		3606, 3500, 4006, 4005, 4004, 3803, 4003, 4002, 4001, 4000, // [!code --]
		3900, 3805, 3705 // [!code --]
		3606, 3500, 4006, 4005, 4004, 4003, 4002, 4001, 4000, 3900, // [!code ++]
		3805, 3705, 3803 // [!code ++]
	};
}
public class Faction : EClass
```

## FEAT

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FEAT.cs#L3-L33)
```cs:line-numbers=3

public class FEAT
{
	public const int featDEX = 1621; // [!code ++]
 // [!code ++]
	public const int featEND = 1622;

	public const int featPER = 1623;

	public const int featLER = 1624;

	public const int featMAG = 1625; // [!code --]
	public const int featSPD = 1629; // [!code ++]

	public const int featHardy = 1630; // [!code --]
	public const int featWIL = 1626; // [!code ++]

	public const int featCHA = 1627;

	public const int featLuck = 1628;

	public const int featSPD = 1629; // [!code --]
 // [!code --]
	public const int featDEX = 1621; // [!code --]
 // [!code --]
	public const int featWIL = 1626; // [!code --]
	public const int featSTR = 1620; // [!code ++]

	public const int featDefense = 1631; // [!code --]
	public const int featMAG = 1625; // [!code ++]

	public const int featFoxMaid = 1415; // [!code --]
	public const int featHardy = 1630; // [!code ++]

	public const int featStamina = 1612; // [!code --]
	public const int featWhiteVixen = 1414; // [!code ++]

	public const int featMana = 1611;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FEAT.cs#L47-L65)
```cs:line-numbers=47

	public const int featInquisitor = 1416;

	public const int featEvade = 1632; // [!code --]
	public const int featFoxMaid = 1415; // [!code ++]

	public const int featWhiteVixen = 1414; // [!code --]
	public const int featDefense = 1631; // [!code ++]

	public const int featSTR = 1620; // [!code --]
	public const int featFairysan = 1413; // [!code ++]

	public const int featSpotting = 1633; // [!code --]
	public const int featStamina = 1612; // [!code ++]

	public const int featDefender = 1649; // [!code --]
	public const int featEvade = 1632; // [!code ++]

	public const int featMartial = 1635; // [!code --]
	public const int featRapidMagic = 1648; // [!code ++]

	public const int featFairysan = 1413; // [!code --]
	public const int featNegotiate = 1634; // [!code ++]
 // [!code ++]
	public const int featLuckyCat = 1412; // [!code ++]

	public const int featGoldenFinger = 1662;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FEAT.cs#L81-L93)
```cs:line-numbers=81

	public const int featDreamWaker = 1653;

	public const int featNegotiate = 1634; // [!code --]
 // [!code --]
	public const int featRapidArrow = 1652;

	public const int featMagicManner = 1651; // [!code ++]
 // [!code ++]
	public const int featGourmet = 1650;

	public const int featRapidMagic = 1648; // [!code --]
	public const int featDefender = 1649; // [!code ++]

	public const int featSummoner = 1647;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FEAT.cs#L107-L125)
```cs:line-numbers=107

	public const int featFaith = 1636;

	public const int featMagicManner = 1651; // [!code --]
	public const int featMartial = 1635; // [!code ++]

	public const int featLuckyCat = 1412; // [!code --]
	public const int featSpotting = 1633; // [!code ++]

	public const int featBaby = 1232; // [!code --]
	public const int featEarthStrength = 1411; // [!code ++]

	public const int featReboot = 1410; // [!code --]
	public const int featCosmicHorror = 1233; // [!code ++]
 // [!code ++]
	public const int featBoost = 1409; // [!code ++]

	public const int featAdam = 1230;

	public const int featNirvana = 1231;

	public const int featCosmicHorror = 1233; // [!code --]
	public const int featBaby = 1232; // [!code ++]

	public const int featHeavyEater = 1234;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FEAT.cs#L141-L147)
```cs:line-numbers=141

	public const int featEternalYouth = 1243;

	public const int featEarthStrength = 1411; // [!code --]
	public const int featReboot = 1410; // [!code ++]

	public const int featSevenSense = 1245;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FEAT.cs#L157-L169)
```cs:line-numbers=157

	public const int featBadKarma = 1271;

	public const int featGoddess = 1290; // [!code --]
	public const int featPeacemaker = 1272; // [!code ++]

	public const int featGod_element1 = 1300; // [!code --]
	public const int featBloom = 1273; // [!code ++]

	public const int featGod_earth1 = 1305; // [!code --]
	public const int featGoddess = 1290; // [!code ++]

	public const int featGod_wind1 = 1310; // [!code --]
	public const int featGod_element1 = 1300; // [!code ++]

	public const int featLittleOne = 1229;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FEAT.cs#L197-L203)
```cs:line-numbers=197

	public const int featSnail = 1211;

	public const int featGod_machine1 = 1315; // [!code --]
	public const int featGod_earth1 = 1305; // [!code ++]

	public const int featFairyResist = 1212;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FEAT.cs#L227-L239)
```cs:line-numbers=227

	public const int featElea = 1213;

	public const int featGod_healing1 = 1320; // [!code --]
	public const int featGod_wind1 = 1310; // [!code ++]

	public const int featCentaur = 1244;

	public const int featGod_luck1 = 1330; // [!code --]
 // [!code --]
	public const int featPaladin = 1407; // [!code --]
	public const int featGod_healing1 = 1320; // [!code ++]

	public const int featTourist = 1406;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FEAT.cs#L245-L286)
```cs:line-numbers=245

	public const int featWizard = 1402;

	public const int featPaladin2 = 1408; // [!code --]
 // [!code --]
	public const int featThief = 1401;

	public const int featGod_harvest1 = 1325; // [!code --]
	public const int featWarrior = 1400; // [!code ++]

	public const int featGod_strife1 = 1355;

	public const int featGod_moonshadow1 = 1350;

	public const int featGod_machine1 = 1315; // [!code ++]
 // [!code ++]
	public const int featGod_trickery1 = 1345;

	public const int featGod_oblivion1 = 1340;

	public const int featGod_harmony1 = 1335;

	public const int featWarrior = 1400; // [!code --]
	public const int featGod_luck1 = 1330; // [!code ++]

	public const int featBoost = 1409; // [!code --]
	public const int featGod_harvest1 = 1325; // [!code ++]
 // [!code ++]
	public const int featPaladin = 1407; // [!code ++]
 // [!code ++]
	public const int featPaladin2 = 1408; // [!code ++]

	public static readonly int[] IDS = new int[131] // [!code --]
	public static readonly int[] IDS = new int[133] // [!code ++]
	{
		1622, 1623, 1624, 1625, 1630, 1627, 1628, 1629, 1621, 1626, // [!code --]
		1631, 1415, 1612, 1611, 1610, 1422, 1421, 1420, 1419, 1418, // [!code --]
		1417, 1416, 1632, 1414, 1620, 1633, 1649, 1635, 1413, 1662, // [!code --]
		1661, 1660, 1659, 1658, 1657, 1656, 1655, 1654, 1653, 1634, // [!code --]
		1652, 1650, 1648, 1647, 1646, 1645, 1644, 1643, 1642, 1641, // [!code --]
		1640, 1636, 1651, 1412, 1232, 1410, 1230, 1231, 1233, 1234, // [!code --]
		1235, 1236, 1237, 1238, 1239, 1240, 1241, 1242, 1243, 1411, // [!code --]
		1245, 1246, 1247, 1248, 1249, 1270, 1271, 1290, 1300, 1305, // [!code --]
		1310, 1229, 1228, 1227, 1226, 1200, 1201, 1202, 1203, 1204, // [!code --]
		1205, 1206, 1207, 1208, 1209, 1210, 1211, 1315, 1212, 1214, // [!code --]
		1215, 1216, 1217, 1218, 1219, 1220, 1221, 1222, 1223, 1224, // [!code --]
		1225, 1213, 1320, 1244, 1330, 1407, 1406, 1405, 1404, 1403, // [!code --]
		1402, 1408, 1401, 1325, 1355, 1350, 1345, 1340, 1335, 1400, // [!code --]
		1409 // [!code --]
		1621, 1622, 1623, 1624, 1629, 1626, 1627, 1628, 1620, 1625, // [!code ++]
		1630, 1414, 1611, 1610, 1422, 1421, 1420, 1419, 1418, 1417, // [!code ++]
		1416, 1415, 1631, 1413, 1612, 1632, 1648, 1634, 1412, 1662, // [!code ++]
		1661, 1660, 1659, 1658, 1657, 1656, 1655, 1654, 1653, 1652, // [!code ++]
		1651, 1650, 1649, 1647, 1646, 1645, 1644, 1643, 1642, 1641, // [!code ++]
		1640, 1636, 1635, 1633, 1411, 1233, 1409, 1230, 1231, 1232, // [!code ++]
		1234, 1235, 1236, 1237, 1238, 1239, 1240, 1241, 1242, 1243, // [!code ++]
		1410, 1245, 1246, 1247, 1248, 1249, 1270, 1271, 1272, 1273, // [!code ++]
		1290, 1300, 1229, 1228, 1227, 1226, 1200, 1201, 1202, 1203, // [!code ++]
		1204, 1205, 1206, 1207, 1208, 1209, 1210, 1211, 1305, 1212, // [!code ++]
		1214, 1215, 1216, 1217, 1218, 1219, 1220, 1221, 1222, 1223, // [!code ++]
		1224, 1225, 1213, 1310, 1244, 1320, 1406, 1405, 1404, 1403, // [!code ++]
		1402, 1401, 1400, 1355, 1350, 1315, 1345, 1340, 1335, 1330, // [!code ++]
		1325, 1407, 1408 // [!code ++]
	};
}
public class Feat : Element
```

## FOOD

[`public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/FOOD.cs#L2-L34)
```cs:line-numbers=2
{
	public const int creativeDish = 764;

	public const int food_poison = 702; // [!code --]
 // [!code --]
	public const int justcooked = 757; // [!code --]
	public const int food_god = 758; // [!code ++]

	public const int food_undead = 709; // [!code --]
	public const int food_CHA = 700; // [!code ++]

	public const int food_human = 708; // [!code --]
	public const int food_cat = 701; // [!code ++]

	public const int kirimi = 707; // [!code --]
	public const int food_love = 703; // [!code ++]

	public const int loseWeight = 706; // [!code --]
	public const int food_bug = 704; // [!code ++]

	public const int gainWeight = 705;

	public const int food_bug = 704; // [!code --]
	public const int food_poison = 702; // [!code ++]

	public const int food_love = 703; // [!code --]
	public const int kirimi = 707; // [!code ++]

	public const int food_god = 758; // [!code --]
	public const int food_human = 708; // [!code ++]

	public const int food_cat = 701; // [!code --]
	public const int food_undead = 709; // [!code ++]

	public const int food_CHA = 700; // [!code --]
	public const int justcooked = 757; // [!code ++]
 // [!code ++]
	public const int loseWeight = 706; // [!code ++]

	public static readonly int[] IDS = new int[13]
	{
		764, 702, 757, 709, 708, 707, 706, 705, 704, 703, // [!code --]
		758, 701, 700 // [!code --]
		764, 758, 700, 701, 703, 704, 705, 702, 707, 708, // [!code ++]
		709, 757, 706 // [!code ++]
	};
}
```

## Game

[`private void _OnDeserialized(StreamingContext context)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/Game.cs#L166-L171)
```cs:line-numbers=166
	[JsonProperty]
	public Version version;

	[JsonProperty] // [!code ++]
	public Version startVersion; // [!code ++]
 // [!code ++]
	[JsonProperty]
	public PartyManager parties = new PartyManager();

```

[`public void _Create()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/Game.cs#L772-L777)
```cs:line-numbers=772
	config.autoCombat.abortOnItemLoss = true;
	seed = EClass.rnd(10000);
	Debug.Log("creating game: " + id + " seed:" + seed);
	startVersion = EClass.core.version; // [!code ++]
	uniforms.Import();
	religions.OnCreateGame();
	factions.OnCreateGame();
```

## InvOwnerReconstruction

[`public override bool ShouldShowGuide(Thing t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/InvOwnerReconstruction.cs#L29-L41)
```cs:line-numbers=29
	{
		return false;
	}
	if (!t.IsEquipment) // [!code --]
	if (t.isReplica) // [!code ++]
	{
		return false;
	}
	if (t.isReplica) // [!code --]
	if (!t.IsEquipmentOrRanged) // [!code ++]
	{
		return false; // [!code --]
		return t.IsThrownWeapon; // [!code ++]
	}
	return true;
}
```

## MUTATION

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/MUTATION.cs#L1-L17)
```cs:line-numbers=1
public class MUTATION
{
	public const int mutationDexN = 1515; // [!code --]
 // [!code --]
	public const int mutationDex = 1514; // [!code --]
 // [!code --]
	public const int mutationRegen = 1516;

	public const int mutationSkinN = 1511; // [!code --]
 // [!code --]
	public const int mutationSkin = 1510;

	public const int mutationSkinN = 1511; // [!code ++]
 // [!code ++]
	public const int mutationEye = 1512;

	public const int mutationDex = 1514; // [!code ++]
 // [!code ++]
	public const int mutationDexN = 1515; // [!code ++]
 // [!code ++]
	public const int mutationRegenN = 1517;

	public const int mutationEyeN = 1513;
```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/MUTATION.cs#L82-L88)
```cs:line-numbers=82

	public static readonly int[] IDS = new int[40]
	{
		1515, 1514, 1516, 1511, 1510, 1512, 1517, 1513, 1519, 1565, // [!code --]
		1516, 1510, 1511, 1512, 1514, 1515, 1517, 1513, 1519, 1565, // [!code ++]
		1564, 1563, 1562, 1561, 1560, 1559, 1558, 1518, 1556, 1555,
		1554, 1553, 1552, 1551, 1557, 1533, 1550, 1521, 1522, 1523,
		1524, 1525, 1526, 1520, 1528, 1529, 1530, 1531, 1532, 1527
```

## Map

[`public void TrySmoothPick(Point p, Thing t, Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/Map.cs#L1812-L1818)
```cs:line-numbers=1812
	{
		EClass.pc.PickOrDrop(p, t);
	}
	else if (c != null && (c.pos.Equals(p) || EClass.core.config.game.smoothPick || EClass._zone.IsRegion)) // [!code --]
	else if (c != null && c.IsPC && (c.pos.Equals(p) || EClass.core.config.game.smoothPick || EClass._zone.IsRegion)) // [!code ++]
	{
		c.PickOrDrop(p, t);
	}
```

## POLICY

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/POLICY.cs#L33-L39)
```cs:line-numbers=33

	public const int mass_exhibition = 2814;

	public const int food_for_people = 2502; // [!code --]
	public const int faith_tax = 2501; // [!code ++]

	public const int bed_quality = 2812;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/POLICY.cs#L45-L59)
```cs:line-numbers=45

	public const int self_sufficient = 2511;

	public const int ban_radio = 2510; // [!code --]
 // [!code --]
	public const int vaccination = 2509;

	public const int stop_growth = 2515; // [!code --]
 // [!code --]
	public const int nocturnal_life = 2508;

	public const int human_right = 2506; // [!code --]
	public const int stop_growth = 2515; // [!code ++]
 // [!code ++]
	public const int inquisition = 2507; // [!code ++]

	public const int legal_drug = 2505;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/POLICY.cs#L61-L75)
```cs:line-numbers=61

	public const int prohibition = 2503;

	public const int food_for_people = 2502; // [!code ++]
 // [!code ++]
	public const int wealth_tax = 2500;

	public const int suite_room = 2813;

	public const int inquisition = 2507; // [!code --]
	public const int human_right = 2506; // [!code ++]

	public const int speed_growth = 2516;

	public const int faith_tax = 2501; // [!code --]
	public const int ban_radio = 2510; // [!code ++]

	public const int trash_sort = 2701;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/POLICY.cs#L77-L95)
```cs:line-numbers=77

	public const int open_business = 2810;

	public const int energy_conservation = 2700; // [!code ++]
 // [!code ++]
	public const int home_discount = 2800;

	public const int livestock_priv = 2715;

	public const int energy_conservation = 2700; // [!code --]
 // [!code --]
	public const int incomeTransfer = 2711; // [!code --]
	public const int forcePanty = 2712; // [!code ++]

	public const int noMother = 2710;

	public const int forcePanty = 2712; // [!code --]
	public const int noAnimal = 2709; // [!code ++]

	public const int noDM = 2708; // [!code --]
	public const int incomeTransfer = 2711; // [!code ++]

	public const int auto_farm = 2707;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/POLICY.cs#L103-L118)
```cs:line-numbers=103

	public const int trash_no = 2702;

	public const int noAnimal = 2709; // [!code --]
	public const int noDM = 2708; // [!code ++]

	public static readonly int[] IDS = new int[51]
	{
		2816, 2817, 2818, 2819, 2820, 2821, 2824, 2823, 2825, 2826,
		2827, 2828, 2815, 2822, 2814, 2502, 2812, 2514, 2513, 2512, // [!code --]
		2511, 2510, 2509, 2515, 2508, 2506, 2505, 2504, 2503, 2500, // [!code --]
		2813, 2507, 2516, 2501, 2701, 2811, 2810, 2800, 2715, 2700, // [!code --]
		2711, 2710, 2712, 2708, 2707, 2706, 2705, 2704, 2703, 2702, // [!code --]
		2709 // [!code --]
		2827, 2828, 2815, 2822, 2814, 2501, 2812, 2514, 2513, 2512, // [!code ++]
		2511, 2509, 2508, 2515, 2507, 2505, 2504, 2503, 2502, 2500, // [!code ++]
		2813, 2506, 2516, 2510, 2701, 2811, 2810, 2700, 2800, 2715, // [!code ++]
		2712, 2710, 2709, 2711, 2707, 2706, 2705, 2704, 2703, 2702, // [!code ++]
		2708 // [!code ++]
	};
}
public class Policy : EClass
```

## Party

[`using System;`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/Party.cs#L1-L3)
```cs:line-numbers=1
using System; // [!code ++]
using System.Collections.Generic;
using Newtonsoft.Json;
using UnityEngine;
```

[`public bool IsCriticallyWounded(bool includePc = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/Party.cs#L164-L170)
```cs:line-numbers=164
		return false;
	}

	public int EValue(int ele) // [!code --]
	public int EvalueBest(int ele) // [!code ++]
	{
		int num = 0;
		foreach (Chara member in members)
```

[`public int EValue(int ele)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/Party.cs#L177-L182)
```cs:line-numbers=177
		return num;
	}

	public int EvalueTotal(int ele, Func<Chara, bool> funcIf = null) // [!code ++]
	{ // [!code ++]
		int num = 0; // [!code ++]
		foreach (Chara member in members) // [!code ++]
		{ // [!code ++]
			if (funcIf == null || funcIf(member)) // [!code ++]
			{ // [!code ++]
				num += member.Evalue(ele); // [!code ++]
			} // [!code ++]
		} // [!code ++]
		return num; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public bool HasElement(int ele, bool excludePC = false)
	{
		foreach (Chara member in members)
```

## Player

[`public class Stats : EClass`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/Player.cs#L104-L109)
```cs:line-numbers=104
		[JsonProperty]
		public int death;

		[JsonProperty] // [!code ++]
		public int death2; // [!code ++]
 // [!code ++]
		[JsonProperty]
		public int allyDeath;

```

## SKILL

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/SKILL.cs#L1-L5)
```cs:line-numbers=1
public class SKILL
{
	public const int twohand = 130; // [!code ++]
 // [!code ++]
	public const int eyeofmind = 134;

	public const int marksman = 133;
```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/SKILL.cs#L8-L18)
```cs:line-numbers=8

	public const int twowield = 131;

	public const int twohand = 130; // [!code --]
 // [!code --]
	public const int shield = 123;

	public const int throwing = 108; // [!code --]
	public const int weaponDagger = 107; // [!code ++]

	public const int armorLight = 120;

```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/SKILL.cs#L22-L36)
```cs:line-numbers=22

	public const int weaponCrossbow = 109;

	public const int strategy = 135; // [!code --]
	public const int throwing = 108; // [!code ++]

	public const int weaponDagger = 107; // [!code --]
	public const int strategy = 135; // [!code ++]

	public const int armorHeavy = 122;

	public const int evasion = 150;

	public const int riding = 226; // [!code --]
	public const int climbing = 242; // [!code ++]

	public const int stealth = 152;

```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/SKILL.cs#L44-L49)
```cs:line-numbers=44

	public const int lumberjack = 225;

	public const int riding = 226; // [!code ++]
 // [!code ++]
	public const int parasite = 227;

	public const int digging = 230;
```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/SKILL.cs#L58-L65)
```cs:line-numbers=58

	public const int weaponPolearm = 106;

	public const int climbing = 242; // [!code --]
 // [!code --]
	public const int evasionPlus = 151;

	public const int weaponGun = 105;
```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/SKILL.cs#L268-L276)
```cs:line-numbers=268

	public static readonly int[] IDS = new int[133]
	{
		134, 133, 132, 131, 130, 123, 108, 120, 111, 110, // [!code --]
		109, 135, 107, 122, 150, 226, 152, 200, 207, 210, // [!code --]
		220, 225, 227, 230, 235, 237, 240, 241, 106, 242, // [!code --]
		130, 134, 133, 132, 131, 123, 107, 120, 111, 110, // [!code ++]
		109, 108, 135, 122, 150, 242, 152, 200, 207, 210, // [!code ++]
		220, 225, 226, 227, 230, 235, 237, 240, 241, 106, // [!code ++]
		151, 105, 73, 103, 50, 51, 55, 56, 57, 60,
		61, 64, 65, 66, 67, 68, 70, 71, 104, 72,
		74, 75, 76, 77, 78, 79, 80, 90, 91, 92,
```

## Scene

[`public void OnUpdate()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/Scene.cs#L647-L652)
```cs:line-numbers=647
								Tutorial.Reserve("death");
							}
							EMono.player.stats.death++;
							if (EMono.player.stats.days <= 90) // [!code ++]
							{ // [!code ++]
								EMono.player.stats.death2++; // [!code ++]
							} // [!code ++]
						}
						else
						{
```

## TraitDeliveryChest

[`public override bool CanOpenContainer`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/TraitDeliveryChest.cs#L14-L22)
```cs:line-numbers=14
	{
		if (owner.IsInstalled)
		{
			if (!EClass._zone.IsPCFaction && !EClass._zone.IsTown && !(EClass._zone is Zone_MerchantGuild) && !(EClass._zone is Zone_Casino)) // [!code --]
			if (!EClass._zone.IsPCFaction && !EClass._zone.IsTown && !(EClass._zone is Zone_MerchantGuild) && !(EClass._zone is Zone_Casino) && !(EClass._zone is Zone_CurryRuin)) // [!code ++]
			{
				return EClass._zone is Zone_CurryRuin; // [!code --]
				return EClass._zone.id == "startVillage2"; // [!code ++]
			}
			return true;
		}
```

## TraitFoodEggFertilized

[`public class TraitFoodEggFertilized : TraitFoodEgg`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/TraitFoodEggFertilized.cs#L7-L27)
```cs:line-numbers=7
public static Chara Incubate(Thing egg, Point pos, Card incubator = null)
{
	egg.SetSale(sale: false);
	string str = ""; // [!code --]
	string text = ""; // [!code ++]
	CardRow refCard = egg.refCard;
	if (refCard != null)
	{
		str = refCard.id; // [!code --]
		text = refCard.id; // [!code ++]
		if (refCard.id == "chara" || refCard.quality == 4)
		{
			str = ""; // [!code --]
			text = ""; // [!code ++]
		}
	}
	if (egg.IsDecayed)
	{
		str = "zombie"; // [!code --]
		text = "zombie"; // [!code ++]
	}
	Chara chara = CharaGen.Create(str.IsEmpty("chicken")); // [!code --]
	if (text == "cat_silver") // [!code ++]
	{ // [!code ++]
		text = "cat"; // [!code ++]
	} // [!code ++]
	Chara chara = CharaGen.Create(text.IsEmpty("chicken")); // [!code ++]
	EClass._zone.AddCard(chara, pos.GetNearestPoint(allowBlock: false, allowChara: false) ?? EClass.pc.pos);
	chara.SetLv(1);
	chara.SetMainElement(egg.c_idMainElement, 10, elemental: true);
```

## TraitLightSun

[`public override int radius`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/TraitLightSun.cs#L6-L26)
```cs:line-numbers=6
{
	get
	{
		if (EClass._map.IsIndoor) // [!code --]
		if (!owner.isOn && EClass._zone.electricity < -Electricity) // [!code ++]
		{
			if (!(owner.parent is Zone)) // [!code --]
			{ // [!code --]
				if (EClass._zone.electricity < -Electricity) // [!code --]
				{ // [!code --]
					return 1; // [!code --]
				} // [!code --]
				return 6; // [!code --]
			} // [!code --]
			if (!owner.isOn) // [!code --]
			{ // [!code --]
				return 1; // [!code --]
			} // [!code --]
			return 6; // [!code --]
			return 0; // [!code ++]
		}
		return 6;
	}
```

## TraitMonsterBall

[`public Chara chara`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/TraitMonsterBall.cs#L22-L30)
```cs:line-numbers=22

	public virtual bool IsDuponneBall => false;

	public virtual bool IsSilvercatBall => false; // [!code ++]
 // [!code ++]
	public override void OnCreate(int lv)
	{
		if (!IsLittleBall && !IsDuponneBall) // [!code --]
		if (!IsLittleBall && !IsDuponneBall && !IsSilvercatBall) // [!code ++]
		{
			owner.SetLv(1 + EClass.rnd(lv + 10));
		}
```

[`public override bool CanStackTo(Thing to)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/TraitMonsterBall.cs#L41-L52)
```cs:line-numbers=41

	public override void SetName(ref string s)
	{
		s = ((IsDuponneBall || IsLittleBall) ? "_littleBall" : "_monsterball").lang(s, owner.LV.ToString() ?? "", (chara == null) ? "_monsterball_empty".lang() : chara.Name); // [!code --]
		s = ((IsDuponneBall || IsLittleBall || IsSilvercatBall) ? "_littleBall" : "_monsterball").lang(s, owner.LV.ToString() ?? "", (chara == null) ? "_monsterball_empty".lang() : chara.Name); // [!code ++]
	}

	public override int GetValue()
	{
		if (IsLittleBall || IsDuponneBall) // [!code --]
		if (IsLittleBall || IsDuponneBall || IsSilvercatBall) // [!code ++]
		{
			return base.GetValue();
		}
```

## +TraitSilvercatBall

::: details File Created
```cs
public class TraitSilvercatBall : TraitMonsterBall
{
	public override bool IsSilvercatBall => true;
}
```

:::
## WidgetRoster

[`using System;`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/WidgetRoster.cs#L1-L5)
```cs:line-numbers=1
using System;
using System.Collections.Generic;
using System.Linq; // [!code ++]
using Newtonsoft.Json;
using UnityEngine;
using UnityEngine.UI;
```

[`public void Build()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/WidgetRoster.cs#L101-L112)
```cs:line-numbers=101
	layout.startCorner = (extra.reverse ? GridLayoutGroup.Corner.LowerRight : GridLayoutGroup.Corner.UpperLeft);
	layout.cellSize = new Vector2(extra.width * 4 / 5, extra.onlyName ? 32 : extra.width);
	layout.spacing = new Vector2(extra.margin, extra.margin);
	foreach (Chara member in EMono.pc.party.members) // [!code --]
	List<Chara> list = EMono.pc.party.members.ToList(); // [!code ++]
	if (!extra.pc) // [!code ++]
	{
		if (member != EMono.pc || extra.pc) // [!code --]
		{ // [!code --]
			Add(member); // [!code --]
		} // [!code --]
		list.Remove(EMono.pc); // [!code ++]
	} // [!code ++]
	list.Sort(delegate(Chara a, Chara b) // [!code ++]
	{ // [!code ++]
		int @int = a.GetInt(19); // [!code ++]
		int int2 = b.GetInt(19); // [!code ++]
		return (@int == int2) ? (EMono.pc.party.members.IndexOf(a) - EMono.pc.party.members.IndexOf(b)) : (int2 * 1000 - @int * 1000); // [!code ++]
	}); // [!code ++]
	foreach (Chara item in list) // [!code ++]
	{ // [!code ++]
		Add(item); // [!code ++]
	}
	if (buttons.Count == 0)
	{
```

[`public void OnRemoveMember(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/WidgetRoster.cs#L171-L195)
```cs:line-numbers=171
public override void OnSetContextMenu(UIContextMenu m)
{
	ButtonRoster b = InputModuleEX.GetComponentOf<ButtonRoster>();
	int index; // [!code --]
	if ((bool)b)
	{
		index = EMono.pc.party.members.IndexOf(b.chara); // [!code --]
		int count = EMono.pc.party.members.Count; // [!code --]
		if (index >= 1 && index < count - 1) // [!code --]
		m.AddSlider("priority_hint", (float a) => a.ToString() ?? "", b.chara.GetInt(19), delegate(float a) // [!code ++]
		{
			m.AddButton("next", delegate // [!code --]
			{ // [!code --]
				Move(1); // [!code --]
			}); // [!code --]
		} // [!code --]
		if (index >= 2) // [!code --]
		{ // [!code --]
			m.AddButton("prev", delegate // [!code --]
			{ // [!code --]
				Move(-1); // [!code --]
			}); // [!code --]
		} // [!code --]
			b.chara.SetInt(19, (int)a); // [!code ++]
			Build(); // [!code ++]
		}, 0f, 20f, isInt: true, hideOther: false); // [!code ++]
	}
	UIContextMenu uIContextMenu = m.AddChild("setting");
	uIContextMenu.AddSlider("width", (float a) => a.ToString() ?? "", extra.width, delegate(float a)
```

[`public override void OnSetContextMenu(UIContextMenu m)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/WidgetRoster.cs#L233-L242)
```cs:line-numbers=233
			ApplySkin();
		}, 0f, base.config.skin.Skin.buttons.Count - 1, isInt: true);
		SetBaseContextMenu(m);
		void Move(int mod) // [!code --]
		{ // [!code --]
			EMono.pc.party.Replace(b.chara, index + mod); // [!code --]
			Build(); // [!code --]
		} // [!code --]
	}
}
```

## ZoneEventDefenseGame

[`public void NextWave(int add = 0)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0a1450f8bf6257c4a5de6ca335e56a91a1b99cdd/Elin/ZoneEventDefenseGame.cs#L83-L89)
```cs:line-numbers=83
{
	wave++;
	turns = 0;
	EClass._zone._dangerLv += ((EClass._zone.DangerLv >= 100) ? (EClass._zone.DangerLv / 100 * 5 + 5) : 5); // [!code --]
	long num = EClass._zone._dangerLv + ((EClass._zone.DangerLv >= 100) ? (EClass._zone.DangerLv / 100 * 5 + 5) : 5); // [!code ++]
	if (num >= 2000000000) // [!code ++]
	{ // [!code ++]
		num = 2000000000L; // [!code ++]
	} // [!code ++]
	EClass._zone._dangerLv = (int)num; // [!code ++]
	SE.Play("warhorn");
	Msg.Say("warhorn");
	Msg.Say("defense_wave", wave.ToString() ?? "", EClass._zone.DangerLv.ToString() ?? "");
```
