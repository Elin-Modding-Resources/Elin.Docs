---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 19 files modified. 2 new files created.
version: EA 23.185 Nightly Patch 1
changes: Chara/CoreDebug/Game/GamePrincipal/LayerWorldSetting/SerializedCards/Spatial/WidgetDate/Zone/+ZoneScaleType/Zone_Arena/Zone_CursedManorDungeon/Zone_DungeonFairy/Zone_Lesimas/Zone_Lysanas/Zone_Nymelle/+Zone_QuestDungeon/Zone_RandomDungeon/Zone_UnderseaTemple/Zone_VernisMine/Zone_Void
---

# EA 23.185 Nightly Patch 1

August 21, 2025

19 files modified. 2 new files created.

## Important Changes

**None.**
## Chara

[`public override void OnCreate(int genLv)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Chara.cs#L1665-L1670)
```cs:line-numbers=1665
		isCreated = true;
	}

	public Chara ScaleByPrincipal() // [!code ++]
	{ // [!code ++]
		if (EClass.game.principal.scaleQuest && EClass._zone.DangerLvBoost != 0) // [!code ++]
		{ // [!code ++]
			SetLv(base.LV + EClass._zone.DangerLvBoost); // [!code ++]
			things.DestroyAll(); // [!code ++]
			TryRestock(onCreate: true); // [!code ++]
		} // [!code ++]
		return this; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public void SetFaith(string id)
	{
		SetFaith(EClass.game.religions.dictAll[id]);
```

## CoreDebug

[`public void UpdateInput()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/CoreDebug.cs#L940-L945)
```cs:line-numbers=940
			EClass.pc.Pick(targetChara.MakeEgg(effect: true, 10));
			targetChara.ModAffinity(EClass.pc, 10000);
		}
		targetChara.ScaleByPrincipal(); // [!code ++]
		if (EClass.game.quests.Get<QuestDebt>() == null)
		{
			Chara chara = CharaGen.Create("loytel");
```

## Game

[`public void OnLoad()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Game.cs#L450-L455)
```cs:line-numbers=450
		}
	});
	TryAddQuest("into_darkness", "exile_kettle");
	if (version.IsBelow(0, 23, 185)) // [!code ++]
	{ // [!code ++]
		player.resetPrincipal = true; // [!code ++]
	} // [!code ++]
	if (version.IsBelow(0, 23, 182))
	{
		foreach (Chara value2 in cards.globalCharas.Values)
```

[`public void OnLoad()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Game.cs#L475-L481)
```cs:line-numbers=475
	if (version.IsBelow(0, 23, 96))
	{
		EClass.game.principal = IO.DeepCopy(EClass.setting.start.principals[0]);
		player.resetPrincipal = true; // [!code --]
	}
	if (player.resetPrincipal)
	{
```

## GamePrincipal

[`public void SetInt(int value)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/GamePrincipal.cs#L144-L149)
```cs:line-numbers=144
	[JsonProperty]
	public bool disableUsermapBenefit;

	[JsonProperty] // [!code ++]
	public bool scaleQuest; // [!code ++]
 // [!code ++]
	[JsonProperty]
	public bool realAdv;

```

[`public List<Item> ListItems()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/GamePrincipal.cs#L179-L184)
```cs:line-numbers=179
	{
		disableUsermapBenefit = a;
	});
	Add(1, Type.Oath, "scaleQuest", () => scaleQuest, delegate(bool a) // [!code ++]
	{ // [!code ++]
		scaleQuest = a; // [!code ++]
	}); // [!code ++]
	Add(3, Type.Oath, "permadeath", () => permadeath, delegate(bool a)
	{
		permadeath = a;
```

## LayerWorldSetting

[`public class LayerWorldSetting : ELayer`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/LayerWorldSetting.cs#L55-L60)
```cs:line-numbers=55

	public Transform transMold;

	public Transform transHint; // [!code ++]
 // [!code ++]
	public List<Sprite> sprites;

	private bool started;
```

[`public override void OnInit()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/LayerWorldSetting.cs#L77-L82)
```cs:line-numbers=77
{
	buttonEmbark.SetActive(IsEmbark);
	buttonWorkaround.SetActive(enable: true);
	transHint.SetActive(IsEmbark); // [!code ++]
	if (IsEmbark)
	{
		ELayer.game.principal.modified.Clear();
```

## SerializedCards

[`public void Restore(Map map, Map orgMap, bool addToZone, PartialMap partial = nu`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/SerializedCards.cs#L769-L774)
```cs:line-numbers=769
				card2.ApplyBacker(card2.c_idBacker);
			}
			card2.SetObj(5, null);
			if (EClass._zone.ShouldScaleImportedChara(card2.Chara)) // [!code ++]
			{ // [!code ++]
				card2.Chara.ScaleByPrincipal(); // [!code ++]
			} // [!code ++]
		}
		if (card2.trait is TraitFakeBlock)
		{
```

## Spatial

[`public int mapY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Spatial.cs#L474-L479)
```cs:line-numbers=474

	public virtual int DangerLvFix => 0;

	public virtual int DangerLvBoost => 0; // [!code ++]
 // [!code ++]
	public virtual float VolumeSea
	{
		get
```

## WidgetDate

[`public void _Refresh()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/WidgetDate.cs#L65-L70)
```cs:line-numbers=65
	if (extra.loc)
	{
		text = text + " " + EMono._zone.NameWithLevel;
		if (EMono._zone is Zone_Dungeon) // [!code ++]
		{ // [!code ++]
			text += EMono._zone.TextDangerLv; // [!code ++]
		} // [!code ++]
		if (EMono._zone.isClaimable && !EMono._zone.IsPCFaction)
		{
			text += "(";
```

[`public void _Refresh()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/WidgetDate.cs#L90-L96)
```cs:line-numbers=90
	}
	if (EMono.debug.showExtra)
	{
		text = text + " (" + EMono._zone.biome.name + "/Lv:" + EMono._zone.lv + "/Danger:" + EMono._zone.DangerLv + "/_danger:" + EMono._zone._dangerLv + "/elec:" + EMono._zone.electricity + ")"; // [!code --]
		text = text + " <size=12>(" + EMono._zone.biome.name + "/Lv:" + EMono._zone.lv + "/Danger:" + EMono._zone.DangerLv + "/_danger:" + EMono._zone._dangerLv + "/elec:" + EMono._zone.electricity + ")</size>"; // [!code ++]
		if (EMono._zone.IsInstance)
		{
			text += "Instance";
```

## Zone

[`public virtual bool UseLight`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone.cs#L403-L408)
```cs:line-numbers=403

	public virtual int StartLV => 0;

	public virtual ZoneScaleType ScaleType => ZoneScaleType.None; // [!code ++]
 // [!code ++]
	public virtual bool ScaleMonsterLevel => false;

	public virtual bool HiddenInRegionMap => false;
```

[`public override string NameSuffix`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone.cs#L423-L428)
```cs:line-numbers=423

	public string NameWithLevel => Name + TextLevel(base.lv);

	public string TextDangerLv => "dangerLv".lang(DangerLv + ((DangerLvBoost == 0) ? "" : ("<size=15> +" + DangerLvBoost + "</size>"))); // [!code ++]
 // [!code ++]
	public string TextDeepestLv
	{
		get
```

[`public bool CanInspect`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone.cs#L499-L505)
```cs:line-numbers=499
		}
	}

	public string InspectName => Name + ((IsTown || IsPCFaction || this is Zone_Civilized) ? "" : "dangerLv".lang(DangerLv.ToString() ?? "")); // [!code --]
	public string InspectName => Name + ((IsTown || IsPCFaction || this is Zone_Civilized) ? "" : TextDangerLv); // [!code ++]

	public Point InspectPoint => null;

```

[`public virtual string GetDungenID()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone.cs#L532-L537)
```cs:line-numbers=532
		return null;
	}

	public virtual bool ShouldScaleImportedChara(Chara c) // [!code ++]
	{ // [!code ++]
		return false; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public virtual string GetNewZoneID(int level)
	{
		return base.source.id;
```

[`public Chara SpawnMob(Point pos = null, SpawnSetting setting = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone.cs#L2718-L2724)
```cs:line-numbers=2718
		idEle = setting.idEle
	};
	int num = ((setting.filterLv == -1) ? dangerLv : setting.filterLv);
	if (ScaleMonsterLevel) // [!code --]
	if (ScaleType == ZoneScaleType.Void) // [!code ++]
	{
		num = ((dangerLv - 1) % 50 + 5) * 150 / 100;
		if (num >= 20 && EClass.rnd(100) < num)
```

[`public Chara SpawnMob(Point pos = null, SpawnSetting setting = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone.cs#L2728-L2737)
```cs:line-numbers=2728
	}
	CardRow cardRow = (setting.id.IsEmpty() ? spawnList.Select(num, setting.levelRange) : EClass.sources.cards.map[setting.id]);
	int num2 = ((setting.fixedLv == -1) ? cardRow.LV : setting.fixedLv);
	if (ScaleMonsterLevel) // [!code --]
	if (ScaleType == ZoneScaleType.Void) // [!code ++]
	{
		num2 = (50 + cardRow.LV) * Mathf.Max(1, (dangerLv - 1) / 50);
	}
	num2 += DangerLvBoost; // [!code ++]
	if (setting.rarity == Rarity.Random)
	{
		if (EClass.rnd(100) == 0)
```

## +ZoneScaleType

::: details File Created
```cs
public enum ZoneScaleType
{
	None,
	Void,
	Quest
}
```

:::
## Zone_Arena

[`public class Zone_Arena : Zone`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone_Arena.cs#L4-L10)
```cs:line-numbers=4

	public override bool AllowCriminal => true;

	public override bool ScaleMonsterLevel => base._dangerLv >= 51; // [!code --]
	public override ZoneScaleType ScaleType // [!code ++]
	{ // [!code ++]
		get // [!code ++]
		{ // [!code ++]
			if (base._dangerLv <= 50) // [!code ++]
			{ // [!code ++]
				return ZoneScaleType.None; // [!code ++]
			} // [!code ++]
			return ZoneScaleType.Void; // [!code ++]
		} // [!code ++]
	} // [!code ++]

	public override bool MakeTownProperties => true;

```

## Zone_CursedManorDungeon

[`public class Zone_CursedManorDungeon : Zone_Dungeon`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone_CursedManorDungeon.cs#L1-L4)
```cs:line-numbers=1
public class Zone_CursedManorDungeon : Zone_Dungeon // [!code --]
public class Zone_CursedManorDungeon : Zone_QuestDungeon // [!code ++]
{
	public const int LvBoss = -6;

```

## Zone_DungeonFairy

[`public class Zone_DungeonFairy : Zone_Dungeon`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone_DungeonFairy.cs#L1-L4)
```cs:line-numbers=1
public class Zone_DungeonFairy : Zone_Dungeon // [!code --]
public class Zone_DungeonFairy : Zone_QuestDungeon // [!code ++]
{
	public override int MinLv => LvBoss;

```

[`public override void OnGenerateMap()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone_DungeonFairy.cs#L31-L38)
```cs:line-numbers=31
{
	if (IsBossLv)
	{
		Chara t = CharaGen.Create("fairy_poina"); // [!code --]
		Chara t2 = CharaGen.Create("fairy_raina"); // [!code --]
		Chara t = CharaGen.Create("fairy_poina").ScaleByPrincipal(); // [!code ++]
		Chara t2 = CharaGen.Create("fairy_raina").ScaleByPrincipal(); // [!code ++]
		Point point = EClass._map.FindThing<TraitStairsUp>().owner.pos.GetNearestPoint(allowBlock: false, allowChara: false, allowInstalled: false, ignoreCenter: true, 5) ?? EClass._map.GetCenterPos();
		AddCard(t, point);
		AddCard(t2, point.GetNearestPoint(allowBlock: false, allowChara: false, allowInstalled: false) ?? point);
```

## Zone_Lesimas

[`public class Zone_Lesimas : Zone_Dungeon`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone_Lesimas.cs#L1-L3)
```cs:line-numbers=1
public class Zone_Lesimas : Zone_Dungeon // [!code --]
public class Zone_Lesimas : Zone_QuestDungeon // [!code ++]
{
}
```

## Zone_Lysanas

[`public class Zone_Lysanas : Zone_Dungeon`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone_Lysanas.cs#L1-L3)
```cs:line-numbers=1
public class Zone_Lysanas : Zone_Dungeon // [!code --]
public class Zone_Lysanas : Zone_QuestDungeon // [!code ++]
{
}
```

## Zone_Nymelle

[`public class Zone_Nymelle : Zone_Dungeon`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone_Nymelle.cs#L1-L4)
```cs:line-numbers=1
public class Zone_Nymelle : Zone_Dungeon // [!code --]
public class Zone_Nymelle : Zone_QuestDungeon // [!code ++]
{
	public override string idExport
	{
```

## +Zone_QuestDungeon

::: details File Created
```cs
using UnityEngine;

public class Zone_QuestDungeon : Zone_Dungeon
{
	public bool ShouldScale => EClass.game.principal.scaleQuest;

	public override ZoneScaleType ScaleType => ZoneScaleType.Quest;

	public override int DangerLvBoost
	{
		get
		{
			if (!ShouldScale)
			{
				return 0;
			}
			return Mathf.Max(0, EClass.pc.FameLv * 2 / 3 - DangerLv);
		}
	}

	public override bool ShouldScaleImportedChara(Chara c)
	{
		if (ShouldScale && c.rarity >= Rarity.Legendary)
		{
			return c.IsHostile();
		}
		return false;
	}
}
```

:::
## Zone_RandomDungeon

[`public class Zone_RandomDungeon : Zone_Dungeon`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone_RandomDungeon.cs#L10-L16)
```cs:line-numbers=10

	public override int MinLv => LvBoss;

	public override bool ScaleMonsterLevel => DangerLv >= 200; // [!code --]
	public override ZoneScaleType ScaleType // [!code ++]
	{ // [!code ++]
		get // [!code ++]
		{ // [!code ++]
			if (DangerLv < 200) // [!code ++]
			{ // [!code ++]
				return ZoneScaleType.None; // [!code ++]
			} // [!code ++]
			return ZoneScaleType.Void; // [!code ++]
		} // [!code ++]
	} // [!code ++]

	public override string IDPlayList
	{
```

## Zone_UnderseaTemple

[`public class Zone_UnderseaTemple : Zone_Dungeon`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone_UnderseaTemple.cs#L1-L4)
```cs:line-numbers=1
public class Zone_UnderseaTemple : Zone_Dungeon // [!code --]
public class Zone_UnderseaTemple : Zone_QuestDungeon // [!code ++]
{
	public override bool IsUnderwater => true;

```

## Zone_VernisMine

[`using UnityEngine;`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone_VernisMine.cs#L1-L11)
```cs:line-numbers=1
using UnityEngine; // [!code --]
 // [!code --]
public class Zone_VernisMine : Zone_Dungeon // [!code --]
public class Zone_VernisMine : Zone_QuestDungeon // [!code ++]
{
	public const int LvBoss = -8;

	public bool IsBossLv => base.lv == -8;

	public override int DangerLv => base.DangerLv + 5; // [!code ++]
 // [!code ++]
	public override bool LockExit
	{
		get
```

[`public override string idExport`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone_VernisMine.cs#L32-L41)
```cs:line-numbers=32
		}
	}

	public override int ContentLv => DangerLv; // [!code --]
 // [!code --]
	public override int DangerLv => 5 + Mathf.Abs(base.lv); // [!code --]
 // [!code --]
	public override string GetDungenID()
	{
		return "DungeonMine";
```

## Zone_Void

[`public override string TextWidgetDate`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/2067cf4c2da9ed80d484236ef397c86be4375f5b/Elin/Zone_Void.cs#L26-L32)
```cs:line-numbers=26

	public override int MinLv => -10000;

	public override bool ScaleMonsterLevel => true; // [!code --]
	public override ZoneScaleType ScaleType => ZoneScaleType.Void; // [!code ++]

	public override bool LockExit => IsBossLV;

```
