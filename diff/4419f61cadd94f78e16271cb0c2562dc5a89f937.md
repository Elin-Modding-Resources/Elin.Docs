---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 7 files modified.
version: EA 23.269 Nightly Patch 3
changes: Chara/CharaGenes/DNA/GoalAutoCombat/GoalCombat/TraitGene/WindowCharaMini
---

# EA 23.269 Nightly Patch 3

February 12, 2026

7 files modified.

## Important Changes

Possible breaking changes. Click the filename to view the chunk.
### [DNA (2)](#dna)
```cs:no-line-numbers
public bool CanRemove() // [!code --]
public bool CanRemove(Chara c) // [!code ++]
```
```cs:no-line-numbers
public void WriteNote(UINote n) // [!code --]
public void WriteNote(UINote n, Chara tg = null) // [!code ++]
```
## Chara

[`public int GeneCostMTP`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/4419f61cadd94f78e16271cb0c2562dc5a89f937/Elin/Chara.cs#L1077-L1083)
```cs:line-numbers=1077
			{
				return 100;
			}
			return 20; // [!code --]
			return 5; // [!code ++]
		}
	}

```

[`public bool UseAbility(Act a, Card tc = null, Point pos = null, bool pt = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/4419f61cadd94f78e16271cb0c2562dc5a89f937/Elin/Chara.cs#L5934-L5940)
```cs:line-numbers=5934
	{
		num3 = 1 + Evalue(1648);
	}
	if (IsPC && cost.cost > 0 && a.Value == 0) // [!code --]
	if (IsPC && cost.cost > 0 && a.Value == 0 && !ability.Has(a.id)) // [!code ++]
	{
		Msg.SayNothingHappen();
		return false;
```

[`public bool UseAbility(Act a, Card tc = null, Point pos = null, bool pt = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/4419f61cadd94f78e16271cb0c2562dc5a89f937/Elin/Chara.cs#L5946-L5952)
```cs:line-numbers=5946
		{
			Say(race.castStyle.IsEmpty("cast"), this, a.source.GetName().ToLower(), s.lang());
		}
		if (IsPC) // [!code --]
		if (IsPC && !ability.Has(a.id)) // [!code ++]
		{
			_ = (i + 1) / 2;
			if (a.vPotential < i)
```

## CharaGenes

[`public int GetGeneSlot(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/4419f61cadd94f78e16271cb0c2562dc5a89f937/Elin/CharaGenes.cs#L46-L49)
```cs:line-numbers=46
		}
		return num;
	}
 // [!code ++]
	public DNA GetDNA(int idEle) // [!code ++]
	{ // [!code ++]
		foreach (DNA item in items) // [!code ++]
		{ // [!code ++]
			for (int i = 0; i < item.vals.Count; i += 2) // [!code ++]
			{ // [!code ++]
				if (item.vals[i] == idEle) // [!code ++]
				{ // [!code ++]
					return item; // [!code ++]
				} // [!code ++]
			} // [!code ++]
		} // [!code ++]
		return null; // [!code ++]
	} // [!code ++]
}
```

## DNA

[`public void Apply(Chara c, bool reverse)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/4419f61cadd94f78e16271cb0c2562dc5a89f937/Elin/DNA.cs#L248-L261)
```cs:line-numbers=248
		}
	}

	public bool CanRemove() // [!code --]
	public bool CanRemove(Chara c) // [!code ++]
	{
		for (int i = 0; i < vals.Count; i += 2)
		{
			int num = vals[i]; // [!code --]
			if (num == 1237 || num == 1415) // [!code --]
			switch (vals[i]) // [!code ++]
			{
			case 1237: // [!code ++]
			case 1415: // [!code ++]
				return false;
			case 1228: // [!code ++]
				return !c.IsPC; // [!code ++]
			}
		}
		return true;
```

[`public string GetText()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/4419f61cadd94f78e16271cb0c2562dc5a89f937/Elin/DNA.cs#L561-L573)
```cs:line-numbers=561
		return "gene".lang(text.ToTitleCase(), cost.ToString() ?? "");
	}

	public void WriteNote(UINote n) // [!code --]
	public void WriteNote(UINote n, Chara tg = null) // [!code ++]
	{
		if (slot >= 1)
		{
			n.AddText("isGeneReqSlots".lang(slot.ToString() ?? ""), FontColor.Warning);
		}
		if (!CanRemove()) // [!code --]
		if (!CanRemove(tg)) // [!code ++]
		{
			n.AddText("isPermaGene".lang(), FontColor.Warning);
		}
```

[`public Element GetInvalidFeat(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/4419f61cadd94f78e16271cb0c2562dc5a89f937/Elin/DNA.cs#L653-L659)
```cs:line-numbers=653
	for (int i = 0; i < vals.Count; i += 2)
	{
		Element element = Element.Create(vals[i], vals[i + 1]);
		if (c.IsPC && element.id == 1415) // [!code --]
		if (c.IsPC && !CanRemove(c)) // [!code ++]
		{
			return element;
		}
```

## GoalAutoCombat

[`public void GetAbilities(Func<Element, bool> func)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/4419f61cadd94f78e16271cb0c2562dc5a89f937/Elin/GoalAutoCombat.cs#L117-L129)
```cs:line-numbers=117
	public override void BuildAbilityList()
	{
		GetAbilities((Element e) => e.source.abilityType.Length != 0);
		AddAbility(ACT.Ranged); // [!code --]
		AddAbility(ACT.Melee); // [!code --]
		AddAbility(ACT.Item); // [!code --]
		if (owner.HasCondition<ConBrightnessOfLife>()) // [!code --]
		{ // [!code --]
			TryAddAbility(6410); // [!code --]
		} // [!code --]
		base.BuildAbilityList(); // [!code ++]
	}

	public override bool TryAbortCombat()
```

## GoalCombat

[`public virtual bool TryUseAbility(int dist, bool beforeMove = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/4419f61cadd94f78e16271cb0c2562dc5a89f937/Elin/GoalCombat.cs#L915-L921)
```cs:line-numbers=915
		{
			if (owner.IsPC)
			{
				if (act.vPotential <= 0) // [!code --]
				if (act.vPotential <= 0 && !owner.ability.Has(act.id)) // [!code ++]
				{
					continue;
				}
```

[`int HealFactor(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/4419f61cadd94f78e16271cb0c2562dc5a89f937/Elin/GoalCombat.cs#L988-L994)
```cs:line-numbers=988
		}
		if (EClass.debug.logCombat && owner.IsPC)
		{
			Debug.Log(ability2.act.Name + "/" + ability2.priority); // [!code --]
			Debug.Log(ability2.act.Name + "/" + ability2.priority + "/" + ability2.act.CanPerform(owner, ability2.tg ?? tc)); // [!code ++]
		}
		if (ability2.act.source.alias == "ActRanged")
		{
```

[`int HealFactor(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/4419f61cadd94f78e16271cb0c2562dc5a89f937/Elin/GoalCombat.cs#L1045-L1051)
```cs:line-numbers=1045
		Debug.Log(owner.Name + "/" + abilities.Count);
		foreach (ItemAbility ability3 in abilities)
		{
			Debug.Log(ability3.act.Name + "/" + ability3.priority); // [!code --]
			Debug.Log(ability3.act.Name + "/" + ability3.priority + "/" + ability3.act.CanPerform(owner, ability3.tg ?? tc)); // [!code ++]
		}
	}
	return false;
```

## TraitGene

[`public override void WriteNote(UINote n, bool identified)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/4419f61cadd94f78e16271cb0c2562dc5a89f937/Elin/TraitGene.cs#L30-L36)
```cs:line-numbers=30
		{
			n.AddText("duration:" + owner.c_DNA.GetDurationHour());
		}
		owner.c_DNA.WriteNote(n); // [!code --]
		owner.c_DNA.WriteNote(n, flag ? EClass.pc : null); // [!code ++]
		if (flag)
		{
			owner.c_DNA.WriteNoteExtra(n, EClass.pc);
```

## WindowCharaMini

[`public void Refresh(int idTab)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/4419f61cadd94f78e16271cb0c2562dc5a89f937/Elin/WindowCharaMini.cs#L226-L232)
```cs:line-numbers=226
				});
				uIItem.button2.SetOnClick(delegate
				{
					if (!g.CanRemove()) // [!code --]
					if (!g.CanRemove(chara)) // [!code ++]
					{
						SE.Beep();
					}
```
