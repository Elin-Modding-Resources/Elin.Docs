---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 29 files modified. 2 new files created.
version: EA 23.231 Nightly
changes: AI_Fish/AI_PlayMusic/AI_Steal/ActEffect/ActRanged/AnimeID/CINT/Card/Chara/DramaActor/DramaCustomSequence/DramaManager/DramaOutcome/EffectId/FACTION/FEAT/LayerDragGrid/POLICY/Party/RenderRow/SpriteReplacer/TaskChopWood/Thing/ThingContainer/Trait/TraitGeyser/+TraitKeeperOfGarden/TraitToolRange/+TraitToolRangeGunGravity/TraitToolRangeGunRocket/TraitUniqueCharaNoJoin
---

# EA 23.231 Nightly

November 7, 2025

29 files modified. 2 new files created.

## Important Changes

Possible breaking changes. Click the filename to view the chunk.
### [Party (1)](#party)
```cs:no-line-numbers
public bool HasElement(int ele) // [!code --]
public bool HasElement(int ele, bool excludePC = false) // [!code ++]
```
### [SpriteReplacer (1)](#spritereplacer)
```cs:no-line-numbers
public bool HasSprite(string id) // [!code --]
public bool HasSprite(string id, RenderData renderData = null) // [!code ++]
```
## AI_Fish

[`public static Thing Makefish(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/AI_Fish.cs#L413-L418)
```cs:line-numbers=413
			c.Say("bigCatch", c);
		}
		num2 = (num7 ? num5 : EClass.rnd(num5)) / (num4 + 1) + 1;
		if (EClass.debug.enable || (thing.id == "65" && EClass.rnd(c.IsPC ? 8192 : 819200) == 0)) // [!code ++]
		{ // [!code ++]
			thing = ThingGen.Create("65_gold", -1, lv); // [!code ++]
			num2 = 1; // [!code ++]
		} // [!code ++]
		if (num4 != 0)
		{
			thing.SetTier(num4);
```

## AI_PlayMusic

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/AI_PlayMusic.cs#L280-L286)
```cs:line-numbers=280
					}
				}
				List<Chara> list = owner.pos.ListWitnesses(owner, 4, WitnessType.music);
				int num = owner.Evalue(241) * (100 + toolLv) / 100; // [!code --]
				int num = (owner.Evalue(241) + tool?.Evalue(241)).Value * (100 + toolLv) / 100; // [!code ++]
				int num2 = 0;
				foreach (Chara item2 in list)
				{
```

[`public void ThrowReward(Chara c, bool punish)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/AI_PlayMusic.cs#L574-L581)
```cs:line-numbers=574
		}
		if (thing.id == "money" && !owner.IsPC)
		{
			int num2 = (owner.Evalue(241) * 10 + 100) / ((owner.IsPCFaction && owner.memberType == FactionMemberType.Default) ? 1 : 10); // [!code --]
			if (owner.GetCurrency() - num2 > 0) // [!code --]
			int? obj = ((owner.Evalue(241) + tool?.Evalue(241)) * 10 + 100) / ((owner.IsPCFaction && owner.memberType == FactionMemberType.Default) ? 1 : 10); // [!code ++]
			if (owner.GetCurrency() - obj > 0) // [!code ++]
			{
				owner.c_allowance += num;
				owner.ModCurrency(-num);
```

## AI_Steal

[`public override bool Perform()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/AI_Steal.cs#L56-L66)
```cs:line-numbers=56
public override IEnumerable<Status> Run()
{
	Chara chara = target.Chara;
	bool negate = chara != null && chara.HasElement(426); // [!code ++]
	if (chara != null)
	{
		if (chara.HasElement(426)) // [!code --]
		if (negate && owner.Evalue(1662) == 0) // [!code ++]
		{
			chara.Say("abStealNegate", chara); // [!code --]
			owner.Say("abStealNegate", chara); // [!code ++]
			yield return Cancel();
		}
		target = chara.things.FindStealable();
```

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/AI_Steal.cs#L162-L167)
```cs:line-numbers=162
						{
							num2 *= 2;
						}
						if (negate) // [!code ++]
						{ // [!code ++]
							num2 *= 2; // [!code ++]
						} // [!code ++]
						return EClass.rnd(num2) > owner.Evalue(281) + owner.DEX + num;
					}))
					{
```

## ActEffect

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L51-L57)
```cs:line-numbers=51
	Point point = CC.pos.Copy();
	List<Card> list = new List<Card>();
	bool flag = false;
	if ((id == EffectId.Explosive || id == EffectId.Rocket) && actref.refThing != null) // [!code --]
	if ((id == EffectId.Explosive || id == EffectId.Rocket || id == EffectId.GravityGun) && actref.refThing != null) // [!code ++]
	{
		power = power * actref.refThing.material.hardness / 10;
	}
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L65-L70)
```cs:line-numbers=65
		{
		case EffectId.Explosive:
		case EffectId.Rocket:
		case EffectId.GravityGun: // [!code ++]
			text2 = "ball_";
			flag = false;
			break;
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L128-L134)
```cs:line-numbers=128
		}
		default:
		{
			effect = Effect.Get("Element/ball_" + ((e.id == 0) ? "Void" : e.source.alias.Remove(0, 3))); // [!code --]
			effect = Effect.Get("Element/ball_" + ((e.id == 0) ? "Void" : ((id == EffectId.GravityGun) ? "Gravity" : e.source.alias.Remove(0, 3)))); // [!code ++]
			if (effect == null)
			{
				effect = Effect.Get("Element/ball_Fire");
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L136-L141)
```cs:line-numbers=136
			float startDelay = ((id == EffectId.Meteor) ? 0.1f : 0.04f) * (float)CC.pos.Distance(p);
			effect.SetStartDelay(startDelay);
			effect2.SetStartDelay(startDelay);
			if (id == EffectId.GravityGun) // [!code ++]
			{ // [!code ++]
				float duration = 0.06f * (float)CC.pos.Distance(p); // [!code ++]
				Point pos2 = p.Copy(); // [!code ++]
				TweenUtil.Tween(duration, null, delegate // [!code ++]
				{ // [!code ++]
					pos2.Animate(AnimeID.Gravity, animeBlock: true); // [!code ++]
				}); // [!code ++]
			} // [!code ++]
			break;
		}
		}
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L264-L271)
```cs:line-numbers=264
				case EffectId.Sword:
					num4 = num4 * (int)Mathf.Min(70f + Mathf.Sqrt(CC.Evalue(101)) * 3f, 200f) / 100;
					break;
				case EffectId.GravityGun: // [!code ++]
					num4 /= 5; // [!code ++]
					break; // [!code ++]
				}
				if (id == EffectId.Ball || id == EffectId.BallBubble || id == EffectId.Explosive || id == EffectId.Rocket) // [!code --]
				if (id == EffectId.Ball || id == EffectId.BallBubble || id == EffectId.Explosive || id == EffectId.Rocket || id == EffectId.GravityGun) // [!code ++]
				{
					num4 = num4 * 100 / (90 + point.Distance(p) * 10);
				}
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L341-L346)
```cs:line-numbers=341
				case EffectId.Suicide:
				case EffectId.Rocket:
				case EffectId.Flare:
				case EffectId.GravityGun: // [!code ++]
					num4 /= 2;
					break;
				}
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L355-L370)
```cs:line-numbers=355
				num4 = 99999999L;
			}
			c.DamageHP(num4, e.id, power * num / 100, attackSource, chara ?? CC);
			if (c.IsAliveInCurrentZone && CC.IsAliveInCurrentZone && id == EffectId.DrainMana && c.isChara && CC.isChara && c.Chara.mana.value > 0) // [!code --]
			if (c.IsAliveInCurrentZone) // [!code ++]
			{
				long num6 = num4 * num / 100; // [!code --]
				Debug.Log(num4 + " v:" + num6 + " evalue:" + e.Value + " power:" + power + " elepMod:" + num); // [!code --]
				if (num6 > c.Chara.mana.value) // [!code --]
				switch (id) // [!code ++]
				{
					num6 = c.Chara.mana.value; // [!code --]
				case EffectId.GravityGun: // [!code ++]
					if (!c.isChara) // [!code ++]
					{ // [!code ++]
						break; // [!code ++]
					} // [!code ++]
					c.Chara.AddCondition<ConGravity>(power); // [!code ++]
					if (EClass.rnd(2) == 0) // [!code ++]
					{ // [!code ++]
						c.Chara.AddCondition<ConEntangle>(power / 2); // [!code ++]
					} // [!code ++]
					if (EClass.rnd(4) == 0) // [!code ++]
					{ // [!code ++]
						c.Chara.AddCondition<ConBlind>(power); // [!code ++]
					} // [!code ++]
					if (EClass.rnd(5) == 0) // [!code ++]
					{ // [!code ++]
						c.Chara.AddCondition<ConDim>(power / 3); // [!code ++]
					} // [!code ++]
					if (EClass.rnd(3) == 0) // [!code ++]
					{ // [!code ++]
						c.Chara.AddCondition<ConSupress>(power / 2); // [!code ++]
					} // [!code ++]
					if (actref.refThing != null && actref.refThing.id == "gun_gravity2") // [!code ++]
					{ // [!code ++]
						if (EClass.rnd(4) == 0) // [!code ++]
						{ // [!code ++]
							c.Chara.AddCondition<ConSilence>(power / 3); // [!code ++]
						} // [!code ++]
						if (EClass.rnd(4) == 0) // [!code ++]
						{ // [!code ++]
							c.Chara.AddCondition<ConWeakResEle>(power); // [!code ++]
						} // [!code ++]
						if (EClass.rnd(4) == 0) // [!code ++]
						{ // [!code ++]
							c.Chara.AddCondition<ConNightmare>(power); // [!code ++]
						} // [!code ++]
					} // [!code ++]
					break; // [!code ++]
				case EffectId.DrainMana: // [!code ++]
					if (CC.IsAliveInCurrentZone && c.isChara && CC.isChara && c.Chara.mana.value > 0) // [!code ++]
					{ // [!code ++]
						long num6 = num4 * num / 100; // [!code ++]
						Debug.Log(num4 + " v:" + num6 + " evalue:" + e.Value + " power:" + power + " elepMod:" + num); // [!code ++]
						if (num6 > c.Chara.mana.value) // [!code ++]
						{ // [!code ++]
							num6 = c.Chara.mana.value; // [!code ++]
						} // [!code ++]
						c.Chara.mana.Mod((int)(-num6)); // [!code ++]
						CC.Chara.mana.Mod((int)num6); // [!code ++]
					} // [!code ++]
					break; // [!code ++]
				}
				c.Chara.mana.Mod((int)(-num6)); // [!code --]
				CC.Chara.mana.Mod((int)num6); // [!code --]
			}
			if (id == EffectId.Explosive && CC.trait is TraitCookerMicrowave)
			{
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L456-L465)
```cs:line-numbers=456
	{
	case EffectId.Earthquake:
	{
		List<Point> list = EClass._map.ListPointsInCircle(CC.pos, 12f, mustBeWalkable: false); // [!code --]
		if (list.Count == 0) // [!code --]
		List<Point> list7 = EClass._map.ListPointsInCircle(CC.pos, 12f, mustBeWalkable: false); // [!code ++]
		if (list7.Count == 0) // [!code ++]
		{
			list.Add(CC.pos.Copy()); // [!code --]
			list7.Add(CC.pos.Copy()); // [!code ++]
		}
		CC.Say("spell_earthquake", CC, element.Name.ToLower());
		TryDelay(delegate
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L471-L477)
```cs:line-numbers=471
			Shaker.ShakeCam("ball");
		}
		EClass.Wait(1f, CC);
		DamageEle(CC, id, power, element, list, actRef, "spell_earthquake"); // [!code --]
		DamageEle(CC, id, power, element, list7, actRef, "spell_earthquake"); // [!code ++]
		break;
	}
	case EffectId.Meteor:
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L479-L488)
```cs:line-numbers=479
		EffectMeteor.Create(cc.pos, 6, 10, delegate
		{
		});
		List<Point> list3 = EClass._map.ListPointsInCircle(CC.pos, 10f); // [!code --]
		if (list3.Count == 0) // [!code --]
		List<Point> list = EClass._map.ListPointsInCircle(CC.pos, 10f); // [!code ++]
		if (list.Count == 0) // [!code ++]
		{
			list3.Add(CC.pos.Copy()); // [!code --]
			list.Add(CC.pos.Copy()); // [!code ++]
		}
		CC.Say("spell_ball", CC, element.Name.ToLower());
		TryDelay(delegate
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L494-L500)
```cs:line-numbers=494
			Shaker.ShakeCam("ball");
		}
		EClass.Wait(1f, CC);
		DamageEle(CC, id, power, element, list3, actRef, "spell_ball"); // [!code --]
		DamageEle(CC, id, power, element, list, actRef, "spell_ball"); // [!code ++]
		return;
	}
	case EffectId.Hand:
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L502-L515)
```cs:line-numbers=502
	case EffectId.DrainMana:
	case EffectId.Sword:
	{
		List<Point> list2 = new List<Point>(); // [!code --]
		list2.Add(tp.Copy()); // [!code --]
		List<Point> list6 = new List<Point>(); // [!code ++]
		list6.Add(tp.Copy()); // [!code ++]
		EClass.Wait(0.3f, CC);
		TryDelay(delegate
		{
			CC.PlaySound("spell_hand");
		});
		if (!DamageEle(CC, id, power, element, list2, actRef, (id == EffectId.DrainBlood || id == EffectId.DrainMana) ? "" : ((id == EffectId.Sword) ? "spell_sword" : "spell_hand"))) // [!code --]
		if (!DamageEle(CC, id, power, element, list6, actRef, (id == EffectId.DrainBlood || id == EffectId.DrainMana) ? "" : ((id == EffectId.Sword) ? "spell_sword" : "spell_hand"))) // [!code ++]
		{
			CC.Say("spell_hand_miss", CC, element.Name.ToLower());
		}
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L519-L533)
```cs:line-numbers=519
	case EffectId.MoonSpear:
	case EffectId.MoonArrow:
	{
		List<Point> list7 = new List<Point>(); // [!code --]
		list7.Add(tp.Copy()); // [!code --]
		List<Point> list3 = new List<Point>(); // [!code ++]
		list3.Add(tp.Copy()); // [!code ++]
		CC.Say((id == EffectId.MoonSpear) ? "spell_spear" : "spell_arrow", CC, element.Name.ToLower());
		EClass.Wait(0.5f, CC);
		TryDelay(delegate
		{
			CC.PlaySound((id == EffectId.MoonSpear) ? "spell_moonspear" : "spell_arrow");
		});
		DamageEle(CC, id, power, element, list7, actRef, (id == EffectId.MoonSpear) ? "spell_spear" : "spell_arrow"); // [!code --]
		DamageEle(CC, id, power, element, list3, actRef, (id == EffectId.MoonSpear) ? "spell_spear" : "spell_arrow"); // [!code ++]
		return;
	}
	case EffectId.Summon:
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L546-L554)
```cs:line-numbers=546
		string id3 = actRef.n1;
		int num3 = 1;
		int num4 = -1;
		int radius2 = 3; // [!code --]
		bool flag4 = false; // [!code --]
		bool flag5 = actRef.n1 == "special"; // [!code --]
		int radius = 3; // [!code ++]
		bool flag3 = false; // [!code ++]
		bool flag4 = actRef.n1 == "special"; // [!code ++]
		int num5 = -1;
		string text = "";
		switch (actRef.n1)
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L569-L575)
```cs:line-numbers=569
			break;
		case "tentacle":
			num4 = 20 + EClass.rnd(10);
			radius2 = 1; // [!code --]
			radius = 1; // [!code ++]
			break;
		case "special":
			CC.SetInt(70, EClass.world.date.GetRaw() + 1440);
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L584-L595)
```cs:line-numbers=584
			{
				break;
			}
			Point point = tp.GetRandomPoint(radius2)?.GetNearestPoint(allowBlock: false, allowChara: false); // [!code --]
			Point point = tp.GetRandomPoint(radius)?.GetNearestPoint(allowBlock: false, allowChara: false); // [!code ++]
			if (point == null || !point.IsValid)
			{
				continue;
			}
			Chara chara2 = null; // [!code --]
			Chara chara = null; // [!code ++]
			CardBlueprint.Set(new CardBlueprint());
			if (num5 != -1)
			{
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L604-L658)
```cs:line-numbers=604
			case "special":
				if (j == 0 && !CC.HasMinion("imolonac") && !CC.HasMinion("ygolonac"))
				{
					chara2 = CharaGen.Create((EClass.rnd(20) == 0) ? "imolonac" : "ygolonac"); // [!code --]
					chara = CharaGen.Create((EClass.rnd(20) == 0) ? "imolonac" : "ygolonac"); // [!code ++]
					break;
				}
				Debug.Log(CardBlueprint.current.idEle);
				chara2 = CharaGen.Create("hound", CC.LV); // [!code --]
				chara = CharaGen.Create("hound", CC.LV); // [!code ++]
				if (text.IsEmpty())
				{
					text = chara2.MainElement.source.alias; // [!code --]
					text = chara.MainElement.source.alias; // [!code ++]
				}
				break;
			case "yeek":
				chara2 = CharaGen.CreateFromFilter(SpawnListChara.Get("summon_yeek", (SourceChara.Row r) => r.race == "yeek"), power / 10); // [!code --]
				chara = CharaGen.CreateFromFilter(SpawnListChara.Get("summon_yeek", (SourceChara.Row r) => r.race == "yeek"), power / 10); // [!code ++]
				break;
			case "orc":
				chara2 = CharaGen.CreateFromFilter(SpawnListChara.Get("summon_orc", (SourceChara.Row r) => r.race == "orc"), power / 10); // [!code --]
				chara = CharaGen.CreateFromFilter(SpawnListChara.Get("summon_orc", (SourceChara.Row r) => r.race == "orc"), power / 10); // [!code ++]
				break;
			case "dragon":
				chara2 = CharaGen.CreateFromFilter(SpawnListChara.Get("summon_dragon", (SourceChara.Row r) => r.race == "dragon" || r.race == "drake" || r.race == "wyvern"), power / 5); // [!code --]
				chara = CharaGen.CreateFromFilter(SpawnListChara.Get("summon_dragon", (SourceChara.Row r) => r.race == "dragon" || r.race == "drake" || r.race == "wyvern"), power / 5); // [!code ++]
				break;
			case "pawn":
				chara2 = CharaGen.CreateFromFilter("c_pawn", power / 10); // [!code --]
				chara = CharaGen.CreateFromFilter("c_pawn", power / 10); // [!code ++]
				break;
			case "machine":
				chara2 = CharaGen.CreateFromFilter("c_machine", power / 10); // [!code --]
				chara = CharaGen.CreateFromFilter("c_machine", power / 10); // [!code ++]
				break;
			case "monster":
				chara2 = CharaGen.CreateFromFilter("c_dungeon", power / 10); // [!code --]
				chara = CharaGen.CreateFromFilter("c_dungeon", power / 10); // [!code ++]
				break;
			case "animal":
				chara2 = CharaGen.CreateFromFilter("c_animal", power / 15); // [!code --]
				chara = CharaGen.CreateFromFilter("c_animal", power / 15); // [!code ++]
				break;
			case "fire":
				chara2 = CharaGen.CreateFromElement("Fire", power / 10); // [!code --]
				chara = CharaGen.CreateFromElement("Fire", power / 10); // [!code ++]
				break;
			case "fish":
				chara2 = CharaGen.CreateFromFilter(SpawnListChara.Get("summon_fish", (SourceChara.Row r) => r.ContainsTag("water") || r.model.Chara.race.tag.Contains("water")), power / 10); // [!code --]
				chara = CharaGen.CreateFromFilter(SpawnListChara.Get("summon_fish", (SourceChara.Row r) => r.ContainsTag("water") || r.model.Chara.race.tag.Contains("water")), power / 10); // [!code ++]
				break;
			case "octopus":
				chara2 = CharaGen.CreateFromFilter(SpawnListChara.Get("summon_octopus", (SourceChara.Row r) => r.race == "octopus"), power / 10); // [!code --]
				chara = CharaGen.CreateFromFilter(SpawnListChara.Get("summon_octopus", (SourceChara.Row r) => r.race == "octopus"), power / 10); // [!code ++]
				break;
			default:
				chara2 = CharaGen.Create(id3, power / 10); // [!code --]
				chara = CharaGen.Create(id3, power / 10); // [!code ++]
				break;
			}
			if (chara2 == null) // [!code --]
			if (chara == null) // [!code ++]
			{
				continue;
			}
			if (chara2.rarity >= Rarity.Legendary && !flag5) // [!code --]
			if (chara.rarity >= Rarity.Legendary && !flag4) // [!code ++]
			{
				j--;
				continue;
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L668-L674)
```cs:line-numbers=668
					{
						num7 = (CC.IsPCFactionOrMinion ? (CC.LV / 2) : (CC.LV / 3 * 2));
					}
					num6 = chara2.LV * (100 + power / 10) / 100 + power / 30; // [!code --]
					num6 = chara.LV * (100 + power / 10) / 100 + power / 30; // [!code ++]
					if (num6 < num7)
					{
						num6 = num7;
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L679-L723)
```cs:line-numbers=679
			{
				num6 = power / 10 + 1;
			}
			if (chara2.LV < num6) // [!code --]
			if (chara.LV < num6) // [!code ++]
			{
				chara2.SetLv(num6); // [!code --]
				chara.SetLv(num6); // [!code ++]
			}
			chara2.interest = 0; // [!code --]
			if (chara2.HaveFur()) // [!code --]
			chara.interest = 0; // [!code ++]
			if (chara.HaveFur()) // [!code ++]
			{
				chara2.c_fur = -1; // [!code --]
				chara.c_fur = -1; // [!code ++]
			}
			n = actRef.n1;
			if (!(n == "shadow"))
			{
				if (n == "special_force")
				{
					chara2.homeZone = EClass._zone; // [!code --]
					chara.homeZone = EClass._zone; // [!code ++]
				}
			}
			else
			{
				chara2.hp = chara2.MaxHP / 2; // [!code --]
				chara.hp = chara.MaxHP / 2; // [!code ++]
			}
			EClass._zone.AddCard(chara2, point); // [!code --]
			EClass._zone.AddCard(chara, point); // [!code ++]
			if (flag)
			{
				Chara chara3 = chara2; // [!code --]
				Hostility hostility2 = (chara2.c_originalHostility = Hostility.Enemy); // [!code --]
				chara3.hostility = hostility2; // [!code --]
				Chara chara2 = chara; // [!code ++]
				Hostility hostility2 = (chara.c_originalHostility = Hostility.Enemy); // [!code ++]
				chara2.hostility = hostility2; // [!code ++]
			}
			else if (!(actRef.n1 == "monster") || actRef.refThing == null)
			{
				chara2.MakeMinion(CC); // [!code --]
				chara.MakeMinion(CC); // [!code ++]
			}
			if (num4 != -1)
			{
				chara2.SetSummon(num4); // [!code --]
				chara.SetSummon(num4); // [!code ++]
			}
			flag4 = true; // [!code --]
			flag3 = true; // [!code ++]
		}
		if (!flag4) // [!code --]
		if (!flag3) // [!code ++]
		{
			CC.Say("summon_ally_fail", CC);
		}
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L733-L754)
```cs:line-numbers=733
		}
		CC.Say("spell_funnel", CC, element.Name.ToLower());
		CC.PlaySound("spell_funnel");
		Chara chara = CharaGen.Create((id == EffectId.Bit) ? "bit2" : "bit"); // [!code --]
		chara.SetMainElement(element.source.alias, element.Value, elemental: true); // [!code --]
		chara.SetSummon(20 + power / 20 + EClass.rnd(10)); // [!code --]
		chara.SetLv(power / 15); // [!code --]
		chara.interest = 0; // [!code --]
		EClass._zone.AddCard(chara, tp.GetNearestPoint(allowBlock: false, allowChara: false)); // [!code --]
		chara.PlayEffect("teleport"); // [!code --]
		chara.MakeMinion(CC); // [!code --]
		Chara chara3 = CharaGen.Create((id == EffectId.Bit) ? "bit2" : "bit"); // [!code ++]
		chara3.SetMainElement(element.source.alias, element.Value, elemental: true); // [!code ++]
		chara3.SetSummon(20 + power / 20 + EClass.rnd(10)); // [!code ++]
		chara3.SetLv(power / 15); // [!code ++]
		chara3.interest = 0; // [!code ++]
		EClass._zone.AddCard(chara3, tp.GetNearestPoint(allowBlock: false, allowChara: false)); // [!code ++]
		chara3.PlayEffect("teleport"); // [!code ++]
		chara3.MakeMinion(CC); // [!code ++]
		return;
	}
	case EffectId.Breathe:
	{
		List<Point> list4 = EClass._map.ListPointsInArc(CC.pos, tp, 7, 35f); // [!code --]
		if (list4.Count == 0) // [!code --]
		List<Point> list2 = EClass._map.ListPointsInArc(CC.pos, tp, 7, 35f); // [!code ++]
		if (list2.Count == 0) // [!code ++]
		{
			list4.Add(CC.pos.Copy()); // [!code --]
			list2.Add(CC.pos.Copy()); // [!code ++]
		}
		CC.Say("spell_breathe", CC, element.Name.ToLower());
		EClass.Wait(0.8f, CC);
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L760-L766)
```cs:line-numbers=760
		{
			Shaker.ShakeCam("breathe");
		}
		DamageEle(CC, id, power, element, list4, actRef, "spell_breathe"); // [!code --]
		DamageEle(CC, id, power, element, list2, actRef, "spell_breathe"); // [!code ++]
		return;
	}
	case EffectId.Scream:
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L785-L795)
```cs:line-numbers=785
	case EffectId.Suicide:
	case EffectId.Rocket:
	case EffectId.Flare:
	case EffectId.GravityGun: // [!code ++]
	{
		float radius = ((id == EffectId.Rocket) ? 2.8f : ((id == EffectId.Suicide) ? 3.5f : ((id == EffectId.Flare) ? 2.1f : ((float)((id == EffectId.BallBubble) ? 2 : 5))))); // [!code --]
		float radius2 = ((id == EffectId.GravityGun) ? 4f : ((id == EffectId.Rocket) ? 2.8f : ((id == EffectId.Suicide) ? 3.5f : ((id == EffectId.Flare) ? 2.1f : ((float)((id == EffectId.BallBubble) ? 2 : 5)))))); // [!code ++]
		if ((id == EffectId.Explosive || id == EffectId.Rocket) && actRef.refThing != null)
		{
			radius = 2 + actRef.refThing.Evalue(666); // [!code --]
			radius2 = 2 + actRef.refThing.Evalue(666); // [!code ++]
		}
		if (id == EffectId.Suicide)
		{
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L803-L816)
```cs:line-numbers=803
			}
			if (CC.HasTag(CTAG.kamikaze))
			{
				radius = 1.5f; // [!code --]
				radius2 = 1.5f; // [!code ++]
			}
		}
		bool flag3 = id == EffectId.Explosive || id == EffectId.Suicide || id == EffectId.Rocket; // [!code --]
		List<Point> list6 = EClass._map.ListPointsInCircle((id == EffectId.Rocket || id == EffectId.Flare) ? tp : cc.pos, radius, !flag3, !flag3); // [!code --]
		if (list6.Count == 0) // [!code --]
		bool flag5 = id == EffectId.Explosive || id == EffectId.Suicide || id == EffectId.Rocket; // [!code ++]
		List<Point> list5 = EClass._map.ListPointsInCircle((id == EffectId.GravityGun || id == EffectId.Rocket || id == EffectId.Flare) ? tp : cc.pos, radius2, !flag5, !flag5); // [!code ++]
		if (list5.Count == 0) // [!code ++]
		{
			list6.Add(cc.pos.Copy()); // [!code --]
			list5.Add(cc.pos.Copy()); // [!code ++]
		}
		cc.Say((id == EffectId.Suicide) ? "abSuicide" : "spell_ball", cc, element.Name.ToLower());
		EClass.Wait(0.8f, cc);
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L820-L832)
```cs:line-numbers=820
			{
				tp.PlayEffect("flare");
			}
			cc.PlaySound((id == EffectId.Flare) ? "spell_flare" : "spell_ball"); // [!code --]
			if (id != EffectId.GravityGun) // [!code ++]
			{ // [!code ++]
				cc.PlaySound((id == EffectId.Flare) ? "spell_flare" : "spell_ball"); // [!code ++]
			} // [!code ++]
		});
		if (cc.IsInMutterDistance() && !EClass.core.config.graphic.disableShake) // [!code --]
		if (id != EffectId.GravityGun && cc.IsInMutterDistance() && !EClass.core.config.graphic.disableShake) // [!code ++]
		{
			Shaker.ShakeCam("ball");
		}
		DamageEle(actRef.origin ?? cc, id, power, element, list6, actRef, (id == EffectId.Suicide) ? "suicide" : "spell_ball"); // [!code --]
		DamageEle(actRef.origin ?? cc, id, power, element, list5, actRef, (id == EffectId.Suicide) ? "suicide" : "spell_ball"); // [!code ++]
		if (id == EffectId.Suicide && CC.IsAliveInCurrentZone)
		{
			CC.Die();
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L835-L844)
```cs:line-numbers=835
	}
	case EffectId.Bolt:
	{
		List<Point> list5 = EClass._map.ListPointsInLine(CC.pos, tp, 10); // [!code --]
		if (list5.Count == 0) // [!code --]
		List<Point> list4 = EClass._map.ListPointsInLine(CC.pos, tp, 10); // [!code ++]
		if (list4.Count == 0) // [!code ++]
		{
			list5.Add(CC.pos.Copy()); // [!code --]
			list4.Add(CC.pos.Copy()); // [!code ++]
		}
		CC.Say("spell_bolt", CC, element.Name.ToLower());
		EClass.Wait(0.8f, CC);
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActEffect.cs#L850-L856)
```cs:line-numbers=850
		{
			Shaker.ShakeCam("bolt");
		}
		DamageEle(CC, id, power, element, list5, actRef, "spell_bolt"); // [!code --]
		DamageEle(CC, id, power, element, list4, actRef, "spell_bolt"); // [!code ++]
		return;
	}
	case EffectId.Bubble:
```

## ActRanged

[`public override bool Perform()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActRanged.cs#L96-L105)
```cs:line-numbers=96
	{
		return false;
	}
	bool flag = weapon.trait is TraitToolRangeGun; // [!code --]
	bool flag2 = weapon.trait is TraitToolRangeCane; // [!code --]
	bool isRocket = weapon.trait is TraitToolRangeGunRocket; // [!code --]
	GameSetting.EffectData effectData = EClass.setting.effect.guns.TryGetValue(weapon.id) ?? EClass.setting.effect.guns[flag2 ? "cane" : (flag ? "gun" : "bow")]; // [!code --]
	TraitToolRange traitRange = weapon.trait as TraitToolRange; // [!code ++]
	bool flag = weapon.trait is TraitToolRangeCane; // [!code ++]
	GameSetting.EffectData effectData = EClass.setting.effect.guns.TryGetValue(weapon.id) ?? EClass.setting.effect.guns[flag ? "cane" : ((weapon.trait is TraitToolRangeGun) ? "gun" : "bow")]; // [!code ++]
	bool hasHit = false;
	int numFire = effectData.num;
	int numFireWithoutDamageLoss = numFire;
```

[`public override bool Perform()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActRanged.cs#L128-L134)
```cs:line-numbers=128
		num3 = Mathf.Max(1, num3 * 100 / (100 + num4 * 5));
	}
	string missSound = ((weapon.trait is TraitToolRangeGun) ? "miss_bullet" : "miss_arrow");
	if (weapon.trait is TraitToolRangeCane) // [!code --]
	if (flag) // [!code ++]
	{
		foreach (Element item in weapon.elements.dict.Values.Where((Element e) => e.source.categorySub == "eleAttack"))
		{
```

[`void Shoot(Card _tc, Point _tp, bool subAttack)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActRanged.cs#L322-L328)
```cs:line-numbers=322
				Card tC = Act.TC;
				Chara cC = Act.CC;
				Point point = Act.TP.Copy();
				if (isRocket && EClass.rnd(3) == 0) // [!code --]
				if (traitRange.ChanceMissAim > 0 && EClass.rnd(traitRange.ChanceMissAim) == 0) // [!code ++]
				{
					Act.TP.Set(Act.TP.GetRandomNeighbor());
				}
```

[`void Shoot(Card _tc, Point _tp, bool subAttack)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ActRanged.cs#L372-L390)
```cs:line-numbers=372
						}
					}
				}
				if (isRocket) // [!code --]
				switch (traitRange.GroundHitEffect) // [!code ++]
				{
				case TraitToolRange.HitEffect.Rocket: // [!code ++]
					ActEffect.ProcAt(EffectId.Rocket, AttackProcess.Current.GetRocketPower(), BlessedState.Normal, Act.CC, null, Act.TP, isNeg: true, new ActRef
					{
						origin = Act.CC.Chara,
						refThing = weapon,
						aliasEle = "eleImpact"
					});
					break; // [!code ++]
				case TraitToolRange.HitEffect.Gravity: // [!code ++]
					ActEffect.ProcAt(EffectId.GravityGun, AttackProcess.Current.GetRocketPower() / 2, BlessedState.Normal, Act.CC, null, Act.TP, isNeg: true, new ActRef // [!code ++]
					{ // [!code ++]
						origin = Act.CC.Chara, // [!code ++]
						refThing = weapon, // [!code ++]
						aliasEle = "eleImpact" // [!code ++]
					}); // [!code ++]
					break; // [!code ++]
				}
				Act.TC = tC;
				Act.CC = cC;
				Act.TP.Set(point);
				if (!isRocket && (Act.TC == null || !Act.TC.IsAliveInCurrentZone)) // [!code --]
				if (traitRange.GroundHitEffect == TraitToolRange.HitEffect.None && (Act.TC == null || !Act.TC.IsAliveInCurrentZone)) // [!code ++]
				{
					break;
				}
```

## AnimeID

[`public enum AnimeID`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/AnimeID.cs#L24-L28)
```cs:line-numbers=24
	Ride,
	Truck,
	PlayMusic,
	QuakeMini // [!code --]
	QuakeMini, // [!code ++]
	Gravity // [!code ++]
}
```

## CINT

[`public class CINT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/CINT.cs#L158-L163)
```cs:line-numbers=158

	public const int isHalfEaten = 125;

	public const int isDisableLoyal = 126; // [!code ++]
 // [!code ++]
	public const int dateDeathLock = 130;

	public const int fixedValue = 131;
```

## Card

[`public void SpawnLoot(Card origin)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/Card.cs#L5145-L5150)
```cs:line-numbers=5145
		if (Chara.IsMachine)
		{
			bool flag3 = Chara.HasElement(1248);
			if (chance(200)) // [!code ++]
			{ // [!code ++]
				list.Add(ThingGen.Create("memory_chip")); // [!code ++]
			} // [!code ++]
			if (chance(20))
			{
				list.Add(ThingGen.Create(flag3 ? "scrap" : "microchip"));
```

## Chara

[`public void RestockEquip(bool onCreate)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/Chara.cs#L4698-L4703)
```cs:line-numbers=4698
			AddThing("1071");
		}
		break;
	case "namamani": // [!code ++]
		if (onCreate) // [!code ++]
		{ // [!code ++]
			AddThing("gun_gravity2"); // [!code ++]
		} // [!code ++]
		break; // [!code ++]
	case "lomias":
		if (onCreate)
		{
```

[`public void RestockEquip(bool onCreate)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/Chara.cs#L4784-L4790)
```cs:line-numbers=4784
		}
		break;
	}
	if (onCreate || !TryEquipRanged()) // [!code --]
	if (!TryEquipRanged()) // [!code ++]
	{
		switch (id)
		{
```

[`public void ModAffinity(Chara c, int a, bool show = true, bool showOnlyEmo = fal`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/Chara.cs#L7803-L7809)
```cs:line-numbers=7803
	}
	else
	{
		if (id == "keeper_garden") // [!code --]
		if (!trait.CanChangeAffinity) // [!code ++]
		{
			return;
		}
```

[`public bool RequestProtection(Chara attacker, Action<Chara> action)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/Chara.cs#L8255-L8261)
```cs:line-numbers=8255
		{
			continue;
		}
		bool flag2 = chara.HasElement(1225); // [!code --]
		bool flag2 = chara.HasElement(1225) && !chara.GetBool(126); // [!code ++]
		if ((!flag2 && (flag || EClass.rnd(2) == 0 || !chara.HasCondition<StanceTaunt>())) || chara.HasCooldown(1225))
		{
			continue;
```

## DramaActor

[`public void Talk(string text, List<DramaChoice> choices, bool center, bool unkno`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/DramaActor.cs#L87-L93)
```cs:line-numbers=87
		}
		if (chara != null)
		{
			dialog.textAffinity.text = ((chara.c_bossType != 0) ? " - " : (chara.affinity.Name + " (" + chara._affinity + ")")); // [!code --]
			dialog.textAffinity.text = ((chara.c_bossType != 0 || !chara.trait.CanChangeAffinity) ? " - " : (chara.affinity.Name + " (" + chara._affinity + ")")); // [!code ++]
			dialog.layoutInterest.DestroyChildren();
			int num = chara.interest / 10 + 1;
			if (chara.interest <= 0)
```

## DramaCustomSequence

[`public void Build(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/DramaCustomSequence.cs#L331-L336)
```cs:line-numbers=331
		Choice("disableMove", "_disableMove");
	}
	Choice((c.GetInt(123) == 0) ? "daSleepBeside" : "daSleepBeside2", "_sleepBeside");
	if (c.HasElement(1225)) // [!code ++]
	{ // [!code ++]
		Choice((c.GetInt(126) == 0) ? "daDisableLoyal" : "daDisableLoyal2", "_disableLoyal"); // [!code ++]
	} // [!code ++]
	if (c.GetInt(113) == 0)
	{
		Choice("daEquipSharedOff", "_toggleSharedEquip");
```

[`public void Build(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/DramaCustomSequence.cs#L565-L570)
```cs:line-numbers=565
	});
	_Talk("tg", GetTopic(c, (c.GetInt(123) == 0) ? "ok" : "shutup"));
	End();
	Step("_disableLoyal"); // [!code ++]
	Method(delegate // [!code ++]
	{ // [!code ++]
		c.SetInt(126, (c.GetInt(126) == 0) ? 1 : 0); // [!code ++]
	}); // [!code ++]
	_Talk("tg", GetTopic(c, (c.GetInt(126) == 0) ? "shutup" : "shutup2")); // [!code ++]
	End(); // [!code ++]
	Step("_insult");
	Method(delegate
	{
```

## DramaManager

[`public void ParseLine(Dictionary<string, string> item)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/DramaManager.cs#L812-L817)
```cs:line-numbers=812
			});
		});
		break;
	case "removeItem": // [!code ++]
		AddEvent(delegate // [!code ++]
		{ // [!code ++]
			Thing thing = EMono.pc.things.Find(p2); // [!code ++]
			int num2 = p3.ToInt(); // [!code ++]
			thing?.ModNum((num2 == 0) ? (-1) : (-num2)); // [!code ++]
		}); // [!code ++]
		break; // [!code ++]
	case "destroyItem":
		AddEvent(delegate
		{
```

[`public bool CheckIF(string IF)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/DramaManager.cs#L1131-L1136)
```cs:line-numbers=1131
		return EMono.player.dialogFlags.TryGetValue(array[1], 0) != 0;
	case "!hasFlag":
		return EMono.player.dialogFlags.TryGetValue(array[1], 0) == 0;
	case "!hasMiscreation": // [!code ++]
		return !EMono.pc.party.HasElement(1248, excludePC: true); // [!code ++]
	case "hasItem":
		return EMono.pc.things.Find(array[1]) != null;
	case "nasuDeliver":
```

## DramaOutcome

[`public void event_swordkeeper()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/DramaOutcome.cs#L392-L397)
```cs:line-numbers=392
		EMono._zone.AddChara("swordkeeper", 45, 52);
	}

	public void upgrade_miscreation() // [!code ++]
	{ // [!code ++]
		Chara chara = EMono.pc.party.members.Find((Chara c) => !c.IsPC && c.HasElement(1248)); // [!code ++]
		int num = chara.Evalue(1248); // [!code ++]
		chara.SetFeat(1248, 0); // [!code ++]
		for (int i = 0; i < num; i++) // [!code ++]
		{ // [!code ++]
			Rand.SetSeed(chara.uid + i); // [!code ++]
			DNA.GenerateRandomGene(chara.LV + 30, chara.uid + i).c_DNA.Apply(chara, reverse: false); // [!code ++]
			Rand.SetSeed(); // [!code ++]
		} // [!code ++]
	} // [!code ++]
 // [!code ++]
	public static bool If(DramaChoice item, Chara c)
	{
		_ = item.IF.Split('/')[0] == "costHire";
```

## EffectId

[`public enum EffectId`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/EffectId.cs#L131-L135)
```cs:line-numbers=131
	Bit = 307,
	Rocket = 308,
	StripBlessing = 309,
	Flare = 310 // [!code --]
	Flare = 310, // [!code ++]
	GravityGun = 311 // [!code ++]
}
```

## FACTION

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FACTION.cs#L74-L81)
```cs:line-numbers=74

	public const int bfSea = 3605;

	public const int bfCave = 3500; // [!code --]
 // [!code --]
	public const int bfFertile = 3700;

	public const int bfGeyser = 3701;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FACTION.cs#L84-L94)
```cs:line-numbers=84

	public const int bfTranquil = 3703;

	public const int bfUndersea = 3606; // [!code --]
	public const int bfVolcano = 3704; // [!code ++]

	public const int bfHunt = 3705; // [!code --]
	public const int bfUndersea = 3606; // [!code ++]

	public const int bfGum = 3803; // [!code --]
	public const int bfCave = 3500; // [!code ++]

	public const int actBuildInspect = 4006;

```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FACTION.cs#L96-L101)
```cs:line-numbers=96

	public const int actBuildCollect = 4004;

	public const int bfGum = 3803; // [!code ++]
 // [!code ++]
	public const int actBuildAnywhere = 4003;

	public const int actBuildTerrain = 4002;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FACTION.cs#L108-L123)
```cs:line-numbers=108

	public const int bfChitin = 3805;

	public const int bfVolcano = 3704; // [!code --]
	public const int bfHunt = 3705; // [!code ++]

	public static readonly int[] IDS = new int[53]
	{
		3706, 3783, 3781, 2207, 3780, 3710, 3709, 3708, 3707, 3782,
		2204, 2116, 2115, 2117, 2118, 2119, 2120, 2200, 2201, 2206,
		2202, 2203, 2205, 3784, 2003, 3800, 3804, 3802, 3801, 3600,
		3601, 3602, 3603, 3604, 3605, 3500, 3700, 3701, 3702, 3703, // [!code --]
		3606, 3705, 3803, 4006, 4005, 4004, 4003, 4002, 4001, 4000, // [!code --]
		3900, 3805, 3704 // [!code --]
		3601, 3602, 3603, 3604, 3605, 3700, 3701, 3702, 3703, 3704, // [!code ++]
		3606, 3500, 4006, 4005, 4004, 3803, 4003, 4002, 4001, 4000, // [!code ++]
		3900, 3805, 3705 // [!code ++]
	};
}
public class Faction : EClass
```

## FEAT

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FEAT.cs#L3-L31)
```cs:line-numbers=3

public class FEAT
{
	public const int featDEX = 1621; // [!code --]
 // [!code --]
	public const int featEND = 1622;

	public const int featPER = 1623;

	public const int featLER = 1624;

	public const int featSPD = 1629; // [!code --]
	public const int featMAG = 1625; // [!code ++]

	public const int featWIL = 1626; // [!code --]
	public const int featHardy = 1630; // [!code ++]

	public const int featCHA = 1627;

	public const int featLuck = 1628;

	public const int featHardy = 1630; // [!code --]
	public const int featSPD = 1629; // [!code ++]

	public const int featMAG = 1625; // [!code --]
	public const int featDEX = 1621; // [!code ++]

	public const int featSTR = 1620; // [!code --]
	public const int featWIL = 1626; // [!code ++]

	public const int featWhiteVixen = 1414; // [!code --]
	public const int featDefense = 1631; // [!code ++]
 // [!code ++]
	public const int featFoxMaid = 1415; // [!code ++]
 // [!code ++]
	public const int featStamina = 1612; // [!code ++]

	public const int featMana = 1611;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FEAT.cs#L45-L65)
```cs:line-numbers=45

	public const int featInquisitor = 1416;

	public const int featFoxMaid = 1415; // [!code --]
	public const int featEvade = 1632; // [!code ++]

	public const int featDefense = 1631; // [!code --]
	public const int featWhiteVixen = 1414; // [!code ++]

	public const int featFairysan = 1413; // [!code --]
	public const int featSTR = 1620; // [!code ++]

	public const int featStamina = 1612; // [!code --]
	public const int featSpotting = 1633; // [!code ++]

	public const int featEvade = 1632; // [!code --]
	public const int featDefender = 1649; // [!code ++]

	public const int featRapidMagic = 1648; // [!code --]
	public const int featMartial = 1635; // [!code ++]

	public const int featNegotiate = 1634; // [!code --]
	public const int featFairysan = 1413; // [!code ++]

	public const int featLuckyCat = 1412; // [!code --]
	public const int featGoldenFinger = 1662; // [!code ++]

	public const int featDismantler = 1661;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FEAT.cs#L79-L91)
```cs:line-numbers=79

	public const int featDreamWaker = 1653;

	public const int featRapidArrow = 1652; // [!code --]
	public const int featNegotiate = 1634; // [!code ++]

	public const int featSpotting = 1633; // [!code --]
	public const int featRapidArrow = 1652; // [!code ++]

	public const int featMagicManner = 1651; // [!code --]
	public const int featGourmet = 1650; // [!code ++]

	public const int featDefender = 1649; // [!code --]
	public const int featRapidMagic = 1648; // [!code ++]

	public const int featSummoner = 1647;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FEAT.cs#L105-L125)
```cs:line-numbers=105

	public const int featFaith = 1636;

	public const int featMartial = 1635; // [!code --]
 // [!code --]
	public const int featGourmet = 1650; // [!code --]
 // [!code --]
	public const int featEarthStrength = 1411; // [!code --]
	public const int featMagicManner = 1651; // [!code ++]

	public const int featNirvana = 1231; // [!code --]
	public const int featLuckyCat = 1412; // [!code ++]

	public const int featBoost = 1409; // [!code --]
	public const int featBaby = 1232; // [!code ++]

	public const int featLittleOne = 1229; // [!code --]
	public const int featReboot = 1410; // [!code ++]

	public const int featAdam = 1230;

	public const int featBaby = 1232; // [!code --]
	public const int featNirvana = 1231; // [!code ++]

	public const int featCosmicHorror = 1233;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FEAT.cs#L141-L149)
```cs:line-numbers=141

	public const int featGeneSlot = 1242;

	public const int featReboot = 1410; // [!code --]
	public const int featEternalYouth = 1243; // [!code ++]

	public const int featCentaur = 1244; // [!code --]
	public const int featEarthStrength = 1411; // [!code ++]

	public const int featSevenSense = 1245;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FEAT.cs#L165-L177)
```cs:line-numbers=165

	public const int featGod_earth1 = 1305;

	public const int featDemigod = 1228; // [!code --]
 // [!code --]
	public const int featGod_wind1 = 1310;

	public const int featLittleOne = 1229; // [!code ++]
 // [!code ++]
	public const int featDemigod = 1228; // [!code ++]
 // [!code ++]
	public const int featServant = 1227;

	public const int featLoyal = 1225; // [!code --]
	public const int featUnderground = 1226; // [!code ++]

	public const int featSlowFood = 1200;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FEAT.cs#L197-L205)
```cs:line-numbers=197

	public const int featSnail = 1211;

	public const int featFairyResist = 1212; // [!code --]
	public const int featGod_machine1 = 1315; // [!code ++]

	public const int featElea = 1213; // [!code --]
	public const int featFairyResist = 1212; // [!code ++]

	public const int featManaPrecision = 1214;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FEAT.cs#L223-L235)
```cs:line-numbers=223

	public const int featShiva = 1224;

	public const int featUnderground = 1226; // [!code --]
	public const int featLoyal = 1225; // [!code ++]

	public const int featGod_machine1 = 1315; // [!code --]
	public const int featElea = 1213; // [!code ++]

	public const int featEternalYouth = 1243; // [!code --]
	public const int featGod_healing1 = 1320; // [!code ++]

	public const int featGod_harvest1 = 1325; // [!code --]
	public const int featCentaur = 1244; // [!code ++]
 // [!code ++]
	public const int featGod_luck1 = 1330; // [!code ++]
 // [!code ++]
	public const int featPaladin = 1407; // [!code ++]

	public const int featTourist = 1406;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FEAT.cs#L241-L253)
```cs:line-numbers=241

	public const int featWizard = 1402;

	public const int featThief = 1401; // [!code --]
	public const int featPaladin2 = 1408; // [!code ++]

	public const int featPaladin = 1407; // [!code --]
	public const int featThief = 1401; // [!code ++]

	public const int featWarrior = 1400; // [!code --]
	public const int featGod_harvest1 = 1325; // [!code ++]

	public const int featGod_healing1 = 1320; // [!code --]
	public const int featGod_strife1 = 1355; // [!code ++]

	public const int featGod_moonshadow1 = 1350;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/FEAT.cs#L257-L283)
```cs:line-numbers=257

	public const int featGod_harmony1 = 1335;

	public const int featGod_luck1 = 1330; // [!code --]
 // [!code --]
	public const int featGod_strife1 = 1355; // [!code --]
	public const int featWarrior = 1400; // [!code ++]

	public const int featPaladin2 = 1408; // [!code --]
	public const int featBoost = 1409; // [!code ++]

	public static readonly int[] IDS = new int[130] // [!code --]
	public static readonly int[] IDS = new int[131] // [!code ++]
	{
		1621, 1622, 1623, 1624, 1629, 1626, 1627, 1628, 1630, 1625, // [!code --]
		1620, 1414, 1611, 1610, 1422, 1421, 1420, 1419, 1418, 1417, // [!code --]
		1416, 1415, 1631, 1413, 1612, 1632, 1648, 1634, 1412, 1661, // [!code --]
		1660, 1659, 1658, 1657, 1656, 1655, 1654, 1653, 1652, 1633, // [!code --]
		1651, 1649, 1647, 1646, 1645, 1644, 1643, 1642, 1641, 1640, // [!code --]
		1636, 1635, 1650, 1411, 1231, 1409, 1229, 1230, 1232, 1233, // [!code --]
		1234, 1235, 1236, 1237, 1238, 1239, 1240, 1241, 1242, 1410, // [!code --]
		1244, 1245, 1246, 1247, 1248, 1249, 1270, 1271, 1290, 1300, // [!code --]
		1305, 1228, 1310, 1227, 1225, 1200, 1201, 1202, 1203, 1204, // [!code --]
		1205, 1206, 1207, 1208, 1209, 1210, 1211, 1212, 1213, 1214, // [!code --]
		1622, 1623, 1624, 1625, 1630, 1627, 1628, 1629, 1621, 1626, // [!code ++]
		1631, 1415, 1612, 1611, 1610, 1422, 1421, 1420, 1419, 1418, // [!code ++]
		1417, 1416, 1632, 1414, 1620, 1633, 1649, 1635, 1413, 1662, // [!code ++]
		1661, 1660, 1659, 1658, 1657, 1656, 1655, 1654, 1653, 1634, // [!code ++]
		1652, 1650, 1648, 1647, 1646, 1645, 1644, 1643, 1642, 1641, // [!code ++]
		1640, 1636, 1651, 1412, 1232, 1410, 1230, 1231, 1233, 1234, // [!code ++]
		1235, 1236, 1237, 1238, 1239, 1240, 1241, 1242, 1243, 1411, // [!code ++]
		1245, 1246, 1247, 1248, 1249, 1270, 1271, 1290, 1300, 1305, // [!code ++]
		1310, 1229, 1228, 1227, 1226, 1200, 1201, 1202, 1203, 1204, // [!code ++]
		1205, 1206, 1207, 1208, 1209, 1210, 1211, 1315, 1212, 1214, // [!code ++]
		1215, 1216, 1217, 1218, 1219, 1220, 1221, 1222, 1223, 1224,
		1226, 1315, 1243, 1325, 1406, 1405, 1404, 1403, 1402, 1401, // [!code --]
		1407, 1400, 1320, 1350, 1345, 1340, 1335, 1330, 1355, 1408 // [!code --]
		1225, 1213, 1320, 1244, 1330, 1407, 1406, 1405, 1404, 1403, // [!code ++]
		1402, 1408, 1401, 1325, 1355, 1350, 1345, 1340, 1335, 1400, // [!code ++]
		1409 // [!code ++]
	};
}
public class Feat : Element
```

## LayerDragGrid

[`public static LayerDragGrid TryProc(Chara cc, InvOwnerEffect owner)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/LayerDragGrid.cs#L458-L464)
```cs:line-numbers=458
	int num = ((owner.count == -1) ? 1 : owner.count);
	for (int i = 0; i < num; i++)
	{
		List<Thing> list = cc.things.List((Thing t) => owner.ShouldShowGuide(t)); // [!code --]
		List<Thing> list = cc.things.List((Thing t) => owner.ShouldShowGuide(t), onlyAccessible: true); // [!code ++]
		if (list.Count > 0)
		{
			Thing t2 = list.RandomItem();
```

## POLICY

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/POLICY.cs#L33-L39)
```cs:line-numbers=33

	public const int mass_exhibition = 2814;

	public const int prohibition = 2503; // [!code --]
	public const int food_for_people = 2502; // [!code ++]

	public const int bed_quality = 2812;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/POLICY.cs#L59-L65)
```cs:line-numbers=59

	public const int impressment = 2504;

	public const int food_for_people = 2502; // [!code --]
	public const int prohibition = 2503; // [!code ++]

	public const int wealth_tax = 2500;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/POLICY.cs#L108-L115)
```cs:line-numbers=108
public static readonly int[] IDS = new int[51]
{
	2816, 2817, 2818, 2819, 2820, 2821, 2824, 2823, 2825, 2826,
	2827, 2828, 2815, 2822, 2814, 2503, 2812, 2514, 2513, 2512, // [!code --]
	2511, 2510, 2509, 2515, 2508, 2506, 2505, 2504, 2502, 2500, // [!code --]
	2827, 2828, 2815, 2822, 2814, 2502, 2812, 2514, 2513, 2512, // [!code ++]
	2511, 2510, 2509, 2515, 2508, 2506, 2505, 2504, 2503, 2500, // [!code ++]
	2813, 2507, 2516, 2501, 2701, 2811, 2810, 2800, 2715, 2700,
	2711, 2710, 2712, 2708, 2707, 2706, 2705, 2704, 2703, 2702,
	2709
```

## Party

[`public int EValue(int ele)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/Party.cs#L177-L187)
```cs:line-numbers=177
		return num;
	}

	public bool HasElement(int ele) // [!code --]
	public bool HasElement(int ele, bool excludePC = false) // [!code ++]
	{
		foreach (Chara member in members)
		{
			if (member.HasElement(ele)) // [!code --]
			if ((!excludePC || !member.IsPC) && member.HasElement(ele)) // [!code ++]
			{
				return true;
			}
```

## RenderRow

[`public int ConvertTile(int tile)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/RenderRow.cs#L260-L266)
```cs:line-numbers=260

	public Sprite GetSprite(int dir = 0, int skin = 0, bool snow = false)
	{
		if (replacer.HasSprite(idSprite)) // [!code --]
		if (replacer.HasSprite(idSprite, renderData)) // [!code ++]
		{
			return replacer.data.GetSprite(snow);
		}
```

## SpriteReplacer

[`public static Dictionary<string, SpriteReplacer> ListSkins()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/SpriteReplacer.cs#L48-L54)
```cs:line-numbers=48
		return dictSkins;
	}

	public bool HasSprite(string id) // [!code --]
	public bool HasSprite(string id, RenderData renderData = null) // [!code ++]
	{
		if (!isChecked)
		{
```

[`public bool HasSprite(string id)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/SpriteReplacer.cs#L66-L71)
```cs:line-numbers=66
			else
			{
				string text = CorePath.packageCore + "Texture/Item/" + id;
				if (!File.Exists(text + ".png") && renderData != null) // [!code ++]
				{ // [!code ++]
					text = CorePath.packageCore + "Texture/Item/" + renderData.name; // [!code ++]
				} // [!code ++]
				if (File.Exists(text + ".png"))
				{
					data = new SpriteData
```

## TaskChopWood

[`public Thing GetLog()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/TaskChopWood.cs#L21-L26)
```cs:line-numbers=21

	public override HitResult GetHitResult()
	{
		Thing log = GetLog(); // [!code ++]
		if (log != null && log.isNPCProperty && EClass._zone.IsUserZone && EClass.game.principal.disableUsermapBenefit) // [!code ++]
		{ // [!code ++]
			return HitResult.Invalid; // [!code ++]
		} // [!code ++]
		if (GetLog() != null)
		{
			return HitResult.Valid;
```

## Thing

[`public override void SetRenderParam(RenderParam p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/Thing.cs#L1603-L1615)
```cs:line-numbers=1603
			}
			if (!(num >= (float)source.anime[0]))
			{
				p.tile += num * (float)((!flipX) ? 1 : (-1)); // [!code --]
				p.tile += num * (float)((!(p.tile < 0f)) ? 1 : (-1)); // [!code ++]
			}
		}
		else
		{
			float num2 = Time.realtimeSinceStartup * 1000f / (float)source.anime[1] % (float)source.anime[0];
			p.tile += num2 * (float)((!flipX) ? 1 : (-1)); // [!code --]
			p.tile += num2 * (float)((!(p.tile < 0f)) ? 1 : (-1)); // [!code ++]
		}
		break;
	}
```

## ThingContainer

[`public Thing FindStealable()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/ThingContainer.cs#L698-L704)
```cs:line-numbers=698
		while (enumerator.MoveNext())
		{
			Thing current = enumerator.Current;
			if (!current.IsContainer && current.trait.CanBeStolen && !current.HasTag(CTAG.gift)) // [!code --]
			if (!current.IsContainer && current.trait.CanBeStolen && !current.HasTag(CTAG.gift) && (!current.IsEquipmentOrRangedOrAmmo || !current.IsUnique)) // [!code ++]
			{
				list.Add(current);
			}
```

## Trait

[`public virtual int CostRerollShop`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/Trait.cs#L555-L560)
```cs:line-numbers=555

	public virtual bool RemoveGlobalOnBanish => false;

	public virtual bool CanChangeAffinity => true; // [!code ++]
 // [!code ++]
	public string TextNextRestock => GetTextRestock(LangBarter, pet: false);

	public string TextNextRestockPet => GetTextRestock((SlaverType == SlaverType.Slave) ? "daBuySlave" : "daBuyPet", pet: true);
```

## TraitGeyser

[`public class TraitGeyser : TraitSpot`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/TraitGeyser.cs#L1-L3)
```cs:line-numbers=1
public class TraitGeyser : TraitSpot // [!code --]
public class TraitGeyser : TraitBath // [!code ++]
{
	public override int radius => 4; // [!code ++]
}
```

## +TraitKeeperOfGarden

::: details File Created
```cs
public class TraitKeeperOfGarden : TraitUniqueChara
{
	public override bool CanInvite => false;

	public override bool CanChangeAffinity => false;
}
```

:::
## TraitToolRange

[`public class TraitToolRange : TraitTool`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/TraitToolRange.cs#L1-L11)
```cs:line-numbers=1
public class TraitToolRange : TraitTool
{
	public enum HitEffect // [!code ++]
	{ // [!code ++]
		None, // [!code ++]
		Rocket, // [!code ++]
		Gravity // [!code ++]
	} // [!code ++]
 // [!code ++]
	public virtual HitEffect GroundHitEffect => HitEffect.None; // [!code ++]
 // [!code ++]
	public override bool CanAutofire => true;

	public virtual bool NeedAmmo => true;

	public virtual bool AutoRefillAmmo => false;

	public virtual int ChanceMissAim => 0; // [!code ++]
 // [!code ++]
	public int MaxAmmo => (GetParam(1) ?? "12").ToInt() * (100 + owner.Evalue(600) * 5) / 100;

	public int ReloadTurn => (GetParam(2) ?? "4").ToInt() * 100 / (100 + owner.Evalue(601) * 10);
```

## +TraitToolRangeGunGravity

::: details File Created
```cs
public class TraitToolRangeGunGravity : TraitToolRangeGunEnergy
{
	public override HitEffect GroundHitEffect => HitEffect.Gravity;
}
```

:::
## TraitToolRangeGunRocket

[`public class TraitToolRangeGunRocket : TraitToolRangeGun`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/TraitToolRangeGunRocket.cs#L1-L5)
```cs:line-numbers=1
public class TraitToolRangeGunRocket : TraitToolRangeGun
{
	public override HitEffect GroundHitEffect => HitEffect.Rocket; // [!code ++]
 // [!code ++]
	public override int ChanceMissAim => 3; // [!code ++]
 // [!code ++]
	public override bool IsAmmo(Thing t)
	{
		return t.trait is TraitAmmoRocket;
```

## TraitUniqueCharaNoJoin

[`public class TraitUniqueCharaNoJoin : TraitChara`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/d3671b67ef3cef65c3ef8ffd8568750f170d032d/Elin/TraitUniqueCharaNoJoin.cs#L1-L4)
```cs:line-numbers=1
public class TraitUniqueCharaNoJoin : TraitChara // [!code --]
public class TraitUniqueCharaNoJoin : TraitUniqueChara // [!code ++]
{
	public override bool CanInvite => false;
 // [!code ++]
	public override bool CanChangeAffinity => false; // [!code ++]
}
```
