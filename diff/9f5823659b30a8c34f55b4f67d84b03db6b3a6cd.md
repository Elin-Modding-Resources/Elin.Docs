---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 8 files modified.
version: EA 23.226 Nightly
changes: Card/Chara/FEAT/GameDate/GoalCombat/ThingContainer/Trait/TraitDoor
---

# EA 23.226 Nightly

October 28, 2025

8 files modified.

## Important Changes

**None.**
## Card

[`public void AddExp(int a)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/Card.cs#L2932-L2938)
```cs:line-numbers=2932
{
	a = a * GetExpMtp() / 100;
	exp += a;
	while (exp >= ExpToNext) // [!code --]
	while (exp >= ExpToNext && exp > 0 && ExpToNext > 0) // [!code ++]
	{
		exp -= ExpToNext;
		LevelUp();
```

[`public Thing MakeMilk(bool effect = true, int num = 1, bool addToZone = true, Bl`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/Card.cs#L5679-L5685)
```cs:line-numbers=5679
	{
		num2 = 0;
	}
	if (num2 >= 10) // [!code --]
	if (num2 >= 10 && !HasElement(1290)) // [!code ++]
	{
		thing.SetEncLv(num2 / 10);
	}
```

[`public virtual int GetPrice(CurrencyType currency = CurrencyType.Money, bool sel`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/Card.cs#L7153-L7158)
```cs:line-numbers=7153
		}
		switch (currency)
		{
		case CurrencyType.Money: // [!code ++]
			if (id == "crimale2") // [!code ++]
			{ // [!code ++]
				return 6480; // [!code ++]
			} // [!code ++]
			break; // [!code ++]
		case CurrencyType.Influence:
			switch (id)
			{
```

## Chara

[`public void Revive(Point p = null, bool msg = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/Chara.cs#L5064-L5076)
```cs:line-numbers=5064
	sleepiness.value = 0;
	hostility = OriginalHostility;
	RemoveCondition<StanceTaunt>();
	if (id == "keeper_garden" && base.LV < 10000000) // [!code --]
	if (id == "keeper_garden") // [!code ++]
	{
		SetLv(base.LV * 10 + 9); // [!code --]
		base.hp = MaxHP; // [!code --]
		mana.value = mana.max; // [!code --]
		stamina.value = stamina.max; // [!code --]
		bossText = true; // [!code --]
		SaiyanRevive(); // [!code ++]
	}
	if (IsPC)
	{
```

[`public void Revive(Point p = null, bool msg = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/Chara.cs#L5123-L5128)
```cs:line-numbers=5123
		}
	}

	public void SaiyanRevive() // [!code ++]
	{ // [!code ++]
		ModCorruption(-100000); // [!code ++]
		if (base.LV < 10000000) // [!code ++]
		{ // [!code ++]
			SetLv(base.LV * 10 + 9); // [!code ++]
		} // [!code ++]
		Refresh(); // [!code ++]
		base.hp = MaxHP; // [!code ++]
		mana.value = mana.max; // [!code ++]
		stamina.value = stamina.max; // [!code ++]
		bossText = true; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public void MakeGrave(string lastword)
	{
		if (!EClass._zone.IsRegion)
```

## FEAT

[`void GodHint()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/FEAT.cs#L788-L798)
```cs:line-numbers=788
	}
	void ModAttribute(int ele)
	{
		if (!hint) // [!code --]
		{ // [!code --]
			Debug.Log(A); // [!code --]
			Debug.Log(((A == 1) ? 2 : ((A == 2) ? 4 : 5)) * invert); // [!code --]
		} // [!code --]
		_ = hint; // [!code ++]
		ModBase(ele, ((A == 1) ? 2 : ((A == 2) ? 4 : 5)) * invert, hide: false);
		ModPotential(ele, a * 10);
	}
```

## GameDate

[`public void AdvanceDay()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/GameDate.cs#L209-L214)
```cs:line-numbers=209
			EClass.world.SendPackage(p);
		}
	}
	if (base.day == 30 && base.month == 10 && (EClass.game.quests.IsStarted<QuestDebt>() || EClass.debug.enable)) // [!code ++]
	{ // [!code ++]
		Thing thing2 = ThingGen.Create("parchment"); // [!code ++]
		thing2.SetStr(53, "letter_crimale"); // [!code ++]
		Thing p2 = ThingGen.CreateParcel(null, ThingGen.Create("crimale2"), thing2); // [!code ++]
		EClass.world.SendPackage(p2); // [!code ++]
	} // [!code ++]
	if (base.day == 25 && base.month == 12)
	{
		EClass.world.SendPackage(ThingGen.Create("box_xmas"));
```

## GoalCombat

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/GoalCombat.cs#L306-L311)
```cs:line-numbers=306
		{
			yield return Success();
		}
		if (idleCount > 1 && owner.id == "keeper_garden" && owner.enemy != null) // [!code ++]
		{ // [!code ++]
			owner.Teleport(owner.enemy.pos.GetNearestPoint(allowBlock: false, allowChara: false, allowInstalled: true, ignoreCenter: true, 3) ?? EClass._map.GetRandomSurface(), silent: false, force: true); // [!code ++]
			yield return Success(); // [!code ++]
		} // [!code ++]
		if (idleCount > 2)
		{
			if (dontWander)
```

## ThingContainer

[`public void AddCurrency(Card owner, string id, int a, SourceMaterial.Row mat = n`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/ThingContainer.cs#L532-L538)
```cs:line-numbers=532
	ListCurrency(id);
	foreach (Thing temp in tempList)
	{
		if (!(temp.id != id) && (mat == null || temp.material == mat)) // [!code --]
		if (!(temp.id != id) && (mat == null || temp.material == mat) && temp.Num + num > 0) // [!code ++]
		{
			if (num > 0)
			{
```

[`public void AddCurrency(Card owner, string id, int a, SourceMaterial.Row mat = n`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/ThingContainer.cs#L555-L561)
```cs:line-numbers=555
			{
				thing.ChangeMaterial(mat);
			}
			owner.AddThing(thing).SetNum(num); // [!code --]
			owner.AddThing(thing, tryStack: false).SetNum(num); // [!code ++]
		}
	}

```

## Trait

[`public void OnBarter(bool reroll = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/Trait.cs#L1594-L1599)
```cs:line-numbers=1594
			{
				AddThing(item2);
			}
			AddThing(ThingGen.Create("crimale2")); // [!code ++]
		}
		else
		{
```

[`public void OnBarter(bool reroll = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/Trait.cs#L1931-L1937)
```cs:line-numbers=1931
				Add("bullet_energy", 1, 0).SetNum(100 + EClass.rnd(100)).ChangeMaterial("iron");
				break;
			case ShopType.Magic:
				if ((EClass._zone.id == "lumiest" && EClass._zone.lv == 0) || (EClass._zone.id != "lumiest" && EClass.rnd(4) == 0)) // [!code --]
				if (!Guild.Mage.IsMember && ((EClass._zone.id == "lumiest" && EClass._zone.lv == 0) || (EClass._zone.id != "lumiest" && EClass.rnd(4) == 0))) // [!code ++]
				{
					t.AddThing(ThingGen.Create("letter_trial"));
				}
```

[`public void OnBarter(bool reroll = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/Trait.cs#L2054-L2060)
```cs:line-numbers=2054
				{
					thing11.c_IDTState = 0;
				}
				if (CurrencyType == CurrencyType.Money && (thing11.category.IsChildOf("meal") || thing11.category.IsChildOf("preserved")) && thing11.id != "ration") // [!code --]
				if (CurrencyType == CurrencyType.Money && (thing11.category.IsChildOf("meal") || thing11.category.IsChildOf("preserved")) && thing11.id != "ration" && !thing11.IsUnique) // [!code ++]
				{
					thing11.c_priceFix = -70;
				}
```

## TraitDoor

[`public virtual bool CanClose()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/9f5823659b30a8c34f55b4f67d84b03db6b3a6cd/Elin/TraitDoor.cs#L98-L103)
```cs:line-numbers=98

	public virtual bool IsOpen()
	{
		if (owner.isRoofItem) // [!code ++]
		{ // [!code ++]
			return false; // [!code ++]
		} // [!code ++]
		int dir = owner.dir;
		Cell cell = owner.pos.cell;
		if (dir == 0 || dir == 2)
```
