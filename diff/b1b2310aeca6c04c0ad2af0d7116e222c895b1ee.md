---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 26 files modified. 2 new files created.
version: EA 23.195 Nightly
changes: AI_PlayMusic/ActEffect/ActRush/ActThrow/AttackProcess/AttackSource/Card/Chara/+ConSevenSense/CoreDebug/DOMAIN/ENC/FACTION/FEAT/FOOD/Game/InvOwner/LayerAbility/+LayerCalendar/MUTATION/POLICY/Player/SKILL/Scene/StatsMana/ThingGen/TraitTape/Zone
---

# EA 23.195 Nightly

September 6, 2025

26 files modified. 2 new files created.

## Important Changes

**None.**
## AI_PlayMusic

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/AI_PlayMusic.cs#L93-L98)
```cs:line-numbers=93
		case "piano_gould":
			idSong = "piano_gould";
			break;
		case "piano_killkill": // [!code ++]
		case "piano2":
			idSong = "piano_neko";
			break;
```

[`public void ThrowReward(Chara c, bool punish)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/AI_PlayMusic.cs#L467-L472)
```cs:line-numbers=467
		{
			text = "casino_coin";
		}
		if (owner.IsPC && !EClass._zone.IsInstance) // [!code ++]
		{ // [!code ++]
			if (c.LV >= 20 && EClass.rnd(10 * (int)Mathf.Pow(2f, EClass.player.flags.reward_killkill + 1)) == 0) // [!code ++]
			{ // [!code ++]
				text = "piano_killkill"; // [!code ++]
				punish = true; // [!code ++]
				EClass.player.flags.reward_killkill++; // [!code ++]
			} // [!code ++]
			if (c.LV >= 40 && EClass.rnd(10 * (int)Mathf.Pow(2f, EClass.player.flags.reward_gould + 1)) == 0) // [!code ++]
			{ // [!code ++]
				text = "piano_gould"; // [!code ++]
				punish = true; // [!code ++]
				EClass.player.flags.reward_gould++; // [!code ++]
			} // [!code ++]
		} // [!code ++]
	}
	else
	{
```

[`public void ThrowReward(Chara c, bool punish)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/AI_PlayMusic.cs#L519-L534)
```cs:line-numbers=519
	if (!owner.IsPC && owner.things.IsFull())
	{
		thing.Destroy();
		return; // [!code --]
	}
	owner.Pick(thing); // [!code --]
	if (thing.id == "money" && !owner.IsPC) // [!code --]
	else // [!code ++]
	{
		int num2 = (owner.Evalue(241) * 10 + 100) / ((owner.IsPCFaction && owner.memberType == FactionMemberType.Default) ? 1 : 10); // [!code --]
		if (owner.GetCurrency() - num2 > 0) // [!code --]
		if (!owner.IsAliveInCurrentZone) // [!code ++]
		{ // [!code ++]
			return; // [!code ++]
		} // [!code ++]
		owner.Pick(thing); // [!code ++]
		if (thing.id == "money" && !owner.IsPC) // [!code ++]
		{
			owner.c_allowance += num; // [!code --]
			owner.ModCurrency(-num); // [!code --]
			int num2 = (owner.Evalue(241) * 10 + 100) / ((owner.IsPCFaction && owner.memberType == FactionMemberType.Default) ? 1 : 10); // [!code ++]
			if (owner.GetCurrency() - num2 > 0) // [!code ++]
			{ // [!code ++]
				owner.c_allowance += num; // [!code ++]
				owner.ModCurrency(-num); // [!code ++]
			} // [!code ++]
		}
	}
}
```

## ActEffect

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/ActEffect.cs#L56-L62)
```cs:line-numbers=56
		power = power * actref.refThing.material.hardness / 10;
	}
	string text = id.ToString();
	string text2 = (EClass.sources.calc.map.ContainsKey(text) ? text : (EClass.sources.calc.map.ContainsKey("Sp" + text) ? ("Sp" + text) : (text.ToLower() + "_"))); // [!code --]
	string text2 = (EClass.sources.calc.map.ContainsKey(text) ? text : (EClass.sources.calc.map.ContainsKey("Sp" + text) ? ("Sp" + text) : (text.ToLowerInvariant() + "_"))); // [!code ++]
	foreach (Point p in points)
	{
		bool flag2 = true;
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/ActEffect.cs#L210-L218)
```cs:line-numbers=210
					attackSource = AttackSource.MoonSpear;
				}
			}
			if (id == EffectId.Sword) // [!code --]
			switch (id) // [!code ++]
			{
			case EffectId.Arrow: // [!code ++]
				attackSource = AttackSource.MagicArrow; // [!code ++]
				break; // [!code ++]
			case EffectId.Sword: // [!code ++]
				attackSource = AttackSource.MagicSword;
				break; // [!code ++]
			}
			long num4 = 0L;
			bool isChara = CC.isChara;
```

## ActRush

[`public override bool Perform()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/ActRush.cs#L72-L77)
```cs:line-numbers=72
		Act.CC.Say("rush", Act.CC, Act.TC);
		Act.CC.PlaySound("rush");
		Act.CC.pos.PlayEffect("vanish");
		return Attack(1f + 0.1f * (float)num); // [!code --]
		float num2 = 1f + 0.1f * (float)num; // [!code ++]
		num2 = num2 * (float)(100 + EClass.curve(Act.CC.Evalue(382), 50, 25, 65)) / 100f; // [!code ++]
		Attack(num2); // [!code ++]
		if (Act.TC.isChara && Act.TC.ExistsOnMap && Act.CC.HasElement(382)) // [!code ++]
		{ // [!code ++]
			if (!Act.TC.IsPowerful || EClass.rnd(4) == 0) // [!code ++]
			{ // [!code ++]
				Act.TC.Chara.AddCondition<ConParalyze>(2, force: true); // [!code ++]
			} // [!code ++]
			if (!Act.TC.IsPowerful || EClass.rnd(3) == 0) // [!code ++]
			{ // [!code ++]
				Act.TC.Chara.AddCondition<ConDim>(5, force: true); // [!code ++]
			} // [!code ++]
			if (!Act.TC.IsPowerful || EClass.rnd(2) == 0) // [!code ++]
			{ // [!code ++]
				Act.TC.Chara.AddCondition<ConConfuse>(8, force: true); // [!code ++]
			} // [!code ++]
		} // [!code ++]
		return true; // [!code ++]
	}
}
```

## ActThrow

[`public static EffectIRenderer Throw(Card c, Point p, Card target, Thing t, Throw`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/ActThrow.cs#L130-L136)
```cs:line-numbers=130
		result = Effect.Get<EffectIRenderer>((t.trait is TraitBall) ? "throw_ball" : "throw").Play((c.isChara && c.Chara.host != null) ? c.Chara.host : c, t, c.pos, p, 0.2f);
		t.renderer.SetFirst(first: false, c.renderer.position);
	}
	if (!t.HasElement(410)) // [!code --]
	if (!t.HasElement(410) || method == ThrowMethod.Punish) // [!code ++]
	{
		t._Move(p);
	}
```

[`public static EffectIRenderer Throw(Card c, Point p, Card target, Thing t, Throw`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/ActThrow.cs#L311-L316)
```cs:line-numbers=311
	if (!flag && Act.TC != null)
	{
		AttackProcess.Current.Prepare(c.Chara, t, Act.TC, Act.TP, 0, _isThrow: true);
		if (method == ThrowMethod.Punish && t.rarity >= Rarity.Legendary) // [!code ++]
		{ // [!code ++]
			AttackProcess.Current.critFury = true; // [!code ++]
		} // [!code ++]
		if (AttackProcess.Current.Perform(0, hasHit: false))
		{
			if (Act.TC.IsAliveInCurrentZone && t.trait is TraitErohon && Act.TC.id == t.c_idRefName)
```

## AttackProcess

[`public void Prepare(Chara _CC, Thing _weapon, Card _TC = null, Point _TP = null,`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/AttackProcess.cs#L209-L214)
```cs:line-numbers=209
			toHitBase = toHitBase * 75 / 100;
		}
		penetration = Mathf.Clamp(weaponSkill.Value / 10 + 5, 5, 20) + CC.Evalue(92);
		if (CC.HasElement(1244)) // [!code ++]
		{ // [!code ++]
			penetration += 25; // [!code ++]
		} // [!code ++]
		if (IsMartialWeapon)
		{
			dBonus += weapon.DMG;
```

[`public bool CalcHit()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/AttackProcess.cs#L954-L959)
```cs:line-numbers=954
		crit = true;
		return true;
	}
	if (CC.HasElement(1244) && CC.HasCondition<ConSevenSense>()) // [!code ++]
	{ // [!code ++]
		return true; // [!code ++]
	} // [!code ++]
	if (TC != null)
	{
		if (TC.HasCondition<ConDim>() && EClass.rnd(4) == 0)
```

## AttackSource

[`public enum AttackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/AttackSource.cs#L20-L24)
```cs:line-numbers=20
	DeathSentense,
	Shockwave,
	MagicSword,
	MoonSpear // [!code --]
	MoonSpear, // [!code ++]
	MagicArrow // [!code ++]
}
```

## Card

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L3970-L3975)
```cs:line-numbers=3970
		return;
	}
	bool flag = originalTarget != null;
	Action onEvade = null; // [!code ++]
	if (isChara && !isRestrained && !HasElement(1241) && !flag)
	{
		AttackSource attackSource2 = attackSource;
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4018-L4023)
```cs:line-numbers=4018
			{
				num3 += 2;
			}
			if (attackSource == AttackSource.MagicArrow && origin != null && origin.HasElement(1244)) // [!code ++]
			{ // [!code ++]
				num3++; // [!code ++]
			} // [!code ++]
			dmg = Element.GetResistDamage(dmg, Evalue(e.source.aliasRef), num3);
			dmg = dmg * 100 / (100 + Mathf.Clamp(Evalue(961) * 5, -50, 200));
			dmg = dmg * Mathf.Max(100 - Evalue(93), 10) / 100;
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4201-L4212)
```cs:line-numbers=4201
	}
	ZoneInstanceBout zoneInstanceBout = EClass._zone.instance as ZoneInstanceBout;
	bool flag2 = false;
	bool flag3 = false; // [!code --]
	if (hp < 0 && Religion.recentWrath == null)
	{
		if (isRestrained && IsPCFaction && EClass._zone.IsPCFaction && (!IsPC || (Chara.ai is AI_Torture && Chara.ai.IsRunning)))
		{
			EvadeDeath(); // [!code --]
			EvadeDeath(null); // [!code ++]
			if (Chara.stamina.value > 0 && (EClass.rnd(2) == 0 || !IsPC))
			{
				Chara.stamina.Mod(-1);
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4214-L4265)
```cs:line-numbers=4214
		}
		else if (IsInstalled && pos.HasBlock && trait.IsDoor)
		{
			EvadeDeath(); // [!code --]
			EvadeDeath(null); // [!code ++]
		}
		else if (!trait.CanBeDestroyed)
		{
			EvadeDeath(); // [!code --]
			EvadeDeath(null); // [!code ++]
		}
		else if (HasEditorTag(EditorTag.Invulnerable) || (HasEditorTag(EditorTag.InvulnerableToMobs) && (origin == null || !origin.IsPCParty)))
		{
			EvadeDeath(); // [!code --]
			EvadeDeath(null); // [!code ++]
		}
		else if (isChara)
		{
			if (Chara.HasCondition<ConInvulnerable>())
			{
				EvadeDeath(); // [!code --]
				EvadeDeath(null); // [!code ++]
			}
			else if (IsPC && EClass.debug.godMode)
			{
				EvadeDeath(); // [!code --]
				EvadeDeath(null); // [!code ++]
			}
			else if (Chara.host != null || (weapon != null && weapon.HasElement(485)))
			{
				EvadeDeath(); // [!code --]
				EvadeDeath(null); // [!code ++]
				flag2 = true;
			}
			else
			{
				if (origin != null && origin != this && Evalue(436) > 0 && !HasCondition<ConFractured>())
				{
					int num13 = (HasElement(1218) ? MaxHP : (MaxHP / 2)); // [!code --]
					if (num10 > num13) // [!code --]
					int half = (HasElement(1218) ? MaxHP : (MaxHP / 2)); // [!code ++]
					if (num10 > half) // [!code ++]
					{
						EvadeDeath(); // [!code --]
						flag3 = true; // [!code --]
						Chara.AddCondition<ConFractured>((int)Mathf.Max(10f, 30f - Mathf.Sqrt(Evalue(436)))); // [!code --]
						hp = Mathf.Min(num13 * (int)Mathf.Sqrt(Evalue(436) * 2) / 100, MaxHP / 3); // [!code --]
						goto IL_0ed7; // [!code --]
						EvadeDeath(delegate // [!code ++]
						{ // [!code ++]
							Say("guts", this); // [!code ++]
							Chara.AddCondition<ConFractured>((int)Mathf.Max(10f, 30f - Mathf.Sqrt(Evalue(436)))); // [!code ++]
							hp = Mathf.Min(half * (int)Mathf.Sqrt(Evalue(436) * 2) / 100, MaxHP / 3); // [!code ++]
						}); // [!code ++]
						goto IL_0e69; // [!code ++]
					}
				}
				if (zoneInstanceBout != null && (bool)LayerDrama.Instance)
				{
					EvadeDeath(); // [!code --]
					EvadeDeath(null); // [!code ++]
				}
				else if (LayerDrama.IsActive() && IsPC)
				{
					EvadeDeath(); // [!code --]
					EvadeDeath(null); // [!code ++]
				}
				else
				{
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4277-L4301)
```cs:line-numbers=4277
						}
						if (EClass.player.invlunerable)
						{
							EvadeDeath(); // [!code --]
							goto IL_0ed7; // [!code --]
							EvadeDeath(null); // [!code ++]
							goto IL_0e69; // [!code ++]
						}
					}
					if (Evalue(1220) > 0 && Chara.stamina.value >= (IsPC ? (Chara.stamina.max / 2) : (Chara.stamina.max / 3 * 2)))
					{
						Say("fate", this); // [!code --]
						PlaySound("revive"); // [!code --]
						PlayEffect("aura_heaven"); // [!code --]
						Chara.stamina.Mod(-Chara.stamina.max / 2); // [!code --]
						Chara.AddCondition<ConInvulnerable>(); // [!code --]
						EvadeDeath(); // [!code --]
						EvadeDeath(delegate // [!code ++]
						{ // [!code ++]
							Say("fate", this); // [!code ++]
							PlaySound("revive"); // [!code ++]
							PlayEffect("aura_heaven"); // [!code ++]
							Chara.stamina.Mod(-Chara.stamina.max / 2); // [!code ++]
							Chara.AddCondition<ConInvulnerable>(); // [!code ++]
						}); // [!code ++]
					}
				}
			}
		}
	}
	goto IL_0ed7; // [!code --]
	IL_0ed7: // [!code --]
	goto IL_0e69; // [!code ++]
	IL_0e69: // [!code ++]
	if (trait.CanBeAttacked)
	{
		renderer.PlayAnime(AnimeID.HitObj);
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4486-L4493)
```cs:line-numbers=4486
	}
	else if (isChara)
	{
		int num14 = ((attackSource != AttackSource.Condition && attackSource != AttackSource.WeaponEnchant) ? 1 : 2); // [!code --]
		if (num9 >= num14) // [!code --]
		int num13 = ((attackSource != AttackSource.Condition && attackSource != AttackSource.WeaponEnchant) ? 1 : 2); // [!code ++]
		if (num9 >= num13) // [!code ++]
		{
			if (e != Element.Void)
			{
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4499-L4508)
```cs:line-numbers=4499
			}
		}
	}
	if (flag3) // [!code --]
	{ // [!code --]
		Say("guts", this); // [!code --]
	} // [!code --]
	onEvade?.Invoke(); // [!code ++]
	if (isChara)
	{
		if (flag2)
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4521-L4528)
```cs:line-numbers=4521
			}
			if (attackSource == AttackSource.Melee || attackSource == AttackSource.Range)
			{
				int num15 = origin.Dist(this); // [!code --]
				if (attackSource == AttackSource.Melee && HasElement(1221) && num15 <= Evalue(1221)) // [!code --]
				int num14 = origin.Dist(this); // [!code ++]
				if (attackSource == AttackSource.Melee && HasElement(1221) && num14 <= Evalue(1221)) // [!code ++]
				{
					int ele2 = ((Chara.MainElement == Element.Void) ? 924 : Chara.MainElement.id);
					if (id == "hedgehog_ether")
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4532-L4538)
```cs:line-numbers=4532
					Say("reflect_thorne", this, origin);
					origin.DamageHP(Mathf.Clamp(dmg / 10, 1, MaxHP / (origin.IsPowerful ? 200 : 20)), ele2, Power, AttackSource.Condition, this);
				}
				if (HasElement(1223) && num15 <= Evalue(1223)) // [!code --]
				if (HasElement(1223) && num14 <= Evalue(1223)) // [!code ++]
				{
					int ele3 = ((Chara.MainElement == Element.Void) ? 923 : Chara.MainElement.id);
					Say("reflect_acid", this, origin);
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4559-L4575)
```cs:line-numbers=4559
			}
		}
	}
	int num16 = ((EClass.rnd(2) == 0) ? 1 : 0); // [!code --]
	int num15 = ((EClass.rnd(2) == 0) ? 1 : 0); // [!code ++]
	if (attackSource == AttackSource.Condition)
	{
		num16 = 1 + EClass.rnd(2); // [!code --]
		num15 = 1 + EClass.rnd(2); // [!code ++]
	}
	if (num16 > 0) // [!code --]
	if (num15 > 0) // [!code ++]
	{
		bool flag4 = Chara.HasCondition<ConPoison>() || ((e.id == 915 || e.id == 923) && ResistLv(Evalue(955)) < 4); // [!code --]
		AddBlood(num16, flag4 ? 6 : (-1)); // [!code --]
		bool flag3 = Chara.HasCondition<ConPoison>() || ((e.id == 915 || e.id == 923) && ResistLv(Evalue(955)) < 4); // [!code ++]
		AddBlood(num15, flag3 ? 6 : (-1)); // [!code ++]
	}
	bool flag5 = true; // [!code --]
	bool flag4 = true; // [!code ++]
	switch (e.id)
	{
	case 910:
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4610-L4623)
```cs:line-numbers=4610
		}
		break;
	case 918:
		flag5 = false; // [!code --]
		flag4 = false; // [!code ++]
		if (Chance(30 + eleP / 5, 100))
		{
			Chara.AddCondition<ConParalyze>(eleP);
		}
		break;
	case 914:
		flag5 = false; // [!code --]
		flag4 = false; // [!code ++]
		if (EClass.rnd(3) != 0)
		{
			if (Chance(30 + eleP / 5, 100))
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4657-L4663)
```cs:line-numbers=4657
		}
		break;
	case 920:
		flag5 = false; // [!code --]
		flag4 = false; // [!code ++]
		if (Chance(5 + eleP / 25, 40))
		{
			Chara.AddCondition<ConBlind>(eleP / 2);
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4709-L4728)
```cs:line-numbers=4709
		Chara.AddCondition<ConGravity>(2000);
		Condition.ignoreEffect = false;
	}
	if (Chara.conSleep != null && flag5) // [!code --]
	if (Chara.conSleep != null && flag4) // [!code ++]
	{
		Chara.conSleep.Kill();
	}
	if (IsPC)
	{
		float num17 = (float)hp / (float)MaxHP; // [!code --]
		float num16 = (float)hp / (float)MaxHP; // [!code ++]
		if (Evalue(1421) > 0)
		{
			num17 = (float)Chara.mana.value / (float)Chara.mana.max; // [!code --]
			num16 = (float)Chara.mana.value / (float)Chara.mana.max; // [!code ++]
		}
		if (num17 < 0.3f) // [!code --]
		if (num16 < 0.3f) // [!code ++]
		{
			PlaySound("heartbeat", 1f - num17 * 2f); // [!code --]
			PlaySound("heartbeat", 1f - num16 * 2f); // [!code ++]
		}
	}
	if (!IsPC && hp < MaxHP / 5 && Evalue(423) <= 0 && dmg * 100 / MaxHP + 10 > EClass.rnd(IsPowerful ? 400 : 150) && !HasCondition<ConFear>())
```

[`bool Chance(int a, int max)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4775-L4787)
```cs:line-numbers=4775
		}
		return false;
	}
	void EvadeDeath() // [!code --]
	void EvadeDeath(Action action) // [!code ++]
	{
		hp = 0;
		if (Evalue(1421) > 0 && isChara && Chara.mana.value < 0)
		{
			Chara.mana.value = 0;
		}
		onEvade = action; // [!code ++]
	}
	void Heal()
	{
```

[`void ProcAbsorb()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L4799-L4827)
```cs:line-numbers=4799
			int valueOrDefault2 = (origin.Evalue(661) + weapon?.Evalue(661, ignoreGlobalElement: true)).GetValueOrDefault();
			if (valueOrDefault > 0 && attackSource == AttackSource.Melee && origin.isChara && !origin.Chara.ignoreSPAbsorb && Chara.IsHostile(origin as Chara))
			{
				int num18 = EClass.rnd(3 + Mathf.Clamp(dmg / 100, 0, valueOrDefault / 10)); // [!code --]
				origin.Chara.stamina.Mod(num18); // [!code --]
				int num17 = EClass.rnd(3 + Mathf.Clamp(dmg / 100, 0, valueOrDefault / 10)); // [!code ++]
				origin.Chara.stamina.Mod(num17); // [!code ++]
				if (IsAliveInCurrentZone)
				{
					Chara.stamina.Mod(-num18); // [!code --]
					Chara.stamina.Mod(-num17); // [!code ++]
				}
			}
			if (origin.HasElement(1350) && attackSource == AttackSource.Melee)
			{
				int num19 = EClass.rndHalf(2 + Mathf.Clamp(dmg / 10, 0, origin.Chara.GetPietyValue() + 10)); // [!code --]
				origin.Chara.mana.Mod(num19); // [!code --]
				int num18 = EClass.rndHalf(2 + Mathf.Clamp(dmg / 10, 0, origin.Chara.GetPietyValue() + 10)); // [!code ++]
				origin.Chara.mana.Mod(num18); // [!code ++]
				if (IsAliveInCurrentZone)
				{
					Chara.mana.Mod(-num19); // [!code --]
					Chara.mana.Mod(-num18); // [!code ++]
				}
			}
			if (valueOrDefault2 > 0 && attackSource == AttackSource.Melee)
			{
				int num20 = EClass.rnd(2 + Mathf.Clamp(dmg / 10, 0, valueOrDefault2 + 10)); // [!code --]
				origin.Chara.mana.Mod(num20); // [!code --]
				int num19 = EClass.rnd(2 + Mathf.Clamp(dmg / 10, 0, valueOrDefault2 + 10)); // [!code ++]
				origin.Chara.mana.Mod(num19); // [!code ++]
				if (IsAliveInCurrentZone)
				{
					Chara.mana.Mod(-num20); // [!code --]
					Chara.mana.Mod(-num19); // [!code ++]
				}
			}
		}
```

[`public void SpawnLoot(Card origin)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L5036-L5041)
```cs:line-numbers=5036
			int num4 = array[1].ToInt();
			if (num4 >= 1000 || num4 > EClass.rnd(1000) || EClass.debug.godMode)
			{
				CardRow cardRow = EClass.sources.cards.map[array[0]]; // [!code ++]
				if (cardRow != null && cardRow.Category.slot != 0 && cardRow.quality == 0 && EClass.pc.Evalue(1660) * 25 > EClass.rnd(100)) // [!code ++]
				{ // [!code ++]
					CardBlueprint.SetRarity(Rarity.Legendary); // [!code ++]
				} // [!code ++]
				list.Add(ThingGen.Create(array[0]).SetNum((num4 < 1000) ? 1 : (num4 / 1000 + ((EClass.rnd(1000) > num4 % 1000) ? 1 : 0))));
			}
		}
```

[`public void ApplyBacker(int bid)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Card.cs#L6741-L6747)
```cs:line-numbers=6741
	{
		Chara.bio.SetGender(row.gender);
		Chara.bio.SetPortrait(Chara);
		Chara.idFaith = row.deity.ToLower(); // [!code --]
		Chara.idFaith = row.deity.ToLowerInvariant(); // [!code ++]
	}
	if (row.type == 4 || row.type == 5 || row.type == 7)
	{
```

## Chara

[`public bool UseAbility(Act a, Card tc = null, Point pos = null, bool pt = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Chara.cs#L5585-L5591)
```cs:line-numbers=5585
	{
		return false;
	}
	if (a.source.proc.TryGet(0) == "Heal" && HasElement(1422)) // [!code --]
	if (a.source.proc.TryGet(0) == "Heal" && HasElement(1422) && !IsPC) // [!code ++]
	{
		List<int> list = new List<int> { 8400, 8401, 8402, 8403, 8404, 8405 };
		int num = list.IndexOf(a.id);
```

[`public bool UseAbility(Act a, Card tc = null, Point pos = null, bool pt = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Chara.cs#L5690-L5696)
```cs:line-numbers=5690
	{
		num3 = 1 + Evalue(1648);
	}
	Debug.Log(cost.cost + "/" + a.Value); // [!code --]
	if (IsPC && cost.cost > 0 && a.Value == 0)
	{
		Msg.SayNothingHappen();
```

## +ConSevenSense

::: details File Created
```cs
public class ConSevenSense : ConBoost
{
}
```

:::
## CoreDebug

[`public void UpdateInput()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/CoreDebug.cs#L1002-L1028)
```cs:line-numbers=1002
	}
	if (Input.GetKeyDown(KeyCode.F4))
	{
		foreach (Chara member in EClass.pc.party.members) // [!code --]
		{ // [!code --]
			member.InstantEat(); // [!code --]
			if (!member.IsPC) // [!code --]
			{ // [!code --]
				string id = "test"; // [!code --]
				member.spriteReplacer = new SpriteReplacer(); // [!code --]
				member.spriteReplacer.HasSprite(id); // [!code --]
				member._CreateRenderer(); // [!code --]
			} // [!code --]
		} // [!code --]
		for (int j = 0; j < 10; j++) // [!code --]
		{ // [!code --]
			Thing thing2 = ThingGen.CreateFromCategory("fish", 999); // [!code --]
			thing2.SetTier(EScriptable.rnd(4)); // [!code --]
			EClass.pc.Pick(thing2); // [!code --]
			thing2 = ThingGen.Create("89"); // [!code --]
			thing2.SetTier(EScriptable.rnd(4)); // [!code --]
			EClass.pc.Pick(thing2); // [!code --]
		} // [!code --]
		EClass.pc.PlayEffect("phoenix"); // [!code --]
		EClass.ui.AddLayer<LayerCalendar>(); // [!code ++]
		return;
	}
	if (Input.GetKeyDown(KeyCode.F5))
```

[`public void UpdateInput()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/CoreDebug.cs#L1041-L1049)
```cs:line-numbers=1041
	{
		EClass.core.WaitForEndOfFrame(delegate
		{
			string id2 = (Input.GetKey(KeyCode.LeftControl) ? "quick3" : (Input.GetKey(KeyCode.LeftShift) ? "quick2" : "quick")); // [!code --]
			string id = (Input.GetKey(KeyCode.LeftControl) ? "quick3" : (Input.GetKey(KeyCode.LeftShift) ? "quick2" : "quick")); // [!code ++]
			EClass.scene.Init(Scene.Mode.None);
			Game.Load(id2, cloud: false); // [!code --]
			Game.Load(id, cloud: false); // [!code ++]
		});
	}
	if (Input.GetKeyDown(KeyCode.F7))
```

[`public void UpdateInput()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/CoreDebug.cs#L1088-L1094)
```cs:line-numbers=1088
		if (Input.GetKey(KeyCode.F9))
		{
			EClass.scene.paused = false;
			for (int k = 0; k < advanceMin; k++) // [!code --]
			for (int j = 0; j < advanceMin; j++) // [!code ++]
			{
				EClass.game.updater.FixedUpdate();
			}
```

[`public void UpdateInput()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/CoreDebug.cs#L1228-L1235)
```cs:line-numbers=1228
	{
		for (int num4 = hitPoint.detail.things.Count - 1; num4 >= 0; num4--)
		{
			Thing thing3 = hitPoint.detail.things[num4]; // [!code --]
			Debug.Log(thing3.id + "/" + thing3.Pref.height + "/" + thing3.trait?.ToString() + "/" + thing3.source.tileType.CanStack + "/" + thing3.source.tileType?.ToString() + "/" + thing3.isSynced + "/" + RenderObject.syncList.Contains(thing3.renderer)); // [!code --]
			Thing thing2 = hitPoint.detail.things[num4]; // [!code ++]
			Debug.Log(thing2.id + "/" + thing2.Pref.height + "/" + thing2.trait?.ToString() + "/" + thing2.source.tileType.CanStack + "/" + thing2.source.tileType?.ToString() + "/" + thing2.isSynced + "/" + RenderObject.syncList.Contains(thing2.renderer)); // [!code ++]
		}
	}
	if (!Application.isEditor)
```

[`public void UpdateInput()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/CoreDebug.cs#L1305-L1344)
```cs:line-numbers=1305
	case DebugHotkey.Item:
		if (Input.GetKeyDown(KeyCode.Alpha1))
		{
			Thing thing4 = ThingGen.Create("stairsDown_cave"); // [!code --]
			Thing thing3 = ThingGen.Create("stairsDown_cave"); // [!code ++]
			EClass._zone.AddCard(thing3, EClass.pc.pos); // [!code ++]
			thing3.SetPlaceState(PlaceState.installed); // [!code ++]
		} // [!code ++]
		if (Input.GetKeyDown(KeyCode.Alpha2)) // [!code ++]
		{ // [!code ++]
			Thing thing4 = ThingGen.Create("stairs"); // [!code ++]
			EClass._zone.AddCard(thing4, EClass.pc.pos);
			thing4.SetPlaceState(PlaceState.installed);
		}
		if (Input.GetKeyDown(KeyCode.Alpha2)) // [!code --]
		if (Input.GetKeyDown(KeyCode.Alpha3)) // [!code ++]
		{
			Thing thing5 = ThingGen.Create("stairs"); // [!code --]
			EClass._zone.AddCard(thing5, EClass.pc.pos); // [!code --]
			Thing thing5 = ThingGen.Create("sign"); // [!code ++]
			EClass._zone.AddCard(thing5, hitPoint); // [!code ++]
			thing5.SetPlaceState(PlaceState.installed);
		}
		if (Input.GetKeyDown(KeyCode.Alpha3)) // [!code --]
		if (Input.GetKeyDown(KeyCode.Alpha4)) // [!code ++]
		{
			Thing thing6 = ThingGen.Create("sign"); // [!code --]
			Thing thing6 = ThingGen.Create("sign2"); // [!code ++]
			EClass._zone.AddCard(thing6, hitPoint);
			thing6.SetPlaceState(PlaceState.installed);
		}
		if (Input.GetKeyDown(KeyCode.Alpha4)) // [!code --]
		if (Input.GetKeyDown(KeyCode.Alpha5)) // [!code ++]
		{
			Thing thing7 = ThingGen.Create("sign2"); // [!code --]
			Thing thing7 = ThingGen.Create("well"); // [!code ++]
			EClass._zone.AddCard(thing7, hitPoint);
			thing7.SetPlaceState(PlaceState.installed);
		}
		if (Input.GetKeyDown(KeyCode.Alpha5)) // [!code --]
		if (Input.GetKeyDown(KeyCode.Alpha6)) // [!code ++]
		{
			Thing thing8 = ThingGen.Create("well"); // [!code --]
			Thing thing8 = ThingGen.Create("altar"); // [!code ++]
			EClass._zone.AddCard(thing8, hitPoint);
			thing8.SetPlaceState(PlaceState.installed);
		}
		if (Input.GetKeyDown(KeyCode.Alpha6)) // [!code --]
		{ // [!code --]
			Thing thing9 = ThingGen.Create("altar"); // [!code --]
			EClass._zone.AddCard(thing9, hitPoint); // [!code --]
			thing9.SetPlaceState(PlaceState.installed); // [!code --]
		} // [!code --]
		if (Input.GetKeyDown(KeyCode.Alpha7))
		{
			Thing t = ThingGen.Create("torch");
```

[`public void InitDebugCommands()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/CoreDebug.cs#L1494-L1500)
```cs:line-numbers=1494
					}
					break;
				case 6:
					if (!EClass.sources.religions.map.ContainsKey(row2.deity.ToLower())) // [!code --]
					if (!EClass.sources.religions.map.ContainsKey(row2.deity.ToLowerInvariant())) // [!code ++]
					{
						Debug.Log(row2.id + "/" + row2.Name + "/follower/" + row2.deity);
					}
```

## DOMAIN

[`public class Domain : EClass`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/DOMAIN.cs#L46-L52)
```cs:line-numbers=46

	public Sprite GetSprite()
	{
		string text = source.alias.Remove(0, 3).ToLower(); // [!code --]
		string text = source.alias.Remove(0, 3).ToLowerInvariant(); // [!code ++]
		return ResourceCache.Load<Sprite>("Media/Graphics/Image/Faction/" + text);
	}
}
```

## ENC

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/ENC.cs#L62-L116)
```cs:line-numbers=62

	public const int mod_ammo_recover = 604;

	public const int negateShockwave = 430; // [!code --]
	public const int seeInvisible = 416; // [!code ++]

	public const int breathing = 429; // [!code --]
	public const int loving = 417; // [!code ++]

	public const int allNeckHunt = 428; // [!code --]
	public const int innocence = 418; // [!code ++]

	public const int negateNeckHunt = 427; // [!code --]
	public const int encTail = 419; // [!code ++]

	public const int negateConfusion = 425; // [!code --]
	public const int negatePoison = 420; // [!code ++]

	public const int negateSleep = 424; // [!code --]
	public const int negateBlind = 421; // [!code ++]

	public const int negateFear = 423; // [!code --]
	public const int invisibility = 415; // [!code ++]

	public const int negateParalysis = 422;

	public const int negateBlind = 421; // [!code --]
	public const int negateSleep = 424; // [!code ++]

	public const int negatePoison = 420; // [!code --]
	public const int negateConfusion = 425; // [!code ++]

	public const int encTail = 419; // [!code --]
	public const int negateNeckHunt = 427; // [!code ++]

	public const int innocence = 418; // [!code --]
	public const int allNeckHunt = 428; // [!code ++]

	public const int loving = 417; // [!code --]
	public const int breathing = 429; // [!code ++]

	public const int seeInvisible = 416; // [!code --]
	public const int negateShockwave = 430; // [!code ++]

	public const int invisibility = 415; // [!code --]
	public const int negateFear = 423; // [!code ++]
 // [!code ++]
	public const int defense_range = 435; // [!code ++]

	public const int encHit = 414;

	public const int slowCorruption = 412; // [!code --]
	public const int encSpell = 411; // [!code ++]

	public const int counter = 380;

	public const int basher = 381;

	public const int rusher = 382; // [!code ++]
 // [!code ++]
	public const int negateTeleport = 400;

	public const int levitation = 401;

	public const int searchRange = 402;

	public const int expMod = 403; // [!code --]
	public const int slowCorruption = 412; // [!code ++]

	public const int defense_range = 435; // [!code --]
	public const int expMod = 403; // [!code ++]

	public const int weightMod = 404; // [!code --]
	public const int slowDecay = 405; // [!code ++]

	public const int resMutation = 406;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/ENC.cs#L122-L130)
```cs:line-numbers=122

	public const int throwReturn = 410;

	public const int encSpell = 411; // [!code --]
 // [!code --]
	public const int slowDecay = 405; // [!code --]
	public const int weightMod = 404; // [!code ++]

	public const int guts = 436;

```

[`public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/ENC.cs#L170-L214)
```cs:line-numbers=170

	public const int bane_animal = 463;

	public const int negateParry = 439; // [!code --]
 // [!code --]
	public const int bane_man = 464; // [!code --]
 // [!code --]
	public const int sustain_STR = 440;

	public const int sustain_END = 441;

	public const int sustain_DEX = 442;

	public const int sustain_LER = 444; // [!code --]
 // [!code --]
	public const int sustain_WIL = 445; // [!code --]
 // [!code --]
	public const int sustain_PER = 443;

	public const int sustain_CHA = 447; // [!code --]
	public const int sustain_LER = 444; // [!code ++]

	public const int bane_fairy = 462; // [!code --]
	public const int sustain_MAG = 446; // [!code ++]
 // [!code ++]
	public const int sustain_WIL = 445; // [!code ++]

	public const int sustain_figure = 450;

	public const int bane_dragon = 460;

	public const int negateParry = 439; // [!code ++]
 // [!code ++]
	public const int bane_undead = 461;

	public const int sustain_MAG = 446; // [!code --]
	public const int bane_fairy = 462; // [!code ++]
 // [!code ++]
	public const int sustain_CHA = 447; // [!code ++]
 // [!code ++]
	public const int bane_man = 464; // [!code ++]

	public static readonly int[] IDS = new int[99] // [!code --]
	public static readonly int[] IDS = new int[100] // [!code ++]
	{
		651, 650, 641, 640, 624, 609, 622, 621, 608, 620,
		652, 623, 653, 851, 655, 656, 660, 661, 662, 663,
		664, 665, 666, 850, 607, 865, 852, 654, 606, 426,
		604, 430, 429, 428, 427, 425, 424, 423, 422, 421, // [!code --]
		420, 419, 418, 417, 416, 415, 414, 412, 380, 381, // [!code --]
		400, 401, 402, 403, 435, 404, 406, 605, 408, 409, // [!code --]
		410, 411, 405, 436, 407, 438, 467, 468, 480, 481, // [!code --]
		482, 483, 484, 485, 486, 488, 600, 601, 602, 603, // [!code --]
		437, 466, 465, 487, 463, 439, 464, 440, 441, 442, // [!code --]
		444, 445, 443, 447, 462, 450, 460, 461, 446 // [!code --]
		604, 416, 417, 418, 419, 420, 421, 415, 422, 424, // [!code ++]
		425, 427, 428, 429, 430, 423, 435, 414, 411, 380, // [!code ++]
		381, 382, 400, 401, 402, 412, 403, 405, 406, 605, // [!code ++]
		408, 409, 410, 404, 436, 407, 438, 467, 468, 480, // [!code ++]
		481, 482, 483, 484, 485, 486, 488, 600, 601, 602, // [!code ++]
		603, 437, 466, 465, 487, 463, 440, 441, 442, 443, // [!code ++]
		444, 446, 445, 450, 460, 439, 461, 462, 447, 464 // [!code ++]
	};
}
```

## FACTION

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FACTION.cs#L4-L27)
```cs:line-numbers=4

public class FACTION
{
	public const int bfHill = 3603; // [!code ++]
 // [!code ++]
	public const int bfForest = 3601;

	public const int bfSnow = 3602;

	public const int bfHill = 3603; // [!code --]
	public const int bfFertile = 3700; // [!code ++]

	public const int bfSea = 3605;

	public const int bfUndersea = 3606;

	public const int bfRuin = 3702; // [!code --]
 // [!code --]
	public const int bfPlain = 3600;

	public const int bfFertile = 3700; // [!code --]
 // [!code --]
	public const int bfGeyser = 3701;

	public const int bfRuin = 3702; // [!code ++]
 // [!code ++]
	public const int bfBeach = 3604;

	public const int bfCave = 3500;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FACTION.cs#L58-L64)
```cs:line-numbers=58

	public const int bfFish = 3706;

	public const int fAdmin = 2115; // [!code --]
	public const int fEducation = 2116; // [!code ++]

	public const int actBuildInspect = 4006;

```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FACTION.cs#L106-L123)
```cs:line-numbers=106

	public const int bfHunt = 3705;

	public const int fConstruction = 2003; // [!code --]
	public const int fAdmin = 2115; // [!code ++]

	public const int fEducation = 2116; // [!code --]
	public const int fConstruction = 2003; // [!code ++]

	public static readonly int[] IDS = new int[53]
	{
		3601, 3602, 3603, 3605, 3606, 3702, 3600, 3700, 3701, 3604, // [!code --]
		3603, 3601, 3602, 3700, 3605, 3606, 3600, 3701, 3702, 3604, // [!code ++]
		3500, 2201, 2206, 2205, 2204, 2203, 2202, 2200, 2120, 2119,
		2117, 3703, 2118, 2207, 3704, 3805, 3706, 2115, 4006, 4005, // [!code --]
		2117, 3703, 2118, 2207, 3704, 3805, 3706, 2116, 4006, 4005, // [!code ++]
		4004, 4003, 4002, 4001, 4000, 3900, 3804, 3803, 3802, 3801,
		3800, 3784, 3783, 3782, 3781, 3780, 3710, 3709, 3708, 3707,
		3705, 2003, 2116 // [!code --]
		3705, 2115, 2003 // [!code ++]
	};
}
public class Faction : EClass
```

## FEAT

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FEAT.cs#L29-L38)
```cs:line-numbers=29

	public const int featHardy = 1630;

	public const int featParty = 1645; // [!code --]
 // [!code --]
	public const int featSPD = 1629;

	public const int featLuck = 1628; // [!code ++]
 // [!code ++]
	public const int featCHA = 1627;

	public const int featWIL = 1626;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FEAT.cs#L57-L66)
```cs:line-numbers=57

	public const int featHealer = 1422;

	public const int featLuck = 1628; // [!code --]
 // [!code --]
	public const int featManaMeat = 1421;

	public const int featParty = 1645; // [!code ++]
 // [!code ++]
	public const int featExecutioner = 1420; // [!code ++]
 // [!code ++]
	public const int featLonelySoul = 1646;

	public const int featRapidMagic = 1648;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FEAT.cs#L89-L98)
```cs:line-numbers=89

	public const int featUndead = 1210;

	public const int featSummoner = 1647; // [!code --]
 // [!code --]
	public const int featSnail = 1211;

	public const int featFairyResist = 1212; // [!code ++]
 // [!code ++]
	public const int featElea = 1213; // [!code ++]
 // [!code ++]
	public const int featManaPrecision = 1214;

	public const int featFisher = 1659;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FEAT.cs#L117-L136)
```cs:line-numbers=117

	public const int featDefender = 1649;

	public const int featFairyResist = 1212; // [!code --]
 // [!code --]
	public const int featExecutioner = 1420; // [!code --]
	public const int featSummoner = 1647; // [!code ++]

	public const int featElea = 1213; // [!code --]
	public const int featMilitant = 1419; // [!code ++]

	public const int featSwordsage = 1418; // [!code --]
	public const int featLooter = 1660; // [!code ++]

	public const int featMeatCushion = 1241; // [!code --]
	public const int featWitch = 1417; // [!code ++]

	public const int featGeneSlot = 1242;

	public const int featEternalYouth = 1243;

	public const int featCentaur = 1244; // [!code ++]
 // [!code ++]
	public const int featSevenSense = 1245; // [!code ++]
 // [!code ++]
	public const int featGod_element1 = 1300;

	public const int featGod_earth1 = 1305;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FEAT.cs#L139-L148)
```cs:line-numbers=139

	public const int featGod_machine1 = 1315;

	public const int featGod_healing1 = 1320; // [!code --]
 // [!code --]
	public const int featGod_harvest1 = 1325;

	public const int featGod_luck1 = 1330; // [!code ++]
 // [!code ++]
	public const int featGod_harmony1 = 1335;

	public const int featGod_oblivion1 = 1340;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FEAT.cs#L165-L181)
```cs:line-numbers=165

	public const int featPianist = 1405;

	public const int featTourist = 1406; // [!code --]
	public const int featMeatCushion = 1241; // [!code ++]

	public const int featMassSummoner = 1240;

	public const int featPaladin = 1407; // [!code --]
 // [!code --]
	public const int featDemon = 1239;

	public const int featRoran = 1237; // [!code --]
	public const int featElder = 1238; // [!code ++]

	public const int featMilitant = 1419; // [!code --]
	public const int featSwordsage = 1418; // [!code ++]

	public const int featMetal = 1218;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FEAT.cs#L195-L214)
```cs:line-numbers=195

	public const int featUnderground = 1226;

	public const int featServant = 1227; // [!code --]
	public const int featTourist = 1406; // [!code ++]

	public const int featDemigod = 1228; // [!code --]
	public const int featServant = 1227; // [!code ++]

	public const int featLittleOne = 1229;

	public const int featAdam = 1230;

	public const int featGolem = 1217; // [!code --]
 // [!code --]
	public const int featNirvana = 1231;

	public const int featBaby = 1232;

	public const int featGolem = 1217; // [!code ++]
 // [!code ++]
	public const int featCosmicHorror = 1233;

	public const int featHeavyEater = 1234;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FEAT.cs#L217-L227)
```cs:line-numbers=217

	public const int featNorland = 1236;

	public const int featElder = 1238; // [!code --]
	public const int featRoran = 1237; // [!code ++]

	public const int featPaladin2 = 1408; // [!code --]
	public const int featDemigod = 1228; // [!code ++]

	public const int featGod_luck1 = 1330; // [!code --]
	public const int featPaladin = 1407; // [!code ++]
 // [!code ++]
	public const int featGod_healing1 = 1320; // [!code ++]
 // [!code ++]
	public const int featBoost = 1409; // [!code ++]

	public const int featReboot = 1410;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FEAT.cs#L233-L260)
```cs:line-numbers=233

	public const int featWhiteVixen = 1414;

	public const int featFoxMaid = 1415; // [!code --]
 // [!code --]
	public const int featWitch = 1417; // [!code --]
 // [!code --]
	public const int featInquisitor = 1416;

	public const int featBoost = 1409; // [!code --]
	public const int featFoxMaid = 1415; // [!code ++]
 // [!code ++]
	public const int featPaladin2 = 1408; // [!code ++]

	public static readonly int[] IDS = new int[119] // [!code --]
	public static readonly int[] IDS = new int[122] // [!code ++]
	{
		1216, 1644, 1643, 1642, 1641, 1640, 1636, 1635, 1634, 1633,
		1632, 1631, 1630, 1645, 1629, 1627, 1626, 1625, 1624, 1623, // [!code --]
		1622, 1621, 1620, 1612, 1611, 1610, 1422, 1628, 1421, 1646, // [!code --]
		1648, 1215, 1200, 1201, 1202, 1203, 1204, 1205, 1206, 1207, // [!code --]
		1208, 1209, 1210, 1647, 1211, 1214, 1659, 1658, 1657, 1656, // [!code --]
		1655, 1654, 1653, 1652, 1651, 1650, 1649, 1212, 1420, 1213, // [!code --]
		1418, 1241, 1242, 1243, 1300, 1305, 1310, 1315, 1320, 1325, // [!code --]
		1335, 1340, 1345, 1350, 1355, 1400, 1401, 1402, 1403, 1404, // [!code --]
		1405, 1406, 1240, 1407, 1239, 1237, 1419, 1218, 1219, 1220, // [!code --]
		1221, 1222, 1223, 1224, 1225, 1226, 1227, 1228, 1229, 1230, // [!code --]
		1217, 1231, 1232, 1233, 1234, 1235, 1236, 1238, 1408, 1330, // [!code --]
		1410, 1411, 1412, 1413, 1414, 1415, 1417, 1416, 1409 // [!code --]
		1632, 1631, 1630, 1629, 1628, 1627, 1626, 1625, 1624, 1623, // [!code ++]
		1622, 1621, 1620, 1612, 1611, 1610, 1422, 1421, 1645, 1420, // [!code ++]
		1646, 1648, 1215, 1200, 1201, 1202, 1203, 1204, 1205, 1206, // [!code ++]
		1207, 1208, 1209, 1210, 1211, 1212, 1213, 1214, 1659, 1658, // [!code ++]
		1657, 1656, 1655, 1654, 1653, 1652, 1651, 1650, 1649, 1647, // [!code ++]
		1419, 1660, 1417, 1242, 1243, 1244, 1245, 1300, 1305, 1310, // [!code ++]
		1315, 1325, 1330, 1335, 1340, 1345, 1350, 1355, 1400, 1401, // [!code ++]
		1402, 1403, 1404, 1405, 1241, 1240, 1239, 1238, 1418, 1218, // [!code ++]
		1219, 1220, 1221, 1222, 1223, 1224, 1225, 1226, 1406, 1227, // [!code ++]
		1229, 1230, 1231, 1232, 1217, 1233, 1234, 1235, 1236, 1237, // [!code ++]
		1228, 1407, 1320, 1409, 1410, 1411, 1412, 1413, 1414, 1416, // [!code ++]
		1415, 1408 // [!code ++]
	};
}
public class Feat : Element
```

[`public List<string> Apply(int a, ElementContainer owner, bool hint = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FEAT.cs#L360-L365)
```cs:line-numbers=360
	}
	switch (id)
	{
	case 1660: // [!code ++]
		featRef[0] = (a * 25).ToString() ?? ""; // [!code ++]
		break; // [!code ++]
	case 1206:
		ModBase(78, -a * 10, hide: false);
		break;
```

## FOOD

[`public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/FOOD.cs#L6-L34)
```cs:line-numbers=6

	public const int food_love = 703;

	public const int food_CHA = 700; // [!code --]
 // [!code --]
	public const int gainWeight = 705;

	public const int food_bug = 704; // [!code --]
	public const int loseWeight = 706; // [!code ++]

	public const int kirimi = 707; // [!code --]
	public const int food_bug = 704; // [!code ++]

	public const int food_human = 708;

	public const int food_undead = 709; // [!code --]
	public const int creativeDish = 764; // [!code ++]

	public const int justcooked = 757; // [!code --]
	public const int kirimi = 707; // [!code ++]

	public const int food_god = 758;

	public const int creativeDish = 764; // [!code --]
	public const int food_CHA = 700; // [!code ++]

	public const int loseWeight = 706; // [!code --]
	public const int food_undead = 709; // [!code ++]
 // [!code ++]
	public const int justcooked = 757; // [!code ++]

	public static readonly int[] IDS = new int[13]
	{
		701, 702, 703, 700, 705, 704, 707, 708, 709, 757, // [!code --]
		758, 764, 706 // [!code --]
		701, 702, 703, 705, 706, 704, 708, 764, 707, 758, // [!code ++]
		700, 709, 757 // [!code ++]
	};
}
```

## Game

[`public void OnLoad()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Game.cs#L520-L525)
```cs:line-numbers=520
		{
		}
	}
	if (version.IsBelow(0, 23, 195)) // [!code ++]
	{ // [!code ++]
		Zone zone = spatials.Find("startVillage2"); // [!code ++]
		if (zone != null && zone.visitCount > 0) // [!code ++]
		{ // [!code ++]
			world.SendPackage(ThingGen.CreateParcel(null, ThingGen.CreateCassette(113), ThingGen.CreateCassette(12))); // [!code ++]
		} // [!code ++]
	} // [!code ++]
	if (version.IsBelow(0, 23, 52))
	{
		player.flags.toggleHotbarHighlightActivated = true;
```

## InvOwner

[`public bool sell`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/InvOwner.cs#L84-L90)
```cs:line-numbers=84
			}
		}

		public string IDCurrency => currency.ToString().ToLower(); // [!code --]
		public string IDCurrency => currency.ToString().ToLowerInvariant(); // [!code ++]

		public CurrencyType currency => Trader.currency;

```

## LayerAbility

[`public void SelectGroup(string id)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/LayerAbility.cs#L205-L210)
```cs:line-numbers=205
		},
		onList = delegate(UIList.SortMode m)
		{
			ELayer.player.pref.sortAbility = m; // [!code ++]
			List<Element> list = new List<Element>();
			foreach (Element value in ELayer.pc.elements.dict.Values)
			{
```

## +LayerCalendar

::: details File Created
```cs
public class LayerCalendar : ELayer
{
}
```

:::
## MUTATION

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/MUTATION.cs#L1-L28)
```cs:line-numbers=1
public class MUTATION
{
	public const int mutationStrN = 1521; // [!code --]
 // [!code --]
	public const int mutationStr = 1520; // [!code --]
	public const int mutationSkin = 1510; // [!code ++]

	public const int mutationSpeedN = 1519; // [!code --]
	public const int mutationSkinN = 1511; // [!code ++]

	public const int mutationRegenN = 1517; // [!code --]
	public const int mutationEye = 1512; // [!code ++]

	public const int mutationDex = 1514; // [!code --]
	public const int mutationEyeN = 1513; // [!code ++]

	public const int mutationDexN = 1515;

	public const int mutationEyeN = 1513; // [!code --]
	public const int mutationRegen = 1516; // [!code ++]

	public const int mutationEye = 1512; // [!code --]
	public const int mutationRegenN = 1517; // [!code ++]

	public const int mutationSkinN = 1511; // [!code --]
	public const int mutationCha = 1522; // [!code ++]

	public const int mutationSkin = 1510; // [!code --]
	public const int mutationSpeedN = 1519; // [!code ++]

	public const int mutationRegen = 1516; // [!code --]
	public const int mutationStr = 1520; // [!code ++]

	public const int mutationCha = 1522; // [!code --]
	public const int mutationStrN = 1521; // [!code ++]
 // [!code ++]
	public const int mutationDex = 1514; // [!code ++]

	public const int mutationSpeed = 1518;

```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/MUTATION.cs#L58-L66)
```cs:line-numbers=58

	public const int etherEye = 1553;

	public const int mutationCold = 1526; // [!code --]
	public const int mutationBrainN = 1525; // [!code ++]

	public const int mutationColdN = 1527; // [!code --]
	public const int mutationCold = 1526; // [!code ++]

	public const int mutationLightning = 1528;

```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/MUTATION.cs#L68-L74)
```cs:line-numbers=68

	public const int mutationBody = 1530;

	public const int mutationBrainN = 1525; // [!code --]
	public const int mutationColdN = 1527; // [!code ++]

	public const int mutationHair = 1532;

```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/MUTATION.cs#L82-L91)
```cs:line-numbers=82

	public static readonly int[] IDS = new int[40]
	{
		1521, 1520, 1519, 1517, 1514, 1515, 1513, 1512, 1511, 1510, // [!code --]
		1516, 1522, 1518, 1524, 1565, 1564, 1563, 1562, 1523, 1560, // [!code --]
		1559, 1558, 1557, 1556, 1555, 1554, 1561, 1552, 1553, 1526, // [!code --]
		1527, 1528, 1529, 1530, 1525, 1532, 1533, 1550, 1551, 1531 // [!code --]
		1510, 1511, 1512, 1513, 1515, 1516, 1517, 1522, 1519, 1520, // [!code ++]
		1521, 1514, 1518, 1524, 1565, 1564, 1563, 1562, 1523, 1560, // [!code ++]
		1559, 1558, 1557, 1556, 1555, 1554, 1561, 1552, 1553, 1525, // [!code ++]
		1526, 1528, 1529, 1530, 1527, 1532, 1533, 1550, 1551, 1531 // [!code ++]
	};
}
public class Mutation : Feat
```

## POLICY

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/POLICY.cs#L5-L10)
```cs:line-numbers=5
{
	public const int suite_room = 2813;

	public const int license_furniture = 2819; // [!code ++]
 // [!code ++]
	public const int mass_exhibition = 2814;

	public const int platinum_ticket = 2815;
```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/POLICY.cs#L15-L24)
```cs:line-numbers=15

	public const int license_food = 2818;

	public const int license_furniture = 2819; // [!code --]
 // [!code --]
	public const int license_general = 2820;

	public const int egg_fan = 2826; // [!code ++]
 // [!code ++]
	public const int celeb = 2822;

	public const int legendary_exhibition = 2823;
```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/POLICY.cs#L27-L34)
```cs:line-numbers=27

	public const int milk_fan = 2825;

	public const int egg_fan = 2826; // [!code --]
 // [!code --]
	public const int breed_season = 2827;

	public const int license_slaver = 2828;
```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/POLICY.cs#L39-L45)
```cs:line-numbers=39

	public const int tourist_safety = 2811;

	public const int speed_growth = 2516; // [!code --]
	public const int stop_growth = 2515; // [!code ++]

	public const int home_discount = 2800;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/POLICY.cs#L81-L87)
```cs:line-numbers=81

	public const int weed_no = 2703;

	public const int stop_growth = 2515; // [!code --]
	public const int speed_growth = 2516; // [!code ++]

	public const int taxTransfer = 2705;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/POLICY.cs#L107-L116)
```cs:line-numbers=107

	public static readonly int[] IDS = new int[51]
	{
		2813, 2814, 2815, 2816, 2817, 2818, 2819, 2820, 2822, 2823, // [!code --]
		2824, 2825, 2826, 2827, 2828, 2812, 2821, 2811, 2516, 2800, // [!code --]
		2813, 2819, 2814, 2815, 2816, 2817, 2818, 2820, 2826, 2822, // [!code ++]
		2823, 2824, 2825, 2827, 2828, 2812, 2821, 2811, 2515, 2800, // [!code ++]
		2508, 2509, 2510, 2511, 2505, 2504, 2503, 2502, 2501, 2500,
		2810, 2507, 2512, 2513, 2514, 2506, 2700, 2702, 2703, 2515, // [!code --]
		2810, 2507, 2512, 2513, 2514, 2506, 2700, 2702, 2703, 2516, // [!code ++]
		2705, 2706, 2707, 2704, 2709, 2710, 2711, 2712, 2715, 2701,
		2708
	};
```

## Player

[`public int loytelMartLv`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Player.cs#L646-L651)
```cs:line-numbers=646
			}
		}

		public int reward_gould // [!code ++]
		{ // [!code ++]
			get // [!code ++]
			{ // [!code ++]
				return ints[19]; // [!code ++]
			} // [!code ++]
			set // [!code ++]
			{ // [!code ++]
				ints[19] = value; // [!code ++]
			} // [!code ++]
		} // [!code ++]
 // [!code ++]
		public int reward_killkill // [!code ++]
		{ // [!code ++]
			get // [!code ++]
			{ // [!code ++]
				return ints[20]; // [!code ++]
			} // [!code ++]
			set // [!code ++]
			{ // [!code ++]
				ints[20] = value; // [!code ++]
			} // [!code ++]
		} // [!code ++]
 // [!code ++]
		[OnSerializing]
		private void _OnSerializing(StreamingContext context)
		{
```

[`public void DreamSpell()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Player.cs#L1716-L1722)
```cs:line-numbers=1716
		int mtp = ((num == 0) ? 100 : (75 + num * 25));
		if (num > 0 || element2 == null || element2.vPotential == 0)
		{
			Msg.Say("dream_spell", EClass.sources.elements.alias[row.aliasRef].GetText("altname").Split(',')[0].ToLower()); // [!code --]
			Msg.Say("dream_spell", EClass.sources.elements.alias[row.aliasRef].GetText("altname").Split(',')[0].ToLowerInvariant()); // [!code ++]
			EClass.pc.GainAbility(row.id, mtp);
		}
	}
```

## SKILL

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/SKILL.cs#L18-L24)
```cs:line-numbers=18

	public const int tactics = 132;

	public const int fishing = 245; // [!code --]
	public const int marksman = 133; // [!code ++]

	public const int climbing = 242;

```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/SKILL.cs#L52-L58)
```cs:line-numbers=52

	public const int strategy = 135;

	public const int eyeofmind = 134; // [!code --]
	public const int fishing = 245; // [!code ++]

	public const int twowield = 131;

```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/SKILL.cs#L132-L138)
```cs:line-numbers=132

	public const int gathering = 250;

	public const int marksman = 133; // [!code --]
	public const int eyeofmind = 134; // [!code ++]

	public const int blacksmith = 256;

```

[`public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/SKILL.cs#L268-L280)
```cs:line-numbers=268

	public static readonly int[] IDS = new int[133]
	{
		50, 109, 110, 111, 120, 122, 123, 130, 132, 245, // [!code --]
		50, 109, 110, 111, 120, 122, 123, 130, 132, 133, // [!code ++]
		242, 241, 240, 237, 235, 230, 227, 226, 225, 220,
		210, 200, 152, 151, 150, 135, 134, 131, 207, 102, // [!code --]
		210, 200, 152, 151, 150, 135, 245, 131, 207, 102, // [!code ++]
		107, 71, 70, 68, 67, 66, 65, 72, 64, 61,
		60, 57, 56, 55, 51, 62, 73, 74, 75, 106,
		105, 104, 103, 101, 100, 93, 92, 91, 90, 80,
		79, 78, 77, 76, 108, 250, 133, 256, 916, 917, // [!code --]
		79, 78, 77, 76, 108, 250, 134, 256, 916, 917, // [!code ++]
		918, 919, 920, 921, 922, 923, 924, 925, 926, 950,
		951, 952, 915, 953, 956, 957, 958, 959, 960, 961,
		962, 963, 964, 965, 970, 971, 972, 255, 954, 914,
```

## Scene

[`public void OnUpdate()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Scene.cs#L633-L639)
```cs:line-numbers=633
							}
							if (EMono.game.activeZone == zone)
							{
								EMono.pc.Teleport(EMono._zone.GetSpawnPos(EMono.pc, ZoneTransition.EnterState.Return), silent: true, force: true); // [!code --]
								EMono.pc.Teleport(EMono._zone.GetSpawnPos(EMono.pc, ZoneTransition.EnterState.Return).GetNearestPoint() ?? EMono._map.GetCenterPos(), silent: true, force: true); // [!code ++]
							}
							else
							{
```

## StatsMana

[`public override void Mod(int a)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/StatsMana.cs#L53-L58)
```cs:line-numbers=53
		if (cC.IsAliveInCurrentZone)
		{
			cC.elements.ModExp(303, Mathf.Clamp(-a * 10, 10, 200));
			if (cC.HasElement(1245) && !cC.HasCooldown(1245)) // [!code ++]
			{ // [!code ++]
				cC.AddCooldown(1245); // [!code ++]
				cC.AddCondition<ConSevenSense>(cC.Power); // [!code ++]
				cC.Cure(CureType.Boss); // [!code ++]
				cC.HealHP(cC.MaxHP / 2); // [!code ++]
			} // [!code ++]
		}
	}
}
```

## ThingGen

[`public static Thing CreatePerfume(int ele, int num = 1)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/ThingGen.cs#L215-L220)
```cs:line-numbers=215
		return thing;
	}

	public static Thing CreateCassette(int id) // [!code ++]
	{ // [!code ++]
		Thing thing = Create("856"); // [!code ++]
		thing.refVal = id; // [!code ++]
		return thing; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public static Thing CreateLetter(string idLetter)
	{
		Thing thing = Create("letter");
```

## TraitTape

[`public override void SetName(ref string s)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/TraitTape.cs#L7-L13)
```cs:line-numbers=7

	public override void OnCreate(int lv)
	{
		if (EClass._map.plDay != null && EClass._map.plDay.list.Count > 0) // [!code --]
		if (EClass.core.IsGameStarted && EClass._map.plDay != null && EClass._map.plDay.list.Count > 0) // [!code ++]
		{
			owner.refVal = EClass._map.plDay.list[0].data.id;
		}
```

## Zone

[`public Point GetRandomVisitPos(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b1b2310aeca6c04c0ad2af0d7116e222c895b1ee/Elin/Zone.cs#L1518-L1524)
```cs:line-numbers=1518
		{
			point = map.bounds.GetRandomSurface(centered: false, walkable: true, !IsPCFaction && !(this is Zone_Civilized)) ?? map.bounds.GetRandomPoint();
		}
		return point.GetNearestPoint(allowBlock: false, allowChara: false, allowInstalled: false) ?? EClass._map.GetCenterPos(); // [!code --]
		return point.GetNearestPoint(allowBlock: false, allowChara: false, allowInstalled: false) ?? EClass._map.GetCenterPos().GetNearestPoint(); // [!code ++]
	}

	public void AddGlobalCharasOnActivate()
```
