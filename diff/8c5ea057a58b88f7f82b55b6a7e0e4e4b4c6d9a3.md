---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 3 files modified. 1 new file created.
version: EA 23.227 Nightly Patch 1
changes: ActEffect/Chara/ThingContainer/+TraitLumiestCrimAle
---

# EA 23.227 Nightly Patch 1

October 29, 2025

3 files modified. 1 new file created.

## Important Changes

**None.**
## ActEffect

[`public static bool Wish(string s, string name, int power, BlessedState state)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8c5ea057a58b88f7f82b55b6a7e0e4e4b4c6d9a3/Elin/ActEffect.cs#L2803-L2809)
```cs:line-numbers=2803
		Msg.Say("wishFail");
		return false;
	}
	list.Sort((WishItem a, WishItem b) => b.score - a.score); // [!code --]
	list.Sort((WishItem a, WishItem b) => (a.score != b.score) ? (b.score - a.score) : (EClass.rnd(10) - EClass.rnd(10))); // [!code ++]
	foreach (WishItem item2 in list)
	{
		Debug.Log(item2.score + "/" + s + "/" + item2.n);
```

## Chara

[`public void ModCorruption(int a)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8c5ea057a58b88f7f82b55b6a7e0e4e4b4c6d9a3/Elin/Chara.cs#L9571-L9577)
```cs:line-numbers=9571
{
	if (a > 0)
	{
		if (ResistLv(962) > 0 && EClass.rnd(ResistLv(962) + 1) != 0) // [!code --]
		if (Evalue(962) >= 25 || (ResistLv(962) > 0 && EClass.rnd(ResistLv(962) + 1) != 0)) // [!code ++]
		{
			return;
		}
```

## ThingContainer

[`public void AddCurrency(Card owner, string id, int a, SourceMaterial.Row mat = n`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/8c5ea057a58b88f7f82b55b6a7e0e4e4b4c6d9a3/Elin/ThingContainer.cs#L532-L538)
```cs:line-numbers=532
	ListCurrency(id);
	foreach (Thing temp in tempList)
	{
		if (!(temp.id != id) && (mat == null || temp.material == mat) && temp.Num + num > 0) // [!code --]
		if (!(temp.id != id) && (mat == null || temp.material == mat) && (num <= 0 || temp.Num + num > 0)) // [!code ++]
		{
			if (num > 0)
			{
```

## +TraitLumiestCrimAle

::: details File Created
```cs
public class TraitLumiestCrimAle : TraitFoodMeal
{
	public override bool CanDrink(Chara c)
	{
		return true;
	}

	public override void OnDrink(Chara c)
	{
		ActEffect.Proc(EffectId.Booze, 500, owner.blessedState, c);
		FoodEffect.ProcTrait(c, owner);
	}
}
```

:::