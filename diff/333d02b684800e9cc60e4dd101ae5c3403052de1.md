---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 11 files modified.
version: EA 23.201 Nightly
changes: ActEffect/ActMelee/ActThrow/AttackProcess/BaseTaskHarvest/Card/CardRenderer/Chara/GoalCombat/RecipeManager/Zone
---

# EA 23.201 Nightly

September 18, 2025

11 files modified.

## Important Changes

Possible breaking changes. Click the filename to view the chunk.
### [RecipeManager (1)](#recipemanager)
```cs:no-line-numbers
public bool CanCeomUpWithRecipe(string idRecipe) // [!code --]
public LearnState GetRecipeLearnState(string idRecipe) // [!code ++]
```
## ActEffect

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/ActEffect.cs#L951-L957)
```cs:line-numbers=951
		CC.PlaySound("fire");
		CC.PlayEffect("Element/eleFire");
		CC.Say("burn_mana", CC);
		CC.mana.Mod(-CC.mana.max / 3); // [!code --]
		CC.mana.Mod(-CC.mana.max / 3 - 1); // [!code ++]
		break;
	case EffectId.Exterminate:
	{
```

## ActMelee

[`void _Attack(BodySlot slot)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/ActMelee.cs#L214-L220)
```cs:line-numbers=214
				frustration = GetWeaponEnc(624, addSelfEnc: true);
				int num3 = GetWeaponEnc(622, addSelfEnc: true);
				feint = GetWeaponEnc(623, addSelfEnc: true);
				knockback = GetWeaponEnc(603, addSelfEnc: true); // [!code --]
				knockback = Act.CC.Evalue(603); // [!code ++]
				mod_talisman = GetWeaponEnc(609, addSelfEnc: true);
				List<Point> list2 = EClass._map.ListPointsInLine(Act.CC.pos, Act.TC.pos, num2 / 10 + ((num2 % 10 > EClass.rnd(10)) ? 1 : 0) + 1);
				if (w != null)
```

## ActThrow

[`public static EffectIRenderer Throw(Card c, Point p, Card target, Thing t, Throw`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/ActThrow.cs#L345-L350)
```cs:line-numbers=345
			c.ModExp(108, 100);
			if (traitMonsterBall.IsDuponneBall && EClass.game.quests.GetPhase<QuestNegotiationDarkness>() == 3)
			{
				EClass.Sound.StopBGM(3f); // [!code ++]
				EClass._zone.SetBGM(1, refresh: false); // [!code ++]
				EClass.game.quests.Get<QuestNegotiationDarkness>().NextPhase();
			}
		}
```

## AttackProcess

[`public bool Perform(int count, bool hasHit, float dmgMulti = 1f, bool maxRoll =`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/AttackProcess.cs#L684-L690)
```cs:line-numbers=684
			ModExpDef(150, 90);
			ModExpDef(151, 90);
		}
		ProcAbility(list, CC, TC, weaponSkill.Value + GetTwoHandEncBonus(CC), subAttack); // [!code --]
		ProcAbility(list, CC, TC, weaponSkill.Value * (100 + GetTwoHandEncBonus(CC)) / 100, subAttack); // [!code ++]
		return false;
	}
	if (TC.IsPC)
```

[`public bool Perform(int count, bool hasHit, float dmgMulti = 1f, bool maxRoll =`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/AttackProcess.cs#L815-L821)
```cs:line-numbers=815
				}
			}
		}
		ProcAbility(list, CC, TC, weaponSkill.Value + GetTwoHandEncBonus(CC), subAttack); // [!code --]
		ProcAbility(list, CC, TC, weaponSkill.Value * (100 + GetTwoHandEncBonus(CC)) / 100, subAttack); // [!code ++]
	}
	if (!CC.IsAliveInCurrentZone || !TC.IsAliveInCurrentZone)
	{
```

## BaseTaskHarvest

[`public override string GetText(string str = "")`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/BaseTaskHarvest.cs#L82-L90)
```cs:line-numbers=82
	}
	SetTarget(EClass.pc);
	string text = "tHarvest".lang(GetBaseText(str), (EClass.pc.Tool == null) ? "hand".lang() : owner.Tool.NameSimple, toolLv.ToString() ?? "");
	if (EClass.pc.HasElement(1661) && EClass.player.recipes.CanCeomUpWithRecipe(IdRecipe)) // [!code --]
	if (EClass.pc.HasElement(1661)) // [!code ++]
	{
		text = text + " " + "TaskDisassemble_newrecipe".lang(); // [!code --]
		RecipeManager.LearnState recipeLearnState = EClass.player.recipes.GetRecipeLearnState(IdRecipe); // [!code ++]
		switch (recipeLearnState) // [!code ++]
		{ // [!code ++]
		case RecipeManager.LearnState.Learnable: // [!code ++]
			text = text + " " + "TaskDisassemble_newrecipe".lang(); // [!code ++]
			break; // [!code ++]
		default: // [!code ++]
			text = text + " " + ("TaskDisassemble_" + recipeLearnState).lang(); // [!code ++]
			break; // [!code ++]
		case RecipeManager.LearnState.Unavailable: // [!code ++]
			break; // [!code ++]
		} // [!code ++]
	}
	text = text + " (" + GetTextDifficulty() + ")";
	if (IsTooHard)
```

## Card

[`public void EjectSockets()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/Card.cs#L3487-L3493)
```cs:line-numbers=3487
				thing.refVal = ele;
				thing.encLV = num2;
			}
			EClass._map.TrySmoothPick(pos.IsBlocked ? EClass.pc.pos : pos, thing, EClass.pc); // [!code --]
			EClass._map.TrySmoothPick((!ExistsOnMap || pos.IsBlocked) ? EClass.pc.pos : pos, thing, EClass.pc); // [!code ++]
			sockets[i] = 0;
		}
	}
```

## CardRenderer

[`public override void Draw(RenderParam p, ref Vector3 v, bool drawShadow)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/CardRenderer.cs#L94-L100)
```cs:line-numbers=94
	}
	if (isChara && owner.parent == EClass.game.activeZone)
	{
		if (owner.Chara.bossText && !EClass.ui.IsActive && !SplashText.Instance && (!(owner.id == "lurie_boss") || !owner.Chara.IsNeutralOrAbove())) // [!code --]
		if (owner.Chara.bossText && !EClass.ui.IsActive && !SplashText.Instance && !LayerDrama.Instance && !owner.Chara.IsNeutralOrAbove()) // [!code ++]
		{
			SplashText splashText = Util.Instantiate<SplashText>("Media/Text/SplashText_boss2", EClass.ui.rectDynamic);
			string text = owner.Chara.Aka.ToTitleCase(wholeText: true);
```

[`public override void Draw(RenderParam p, ref Vector3 v, bool drawShadow)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/CardRenderer.cs#L107-L126)
```cs:line-numbers=107
			splashText.textSmall.text = text;
			splashText.textBig.text = text2;
			owner.Chara.bossText = false;
			if (owner.id == "lurie_boss") // [!code --]
			string id = owner.id; // [!code ++]
			if (!(id == "ungaga_pap")) // [!code ++]
			{
				if (EClass._zone is Zone_UnderseaTemple) // [!code --]
				if (id == "lurie_boss") // [!code ++]
				{
					if (EClass._map.plDay.list.Count > 0 && EClass._map.plDay.list[0].data.id != 107) // [!code --]
					if (EClass._zone is Zone_UnderseaTemple) // [!code ++]
					{
						EClass._zone.SetBGM(107); // [!code --]
					} // [!code --]
					if (EClass.game.quests.GetPhase<QuestNegotiationDarkness>() == 2) // [!code --]
					{ // [!code --]
						EClass.game.quests.Get<QuestNegotiationDarkness>().NextPhase(); // [!code --]
						if (EClass._map.plDay.list.Count > 0 && EClass._map.plDay.list[0].data.id != 107) // [!code ++]
						{ // [!code ++]
							EClass._zone.SetBGM(107); // [!code ++]
						} // [!code ++]
						if (EClass.game.quests.GetPhase<QuestNegotiationDarkness>() == 2) // [!code ++]
						{ // [!code ++]
							EClass.game.quests.Get<QuestNegotiationDarkness>().NextPhase(); // [!code ++]
						} // [!code ++]
					}
					owner.PlaySound("warcry"); // [!code ++]
				}
				owner.PlaySound("warcry"); // [!code --]
			} // [!code ++]
			else if (EClass._zone is Zone_DungeonMino) // [!code ++]
			{ // [!code ++]
				EClass._zone.SetBGM(107); // [!code ++]
			}
		}
		if (owner.Chara.host == null)
```

[`public override void Draw(RenderParam p, ref Vector3 v, bool drawShadow)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/CardRenderer.cs#L242-L251)
```cs:line-numbers=242
				if (renderData.pass != null && EClass.pc.held == owner)
				{
					int num = (int)renderData.pass.pmesh.tiling.x;
					string name = renderData.pass.name; // [!code --]
					if (!(name == "pass charaL")) // [!code --]
					string id = renderData.pass.name; // [!code ++]
					if (!(id == "pass charaL")) // [!code ++]
					{
						if (name == "pass charaLW") // [!code --]
						if (id == "pass charaLW") // [!code ++]
						{
							if (p.tile < 0f)
							{
```

## Chara

[`public void TryDropBossLoot()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/Chara.cs#L5491-L5496)
```cs:line-numbers=5491
			}
		}
		break;
	case "ungaga_pap": // [!code ++]
		num = 5; // [!code ++]
		flag = (flag2 = true); // [!code ++]
		if (EClass._zone is Zone_DungeonMino) // [!code ++]
		{ // [!code ++]
			EClass.Sound.StopBGM(3f); // [!code ++]
			EClass._zone.SetBGM(46, refresh: false); // [!code ++]
		} // [!code ++]
		break; // [!code ++]
	case "melilith_boss":
		num = 5;
		flag = (flag2 = true);
```

## GoalCombat

[`int GetAttackMod(Act a)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/GoalCombat.cs#L1086-L1091)
```cs:line-numbers=1086
		}
		int num6 = ((a.source.aliasRef == "mold") ? owner.MainElement.id : EClass.sources.elements.alias[a.source.aliasRef].id);
		int num7 = -15 * tc.ResistLvFrom(num6);
		if (a is ActSword) // [!code ++]
		{ // [!code ++]
			num7 = 0; // [!code ++]
		} // [!code ++]
		switch (num6)
		{
		case 910:
```

## RecipeManager

[``](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/RecipeManager.cs#L4-L9)
```cs:line-numbers=4

public class RecipeManager : EClass
{
	public enum LearnState // [!code ++]
	{ // [!code ++]
		Unavailable, // [!code ++]
		InsufficientSkill, // [!code ++]
		AlreadyLearned, // [!code ++]
		Learnable // [!code ++]
	} // [!code ++]
 // [!code ++]
	public static bool rebuild;

	public static List<RecipeSource> list = new List<RecipeSource>();
```

[`public void ComeUpWithRandomRecipe(string idCat = null, int lvBonus = 0)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/RecipeManager.cs#L241-L263)
```cs:line-numbers=241
		}
	}

	public bool CanCeomUpWithRecipe(string idRecipe) // [!code --]
	public LearnState GetRecipeLearnState(string idRecipe) // [!code ++]
	{
		if (idRecipe.IsEmpty())
		{
			return false; // [!code --]
			return LearnState.Unavailable; // [!code ++]
		}
		RecipeSource recipeSource = Get(idRecipe);
		if (recipeSource == null || EClass.player.recipes.knownRecipes.ContainsKey(idRecipe) || (!recipeSource.NeedFactory && !recipeSource.IsQuickCraft)) // [!code --]
		if (recipeSource == null || (!recipeSource.NeedFactory && !recipeSource.IsQuickCraft)) // [!code ++]
		{
			return false; // [!code --]
			return LearnState.Unavailable; // [!code ++]
		} // [!code ++]
		if (EClass.player.recipes.knownRecipes.ContainsKey(idRecipe)) // [!code ++]
		{ // [!code ++]
			return LearnState.AlreadyLearned; // [!code ++]
		}
		int id = recipeSource.GetReqSkill().id;
		if (EClass.pc.Evalue(id) + 5 < recipeSource.row.LV)
		{
			return false; // [!code --]
			return LearnState.InsufficientSkill; // [!code ++]
		}
		return true; // [!code --]
		return LearnState.Learnable; // [!code ++]
	}

	public void ComeUpWithRecipe(string idRecipe, int chanceForRandomRecipe = 0)
```

## Zone

[`public void RefreshPlaylist()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/333d02b684800e9cc60e4dd101ae5c3403052de1/Elin/Zone.cs#L2900-L2905)
```cs:line-numbers=2900
		}
	}

	public void ResetPlaylist() // [!code ++]
	{ // [!code ++]
		map._plDay.Clear(); // [!code ++]
		UnityEngine.Object.DestroyImmediate(map.plDay); // [!code ++]
		map.plDay = null; // [!code ++]
		RefreshPlaylist(); // [!code ++]
	} // [!code ++]
 // [!code ++]
	public void RefreshBGM()
	{
		if (!EClass.pc.IsInActiveZone || EClass.player.simulatingZone)
```
