---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 5 files modified. 1 new file created.
version: EA 23.200 Stable
changes: ActionMode/Card/TaskHarvest/Trait/+TraitToolBrushStrip/Zone
---

# EA 23.200 Stable

September 17, 2025

5 files modified. 1 new file created.

## Important Changes

**None.**
## ActionMode

[`public void UpdateInput()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dfd035f94090c5d542680e2f7875df9d43dd2c95/Elin/ActionMode.cs#L736-L742)
```cs:line-numbers=736
	}
	if (AllowGeneralInput && !EClass.ui.IsDragging)
	{
		if (Input.GetKeyDown(KeyCode.Tab) && !EClass.debug.debugInput && !EClass.ui.BlockInput && !EInput.waitReleaseAnyKey) // [!code --]
		if (Input.GetKeyDown(KeyCode.Tab) && !EClass.debug.debugInput && !EClass.ui.BlockInput && !IsBuildMode && !EInput.waitReleaseAnyKey) // [!code ++]
		{
			if (!EClass.ui.IsInventoryOpen)
			{
```

[`public void UpdateInput()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dfd035f94090c5d542680e2f7875df9d43dd2c95/Elin/ActionMode.cs#L761-L766)
```cs:line-numbers=761
				}
				break;
			case EAction.MenuInventory:
				if (!EClass.ui.IsInventoryOpen) // [!code ++]
				{ // [!code ++]
					SE.PopInventory(); // [!code ++]
				} // [!code ++]
				EClass.ui.ToggleInventory();
				break;
			}
```

## Card

[`public virtual int GetPrice(CurrencyType currency = CurrencyType.Money, bool sel`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dfd035f94090c5d542680e2f7875df9d43dd2c95/Elin/Card.cs#L7058-L7063)
```cs:line-numbers=7058
				return 1000;
			case "whip_egg":
				return 3000;
			case "brush_strip": // [!code ++]
				return 2500; // [!code ++]
			case "hammer_strip":
				return 5000;
			case "helm_chef":
```

## TaskHarvest

[`public static TaskHarvest TryGetAct(Chara c, Point p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dfd035f94090c5d542680e2f7875df9d43dd2c95/Elin/TaskHarvest.cs#L160-L165)
```cs:line-numbers=160
		{
			return null;
		}
		if (t.trait is TraitAbility) // [!code ++]
		{ // [!code ++]
			return null; // [!code ++]
		} // [!code ++]
	} // [!code ++]
	if (c.IsPC && EClass.player.currentHotItem is HotItemAct) // [!code ++]
	{ // [!code ++]
		return null; // [!code ++]
	}
	if (p.HasObj && IsValidTarget(p.sourceObj.reqHarvest))
	{
```

## Trait

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dfd035f94090c5d542680e2f7875df9d43dd2c95/Elin/Trait.cs#L1872-L1877)
```cs:line-numbers=1872
				Add("whip_egg", 1, 0);
				Add("helm_chef", 1, 0);
				Add("hammer_strip", 1, 0);
				Add("brush_strip", 1, 0); // [!code ++]
				Add("1165", 1, 0);
				Add("plat", 100, 0);
				AddThing(ThingGen.CreateScroll(9160).SetNum(5));
```

## +TraitToolBrushStrip

::: details File Created
```cs
public class TraitToolBrushStrip : TraitTool
{
	public override bool IsTool => true;

	public override void TrySetHeldAct(ActPlan p)
	{
		p.pos.Things.ForEach(delegate(Thing t)
		{
			if (!t.isMasked && !t.isHidden && t.isDyed)
			{
				p.TrySetAct("actHammerFurniture".lang(t.Name), delegate
				{
					Msg.Say("upgrade", t, owner.GetName(NameStyle.Full, 1));
					SE.Play("build_area");
					t.PlayEffect("buff");
					t.Dye((SourceMaterial.Row)null);
					return false;
				});
			}
		});
		if (p.pos.HasObj && p.pos.cell.isObjDyed)
		{
			p.TrySetAct("actHammerFurniture".lang(p.pos.cell.GetObjName()), delegate
			{
				Msg.Say("upgrade", p.pos.cell.GetObjName(), owner.GetName(NameStyle.Full, 1));
				SE.Play("build_area");
				p.pos.PlayEffect("buff");
				p.pos.cell.isObjDyed = false;
				p.pos.cell.objMat = (byte)p.pos.sourceObj.DefaultMaterial.id;
				return false;
			});
		}
	}
}
```

:::
## Zone

[`public void ApplyBackerPet(bool draw)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dfd035f94090c5d542680e2f7875df9d43dd2c95/Elin/Zone.cs#L3678-L3684)
```cs:line-numbers=3678
				chara.RemoveBacker();
			}
		}
		if ((flag && chara.race.id != "cat") || EClass.rnd((!flag) ? (draw ? 3 : 10) : (draw ? 1 : 2)) != 0) // [!code --]
		if ((flag && chara.race.id != "cat") || (!EClass.debug.enable && EClass.rnd((!flag) ? (draw ? 3 : 10) : (draw ? 1 : 2)) != 0)) // [!code ++]
		{
			continue;
		}
```
