---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 14 files modified.
version: EA 23.182 Nightly
changes: ActEffect/BaseTileMap/Card/EClass/ElementContainer/FACTION/FEAT/FOOD/Game/MUTATION/MapConfig/TaskCullLife/Trait/TraitMapBoard
---

# EA 23.182 Nightly

August 17, 2025

14 files modified.

## Important Changes

Possible breaking changes. Click the filename to view the chunk.
### [TaskCullLife (1)](#taskculllife)
```cs:no-line-numbers
public static Chara GetTarget() // [!code --]
public Chara GetTarget() // [!code ++]
```
## ActEffect

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/ActEffect.cs#L203-L209)
```cs:line-numbers=203
			{
				attackSource = AttackSource.MagicSword;
			}
			int num4 = 0; // [!code --]
			long num4 = 0L; // [!code ++]
			bool isChara = CC.isChara;
			if (id == EffectId.Suicide)
			{
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/ActEffect.cs#L278-L284)
```cs:line-numbers=278
					{
						CC.ModExp(302, CC.IsPC ? 20 : 100);
					}
					if (num4 == 0) // [!code --]
					if (num4 == 0L) // [!code ++]
					{
						continue;
					}
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/ActEffect.cs#L321-L337)
```cs:line-numbers=321
				num4 = num4 * 100 / (100 + RapidCount * 50);
			}
			num4 = num4 * Act.powerMod / 100;
			c.DamageHP(num4, e.id, power * num / 100, attackSource, chara ?? CC); // [!code --]
			if (num4 > 9999999) // [!code ++]
			{ // [!code ++]
				num4 = 9999999L; // [!code ++]
			} // [!code ++]
			c.DamageHP((int)num4, e.id, power * num / 100, attackSource, chara ?? CC); // [!code ++]
			if (c.IsAliveInCurrentZone && CC.IsAliveInCurrentZone && id == EffectId.DrainMana && c.isChara && CC.isChara && c.Chara.mana.value > 0)
			{
				int num6 = num4 * num / 100; // [!code --]
				long num6 = num4 * num / 100; // [!code ++]
				Debug.Log(num4 + " v:" + num6 + " evalue:" + e.Value + " power:" + power + " elepMod:" + num);
				if (num6 > c.Chara.mana.value)
				{
					num6 = c.Chara.mana.value;
				}
				c.Chara.mana.Mod(-num6); // [!code --]
				CC.Chara.mana.Mod(num6); // [!code --]
				c.Chara.mana.Mod((int)(-num6)); // [!code ++]
				CC.Chara.mana.Mod((int)num6); // [!code ++]
			}
			if (id == EffectId.Explosive && CC.trait is TraitCookerMicrowave)
			{
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/ActEffect.cs#L1824-L1830)
```cs:line-numbers=1824
	}
	case EffectId.EternalYouth:
	{
		tc.PlaySound("dropRewardXmas"); // [!code --]
		tc.PlaySound("mutation");
		tc.PlayEffect("mutation");
		if (tc.IsUnique)
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/ActEffect.cs#L1839-L1844)
```cs:line-numbers=1839
			{
				tc.Say("eternalYouth2", tc);
				tc.c_lockedAge = 0;
				tc.elements.Remove(1243); // [!code ++]
				tc.bio.SetAge(tc.Chara, age);
			}
			Redirect(EffectId.Youth, BlessedState.Cursed, default(ActRef));
```

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/ActEffect.cs#L1849-L1856)
```cs:line-numbers=1849
		}
		else
		{
			tc.PlaySound("dropRewardXmas"); // [!code ++]
			tc.Say("eternalYouth1", tc);
			tc.c_lockedAge = age;
			tc.elements.SetBase(1243, 1); // [!code ++]
			if (blessed)
			{
				Redirect(EffectId.Youth, BlessedState.Blessed, default(ActRef));
```

## BaseTileMap

[`public virtual void Draw()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/BaseTileMap.cs#L668-L673)
```cs:line-numbers=668
	defaultBlockHeight = map.config.blockHeight;
	noRoofMode = false;
	bool flag = !isIndoor || EMono._zone is Zone_Tent;
	if (EMono._map.config.reverseRoof) // [!code ++]
	{ // [!code ++]
		flag = !flag; // [!code ++]
	} // [!code ++]
	if (usingHouseBoard || ActionMode.Bird.IsActive)
	{
		lowBlock = (hideRoomFog = (hideHang = false));
```

[`public virtual void Draw()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/BaseTileMap.cs#L868-L885)
```cs:line-numbers=868
	int valueOrDefault = (this.room?.lot?.idBGM).GetValueOrDefault();
	if (valueOrDefault == 0)
	{
		goto IL_16b9; // [!code --]
		goto IL_16d1; // [!code ++]
	}
	if (!(EMono.Sound.currentPlaylist != EMono.Sound.plLot))
	{
		BGMData data = EMono.Sound.plLot.list[0].data;
		if ((object)data != null && data.id == valueOrDefault)
		{
			goto IL_16b9; // [!code --]
			goto IL_16d1; // [!code ++]
		}
	}
	goto IL_16d8; // [!code --]
	IL_16e2: // [!code --]
	goto IL_16f0; // [!code ++]
	IL_16fa: // [!code ++]
	if (this.room != lastRoom)
	{
		screen.RefreshWeather();
```

[`public virtual void Draw()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/BaseTileMap.cs#L888-L902)
```cs:line-numbers=888
		SoundManager.bgmVolumeMod = ((!LayerDrama.maxBGMVolume && !EMono._map.IsIndoor && this.room != null && !this.room.data.atrium && this.room.HasRoof) ? (-0.6f) : 0f);
		screenHighlight = ScreenHighlight.None;
		return;
		IL_16b9: // [!code --]
		IL_16d1: // [!code ++]
		if (valueOrDefault == 0 && EMono.Sound.currentPlaylist == EMono.Sound.plLot)
		{
			goto IL_16d8; // [!code --]
			goto IL_16f0; // [!code ++]
		}
		goto IL_16e2; // [!code --]
		IL_16d8: // [!code --]
		goto IL_16fa; // [!code ++]
		IL_16f0: // [!code ++]
		EMono._zone.RefreshBGM();
		goto IL_16e2; // [!code --]
		goto IL_16fa; // [!code ++]
	}

	public void RefreshHeight()
```

## Card

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/Card.cs#L4345-L4350)
```cs:line-numbers=4345
			target = EClass._map.FindChara(zoneInstanceBout.uidTarget);
			if (target != null)
			{
				EClass.pc.ai.Cancel(); // [!code ++]
				if (IsPC)
				{
					EClass.pc.hp = 0;
```

## EClass

[`public static int rndSeed(int a, int seed)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/EClass.cs#L55-L60)
```cs:line-numbers=55
		return result;
	}

	public static int rnd(long a) // [!code ++]
	{ // [!code ++]
		return Rand.rnd((int)a); // [!code ++]
	} // [!code ++]
 // [!code ++]
	public static int rnd(int a)
	{
		return Rand.rnd(a);
```

## ElementContainer

[`public void ModExp(int ele, float a, bool chain = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/ElementContainer.cs#L286-L292)
```cs:line-numbers=286
		if (element.UseExpMod)
		{
			a = a * (float)Mathf.Clamp(element.UsePotential ? element.Potential : 100, 10, 1000) / (float)(100 + Mathf.Max(0, element.ValueWithoutLink) * 25);
			if (EClass.rndf(1f) < a % 1f + ((ele == 152) ? 0.01f : 0.1f)) // [!code --]
			if (EClass.rndf(1f) < a % 1f) // [!code ++]
			{
				a += 1f;
			}
```

## FACTION

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/FACTION.cs#L40-L46)
```cs:line-numbers=40

	public const int fSoil = 2200;

	public const int fTaxEvasion = 2119; // [!code --]
	public const int fHeirloom = 2120; // [!code ++]

	public const int fLuck = 2118;

```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/FACTION.cs#L108-L123)
```cs:line-numbers=108

	public const int fConstruction = 2003;

	public const int fHeirloom = 2120; // [!code --]
	public const int fTaxEvasion = 2119; // [!code ++]

	public static readonly int[] IDS = new int[53]
	{
		3700, 3702, 3606, 3605, 3604, 3603, 3602, 3601, 3600, 3701,
		3500, 2202, 2206, 2205, 2204, 2203, 2201, 2200, 2119, 2118, // [!code --]
		3500, 2202, 2206, 2205, 2204, 2203, 2201, 2200, 2120, 2118, // [!code ++]
		3703, 2116, 2117, 2207, 3704, 3804, 3706, 2115, 4006, 4005,
		4004, 4003, 4002, 4001, 4000, 3900, 3805, 3803, 3802, 3801,
		3800, 3784, 3783, 3782, 3781, 3780, 3710, 3709, 3708, 3707,
		3705, 2003, 2120 // [!code --]
		3705, 2003, 2119 // [!code ++]
	};
}
public class Faction : EClass
```

## FEAT

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/FEAT.cs#L129-L134)
```cs:line-numbers=129

	public const int featGeneSlot = 1242;

	public const int featEternalYouth = 1243; // [!code ++]
 // [!code ++]
	public const int featGod_element1 = 1300;

	public const int featGod_earth1 = 1305;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/FEAT.cs#L165-L175)
```cs:line-numbers=165

	public const int featTourist = 1406;

	public const int featPaladin = 1407; // [!code --]
 // [!code --]
	public const int featMassSummoner = 1240;

	public const int featPaladin2 = 1408; // [!code --]
	public const int featPaladin = 1407; // [!code ++]

	public const int featDemon = 1239;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/FEAT.cs#L219-L228)
```cs:line-numbers=219

	public const int featElder = 1238;

	public const int featBoost = 1409; // [!code --]
	public const int featPaladin2 = 1408; // [!code ++]

	public const int featGod_luck1 = 1330;

	public const int featReboot = 1410; // [!code ++]
 // [!code ++]
	public const int featEarthStrength = 1411;

	public const int featLuckyCat = 1412;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/FEAT.cs#L233-L245)
```cs:line-numbers=233

	public const int featFoxMaid = 1415;

	public const int featInquisitor = 1416; // [!code --]
 // [!code --]
	public const int featWitch = 1417;

	public const int featReboot = 1410; // [!code --]
	public const int featInquisitor = 1416; // [!code ++]
 // [!code ++]
	public const int featBoost = 1409; // [!code ++]

	public static readonly int[] IDS = new int[118] // [!code --]
	public static readonly int[] IDS = new int[119] // [!code ++]
	{
		1216, 1644, 1643, 1642, 1641, 1640, 1636, 1635, 1634, 1633,
		1632, 1631, 1630, 1645, 1629, 1627, 1626, 1625, 1624, 1623,
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/FEAT.cs#L247-L258)
```cs:line-numbers=247
		1648, 1215, 1200, 1201, 1202, 1203, 1204, 1205, 1206, 1207,
		1208, 1209, 1210, 1647, 1211, 1214, 1659, 1658, 1657, 1656,
		1655, 1654, 1653, 1652, 1651, 1650, 1649, 1212, 1420, 1213,
		1418, 1241, 1242, 1300, 1305, 1310, 1315, 1320, 1325, 1335, // [!code --]
		1340, 1345, 1350, 1355, 1400, 1401, 1402, 1403, 1404, 1405, // [!code --]
		1406, 1407, 1240, 1408, 1239, 1237, 1419, 1218, 1219, 1220, // [!code --]
		1418, 1241, 1242, 1243, 1300, 1305, 1310, 1315, 1320, 1325, // [!code ++]
		1335, 1340, 1345, 1350, 1355, 1400, 1401, 1402, 1403, 1404, // [!code ++]
		1405, 1406, 1240, 1407, 1239, 1237, 1419, 1218, 1219, 1220, // [!code ++]
		1221, 1222, 1223, 1224, 1225, 1226, 1227, 1228, 1229, 1230,
		1217, 1231, 1232, 1233, 1234, 1235, 1236, 1238, 1409, 1330, // [!code --]
		1411, 1412, 1413, 1414, 1415, 1416, 1417, 1410 // [!code --]
		1217, 1231, 1232, 1233, 1234, 1235, 1236, 1238, 1408, 1330, // [!code ++]
		1410, 1411, 1412, 1413, 1414, 1415, 1417, 1416, 1409 // [!code ++]
	};
}
public class Feat : Element
```

## FOOD

[`public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/FOOD.cs#L10-L34)
```cs:line-numbers=10

	public const int gainWeight = 705;

	public const int loseWeight = 706; // [!code --]
 // [!code --]
	public const int food_bug = 704;

	public const int kirimi = 707; // [!code ++]
 // [!code ++]
	public const int food_human = 708;

	public const int food_undead = 709;

	public const int justcooked = 757;

	public const int food_god = 758; // [!code --]
 // [!code --]
	public const int creativeDish = 764;

	public const int kirimi = 707; // [!code --]
	public const int food_god = 758; // [!code ++]
 // [!code ++]
	public const int loseWeight = 706; // [!code ++]

	public static readonly int[] IDS = new int[13]
	{
		700, 701, 702, 703, 705, 706, 704, 708, 709, 757, // [!code --]
		758, 764, 707 // [!code --]
		700, 701, 702, 703, 705, 704, 707, 708, 709, 757, // [!code ++]
		764, 758, 706 // [!code ++]
	};
}
```

## Game

[`public void OnLoad()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/Game.cs#L450-L455)
```cs:line-numbers=450
		}
	});
	TryAddQuest("into_darkness", "exile_kettle");
	if (version.IsBelow(0, 23, 182)) // [!code ++]
	{ // [!code ++]
		foreach (Chara value2 in cards.globalCharas.Values) // [!code ++]
		{ // [!code ++]
			if (!value2.IsUnique && value2.c_lockedAge != 0) // [!code ++]
			{ // [!code ++]
				value2.elements.SetBase(1243, 1); // [!code ++]
			} // [!code ++]
		} // [!code ++]
	} // [!code ++]
	if (version.IsBelow(0, 23, 155))
	{
		AddAdventurer("adv_yukiimo");
```

[`public void OnLoad()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/Game.cs#L488-L498)
```cs:line-numbers=488
	}
	if (version.IsBelow(0, 23, 72))
	{
		foreach (Chara value2 in EClass.game.cards.globalCharas.Values) // [!code --]
		foreach (Chara value3 in EClass.game.cards.globalCharas.Values) // [!code ++]
		{
			if (!value2.isDead) // [!code --]
			if (!value3.isDead) // [!code ++]
			{
				value2.c_wasInPcParty = false; // [!code --]
				value3.c_wasInPcParty = false; // [!code ++]
			}
		}
	}
```

[`public void OnLoad()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/Game.cs#L508-L518)
```cs:line-numbers=508
	}
	if (version.IsBelow(0, 23, 51))
	{
		foreach (Chara value3 in EClass.game.cards.globalCharas.Values) // [!code --]
		foreach (Chara value4 in EClass.game.cards.globalCharas.Values) // [!code ++]
		{
			if (!(value3.id != "adv") && value3.IsPCFaction) // [!code --]
			if (!(value4.id != "adv") && value4.IsPCFaction) // [!code ++]
			{
				value3.idSkin = value3.uid % (value3.source._tiles.Length - 4) / 2 * 2 + ((!value3.IsMale) ? 1 : 0); // [!code --]
				value4.idSkin = value4.uid % (value4.source._tiles.Length - 4) / 2 * 2 + ((!value4.IsMale) ? 1 : 0); // [!code ++]
			}
		}
	}
```

[`public void OnLoad()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/Game.cs#L574-L582)
```cs:line-numbers=574
	});
	if (version.IsBelow(0, 22, 20))
	{
		foreach (Chara value4 in cards.globalCharas.Values) // [!code --]
		foreach (Chara value5 in cards.globalCharas.Values) // [!code ++]
		{
			value4.SetBool(18, enable: false); // [!code --]
			value5.SetBool(18, enable: false); // [!code ++]
		}
	}
	if (version.IsBelow(0, 22, 22))
```

## MUTATION

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/MUTATION.cs#L4-L16)
```cs:line-numbers=4

	public const int mutationSpeedN = 1519;

	public const int mutationSkin = 1510; // [!code --]
 // [!code --]
	public const int mutationRegenN = 1517;

	public const int mutationDex = 1514; // [!code --]
	public const int mutationRegen = 1516; // [!code ++]

	public const int mutationDexN = 1515; // [!code --]
	public const int mutationDex = 1514; // [!code ++]

	public const int mutationEyeN = 1513;

```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/MUTATION.cs#L18-L26)
```cs:line-numbers=18

	public const int mutationSkinN = 1511;

	public const int mutationSkin = 1510; // [!code ++]
 // [!code ++]
	public const int mutationStrN = 1521;

	public const int mutationRegen = 1516; // [!code --]
	public const int mutationDexN = 1515; // [!code ++]

	public const int mutationCha = 1522;

```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/MUTATION.cs#L82-L89)
```cs:line-numbers=82

	public static readonly int[] IDS = new int[40]
	{
		1520, 1519, 1510, 1517, 1514, 1515, 1513, 1512, 1511, 1521, // [!code --]
		1516, 1522, 1518, 1524, 1565, 1564, 1563, 1562, 1523, 1560, // [!code --]
		1520, 1519, 1517, 1516, 1514, 1513, 1512, 1511, 1510, 1521, // [!code ++]
		1515, 1522, 1518, 1524, 1565, 1564, 1563, 1562, 1523, 1560, // [!code ++]
		1559, 1558, 1557, 1556, 1555, 1554, 1561, 1552, 1553, 1526,
		1527, 1528, 1529, 1530, 1525, 1532, 1533, 1550, 1551, 1531
	};
```

## MapConfig

[`public class MapConfig : EClass`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/MapConfig.cs#L43-L48)
```cs:line-numbers=43
	[JsonProperty]
	public bool retainDecal;

	[JsonProperty] // [!code ++]
	public bool reverseRoof; // [!code ++]
 // [!code ++]
	[JsonProperty]
	public Weather.Condition fixedCondition = Weather.Condition.None;

```

## TaskCullLife

[`public class TaskCullLife : Task`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/TaskCullLife.cs#L6-L11)
```cs:line-numbers=6
{
	public Point dest;

	public HashSet<Chara> listSkip = new HashSet<Chara>(); // [!code ++]
 // [!code ++]
	public static bool CanCull(Card c)
	{
		if (c.c_minionType == MinionType.Friend)
```

[`public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/TaskCullLife.cs#L45-L72)
```cs:line-numbers=45
				fail = true;
				return Status.Running;
			});
			if (!fail && target.IsAliveInCurrentZone) // [!code --]
			if (fail || !target.IsAliveInCurrentZone) // [!code ++]
			{ // [!code ++]
				listSkip.Add(target); // [!code ++]
				continue; // [!code ++]
			} // [!code ++]
			if (owner.Dist(target) > 1) // [!code ++]
			{
				if (owner.Dist(target) > 1) // [!code --]
				{ // [!code --]
					yield return Cancel(); // [!code --]
				} // [!code --]
				owner.PlaySound("shear"); // [!code --]
				Msg.Say("cull_life", EClass.pc, target); // [!code --]
				target.Die(); // [!code --]
				Thing t = ThingGen.Create("ecopo").SetNum(EClass.rndHalf((int)Mathf.Sqrt(target.LV) + 5)); // [!code --]
				EClass.pc.Pick(t); // [!code --]
				yield return KeepRunning(); // [!code --]
				yield return Cancel(); // [!code ++]
			}
			owner.PlaySound("shear"); // [!code ++]
			Msg.Say("cull_life", EClass.pc, target); // [!code ++]
			target.Die(); // [!code ++]
			Thing t = ThingGen.Create("ecopo").SetNum(EClass.rndHalf((int)Mathf.Sqrt(target.LV) + 5)); // [!code ++]
			EClass.pc.Pick(t); // [!code ++]
			yield return KeepRunning(); // [!code ++]
		}
	}

	public static Chara GetTarget() // [!code --]
	public Chara GetTarget() // [!code ++]
	{
		List<Chara> list = new List<Chara>();
		foreach (Chara chara in EClass._map.charas)
		{
			if (CanCull(chara)) // [!code --]
			if (!listSkip.Contains(chara) && CanCull(chara)) // [!code ++]
			{
				list.Add(chara);
			}
```

## Trait

[`public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/Trait.cs#L1833-L1839)
```cs:line-numbers=1833
			{
			case ShopType.Moyer:
			{
				for (int num10 = 1; num10 <= 10; num10++) // [!code --]
				for (int num10 = 1; num10 <= 12; num10++) // [!code ++]
				{
					AddAdvWeek(num10);
				}
```

## TraitMapBoard

[`public override void TrySetAct(ActPlan p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/884abb2415cca1bec30f47fc440e92c5523c030f/Elin/TraitMapBoard.cs#L121-L125)
```cs:line-numbers=121
			});
			return false;
		}, owner);
		bool flag = !EClass._map.IsIndoor || EClass._zone is Zone_Tent; // [!code ++]
		if (EClass._map.config.reverseRoof) // [!code ++]
		{ // [!code ++]
			flag = !flag; // [!code ++]
		} // [!code ++]
		p.TrySetAct("actToggleMapRoof".lang((flag ? "on" : "off").lang()), delegate // [!code ++]
		{ // [!code ++]
			EClass._map.config.reverseRoof = !EClass._map.config.reverseRoof; // [!code ++]
			SE.ClickOk(); // [!code ++]
			return false; // [!code ++]
		}, owner); // [!code ++]
	}
}
```
