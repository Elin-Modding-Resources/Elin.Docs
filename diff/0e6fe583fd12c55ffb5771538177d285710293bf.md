---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 27 files modified. 2 new files created.
version: EA 23.60 Nightly
changes: ABILITY/AIAct/AI_Fuck/AI_Trolley/ActEffect/+ActNTR/BaseTileMap/BuildMenu/Chara/ConSleep/Core/DOMAIN/ELEMENT/ENC/FACTION/FEAT/FOOD/GoalCombat/LayerInventory/MUTATION/POLICY/SKILL/Thing/TraitCrafter/TraitDemitas/+TraitMoyer/TraitObj/TraitPlatform
---

# EA 23.60 Nightly

December 18, 2024

27 files modified. 2 new files created.

## Important Changes

**None.**
## ABILITY

[`@@ -2,7 +2,7 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ABILITY.cs#L2-L8)
```cs:line-numbers=2

public class ABILITY
{
	public const int ActKick = 5042; // [!code --]
	public const int ActChat = 5044; // [!code ++]

	public const int TaskMoveInstalled = 5036;

```

[`@@ -16,9 +16,9 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ABILITY.cs#L16-L24)
```cs:line-numbers=16

	public const int AI_Read = 5041;

	public const int AI_TendAnimal = 5043; // [!code --]
	public const int ActKick = 5042; // [!code ++]

	public const int ActChat = 5044; // [!code --]
	public const int AI_TendAnimal = 5043; // [!code ++]

	public const int AI_Drink = 5045;

```

[`@@ -32,9 +32,9 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ABILITY.cs#L32-L40)
```cs:line-numbers=32

	public const int AI_Sleep = 5050;

	public const int ActZap = 5051; // [!code --]
	public const int TaskBuild = 5035; // [!code ++]

	public const int ActBash = 5052; // [!code --]
	public const int ActZap = 5051; // [!code ++]

	public const int TaskHarvest = 5053;

```

[`@@ -62,11 +62,13 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ABILITY.cs#L62-L72)
```cs:line-numbers=62

	public const int ActPray = 6050;

	public const int TaskBuild = 5035; // [!code --]
	public const int ActEscape = 6400; // [!code ++]

	public const int GoalIdle = 5034; // [!code --]
	public const int ActBash = 5052; // [!code ++]

	public const int ActCancelTask = 5033; // [!code --]
	public const int ActSuicide = 6410; // [!code ++]
 // [!code ++]
	public const int GoalIdle = 5034; // [!code ++]

	public const int AI_Equip = 5032;

```

[`@@ -98,7 +100,7 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ABILITY.cs#L98-L104)
```cs:line-numbers=98

	public const int TaskAttack = 5015;

	public const int ActEscape = 6400; // [!code --]
	public const int ActCancelTask = 5033; // [!code ++]

	public const int TaskTame = 5016;

```

[`@@ -134,9 +136,9 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ABILITY.cs#L134-L142)
```cs:line-numbers=134

	public const int ActMelee = 5001;

	public const int ActSuicide = 6410; // [!code --]
	public const int ActDuplicate = 6420; // [!code ++]

	public const int ActRush = 6450; // [!code --]
	public const int ActCrabBreathe = 6500; // [!code ++]

	public const int ActLulwyTrick = 6902;

```

[`@@ -152,13 +154,13 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ABILITY.cs#L152-L164)
```cs:line-numbers=152

	public const int breathe_Lightning = 50202;

	public const int breathe_Darkness = 50203; // [!code --]
	public const int ActRush = 6450; // [!code ++]

	public const int ActDuplicate = 6420; // [!code --]
	public const int breathe_Mind = 50204; // [!code ++]

	public const int breathe_Poison = 50205; // [!code --]
	public const int ActJureHeal = 6901; // [!code ++]

	public const int breathe_Nether = 50206; // [!code --]
	public const int breathe_Poison = 50205; // [!code ++]

	public const int breathe_Sound = 50207;

```

[`@@ -176,35 +178,35 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ABILITY.cs#L176-L210)
```cs:line-numbers=176

	public const int breathe_Cut = 50214;

	public const int ActJureHeal = 6901; // [!code --]
	public const int ActWait = 5000; // [!code ++]

	public const int ActManaAbsorb = 6900; // [!code --]
	public const int breathe_Nether = 50206; // [!code ++]

	public const int breathe_Mind = 50204; // [!code --]
	public const int ActManaAbsorb = 6900; // [!code ++]

	public const int StTaunt = 6700; // [!code --]
	public const int breathe_Darkness = 50203; // [!code ++]

	public const int StManaCost = 6720;

	public const int ActCrabBreathe = 6500; // [!code --]
	public const int ActEntangle = 6601; // [!code ++]

	public const int ActCurse = 6600;

	public const int ActEntangle = 6601; // [!code --]
 // [!code --]
	public const int ActDraw = 6602;

	public const int ActNTR = 6603; // [!code ++]
 // [!code ++]
	public const int ActWeaken = 6610;

	public const int ActFear = 6611;

	public const int ActGazeDim = 6620; // [!code --]
	public const int ActTouchSleep = 6612; // [!code ++]

	public const int ActGazeInsane = 6621;

	public const int ActGazeMutation = 6622;

	public const int ActWait = 5000; // [!code --]
	public const int ActGazeDim = 6620; // [!code ++]

	public const int ActInsult = 6630;

```

[`@@ -222,22 +224,24 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ABILITY.cs#L222-L243)
```cs:line-numbers=222

	public const int ActThrowPotion = 6661;

	public const int StTaunt = 6700; // [!code ++]
 // [!code ++]
	public const int ActDrainBlood = 6626;

	public static readonly int[] IDS = new int[111] // [!code --]
	public static readonly int[] IDS = new int[113] // [!code ++]
	{
		5042, 5036, 5037, 5038, 5039, 5040, 5041, 5043, 5044, 5045, // [!code --]
		5046, 5047, 5048, 5049, 5050, 5051, 5052, 5053, 5054, 5055, // [!code --]
		5044, 5036, 5037, 5038, 5039, 5040, 5041, 5042, 5043, 5045, // [!code ++]
		5046, 5047, 5048, 5049, 5050, 5035, 5051, 5053, 5054, 5055, // [!code ++]
		6001, 6003, 6011, 6012, 6013, 6015, 6018, 6019, 6020, 6050,
		5035, 5034, 5033, 5032, 5002, 5003, 5004, 5005, 5006, 5007, // [!code --]
		5008, 5009, 5010, 5011, 5012, 5013, 5014, 5015, 6400, 5016, // [!code --]
		5018, 5019, 5020, 5021, 5022, 5023, 5024, 5025, 5026, 5027, // [!code --]
		5028, 5029, 5030, 5031, 5017, 5001, 6410, 6450, 6902, 6903, // [!code --]
		6904, 7000, 50200, 50201, 50202, 50203, 6420, 50205, 50206, 50207, // [!code --]
		50208, 50209, 50210, 50211, 50212, 50213, 50214, 6901, 6900, 50204, // [!code --]
		6700, 6720, 6500, 6600, 6601, 6602, 6610, 6611, 6620, 6621, // [!code --]
		6622, 5000, 6630, 6631, 6640, 6641, 6642, 6650, 6660, 6661, // [!code --]
		6626 // [!code --]
		6400, 5052, 6410, 5034, 5032, 5002, 5003, 5004, 5005, 5006, // [!code ++]
		5007, 5008, 5009, 5010, 5011, 5012, 5013, 5014, 5015, 5033, // [!code ++]
		5016, 5018, 5019, 5020, 5021, 5022, 5023, 5024, 5025, 5026, // [!code ++]
		5027, 5028, 5029, 5030, 5031, 5017, 5001, 6420, 6500, 6902, // [!code ++]
		6903, 6904, 7000, 50200, 50201, 50202, 6450, 50204, 6901, 50205, // [!code ++]
		50207, 50208, 50209, 50210, 50211, 50212, 50213, 50214, 5000, 50206, // [!code ++]
		6900, 50203, 6720, 6601, 6600, 6602, 6603, 6610, 6611, 6612, // [!code ++]
		6621, 6622, 6620, 6630, 6631, 6640, 6641, 6642, 6650, 6660, // [!code ++]
		6661, 6700, 6626 // [!code ++]
	};
}
public class Ability : Act
```

## AIAct

[`@@ -77,6 +77,8 @@ public bool IsMoveAI`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/AIAct.cs#L77-L82)
```cs:line-numbers=77

	public virtual bool IsIdle => false;

	public virtual bool CancelOnAggro => true; // [!code ++]
 // [!code ++]
	public virtual bool PushChara => true;

	public virtual int MaxProgress => 20;
```

## AI_Fuck

[`@@ -17,6 +17,8 @@ public enum FuckType`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/AI_Fuck.cs#L17-L22)
```cs:line-numbers=17

	public bool succubus;

	public bool ntr; // [!code ++]
 // [!code ++]
	public int maxProgress;

	public int progress;
```

[`@@ -33,6 +35,10 @@ public enum FuckType`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/AI_Fuck.cs#L33-L38)
```cs:line-numbers=33

	public override int CurrentProgress => progress;

	public override bool CancelOnAggro => !ntr; // [!code ++]
 // [!code ++]
	public override bool CancelWhenDamaged => !ntr; // [!code ++]
 // [!code ++]
	public virtual bool CanTame()
	{
		return false;
```

[`@@ -64,7 +70,7 @@ public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/AI_Fuck.cs#L64-L70)
```cs:line-numbers=64
		cc.SetTempHand(1104, -1);
	}
	int destDist = ((Type == FuckType.fuck) ? 1 : 1);
	maxProgress = ((!EClass.debug.enable) ? 25 : 0); // [!code --]
	maxProgress = 25; // [!code ++]
	if (succubus)
	{
		cc.Talk("seduce");
```

[`@@ -273,4 +279,14 @@ static void SuccubusExp(Chara c, Chara tg)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/AI_Fuck.cs#L273-L276)
```cs:line-numbers=273
			}
		}
	}
 // [!code ++]
	public override void OnCancel() // [!code ++]
	{ // [!code ++]
		Debug.Log("Cancel"); // [!code ++]
	} // [!code ++]
 // [!code ++]
	public override void OnSuccess() // [!code ++]
	{ // [!code ++]
		Debug.Log("SUCCESS"); // [!code ++]
	} // [!code ++]
}
```

## AI_Trolley

[`@@ -44,6 +44,8 @@ public override bool CancelWhenDamaged`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/AI_Trolley.cs#L44-L49)
```cs:line-numbers=44

	public override bool CancelWhenMoved => true;

	public override bool CancelOnAggro => false; // [!code ++]
 // [!code ++]
	public override bool ShowCursor => false;

	public override bool CanManualCancel()
```

## ActEffect

[`@@ -1274,7 +1274,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ActEffect.cs#L1274-L1280)
```cs:line-numbers=1274
	case EffectId.Draw:
	{
		Point point = CC.pos.GetRandomPoint(1)?.GetNearestPoint(allowBlock: false, allowChara: false);
		if (point == null || !CC.CanSeeLos(point)) // [!code --]
		if (point == null || !CC.CanSeeLos(point) || (CC.IsPCFactionOrMinion && TC.IsPCFactionOrMinion && TC.isRestrained)) // [!code ++]
		{
			break;
		}
```

## +ActNTR

::: details File Created
```cs
public class ActNTR : Ability
{
	public override bool CanPerform()
	{
		if (Act.TC.isChara)
		{
			return Act.TC.Chara.conSleep != null;
		}
		return false;
	}

	public override bool Perform()
	{
		Act.CC.SetAI(new AI_Fuck
		{
			target = Act.TC.Chara,
			bitch = true,
			ntr = true
		});
		return true;
	}
}
```

:::
## BaseTileMap

[`@@ -2619,7 +2619,7 @@ public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/BaseTileMap.cs#L2619-L2625)
```cs:line-numbers=2619
							thingPos.z += pref.z;
						}
					}
					if (!tileType.UseMountHeight && m > 1) // [!code --]
					if (!tileType.UseMountHeight && m > 10) // [!code ++]
					{
						flag11 = true;
					}
```

## BuildMenu

[`@@ -96,7 +96,7 @@ public static void Toggle()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/BuildMenu.cs#L96-L102)
```cs:line-numbers=96
	EMono.player.hotbars.bars[3].dirty = true;
	EMono.player.hotbars.ResetHotbar(4);
	EMono.player.hotbars.bars[4].dirty = true;
	if (ActionMode.LastBuildMode == ActionMode.Build) // [!code --]
	if (ActionMode.LastBuildMode == ActionMode.Build || ActionMode.LastBuildMode == ActionMode.Picker) // [!code ++]
	{
		ActionMode.Inspect.Activate();
	}
```

## Chara

[`@@ -3619,7 +3619,7 @@ public override void Tick()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/Chara.cs#L3619-L3625)
```cs:line-numbers=3619
			{
				enemy = null;
			}
			else if (!IsPC && ((!(ai is GoalCombat) && !(ai is AI_Trolley)) || !ai.IsRunning)) // [!code --]
			else if (!IsPC && (ai.CancelOnAggro || !ai.IsRunning)) // [!code ++]
			{
				SetAIAggro();
			}
```

[`@@ -3804,7 +3804,7 @@ public Thing TryPoisonPotion(Thing t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/Chara.cs#L3804-L3810)
```cs:line-numbers=3804
{
	if (t.trait is TraitPotion && t.id != "1165" && !t.source.tag.Contains("neg") && EClass.rnd(2) == 0 && HasElement(1565))
	{
		string text = EClass.sources.things.rows.Where((SourceThing.Row a) => a._origin == "potion" && a.tag.Contains("neg")).ToList().RandomItemWeighted((SourceThing.Row a) => a.chance) // [!code --]
		string text = EClass.sources.things.rows.Where((SourceThing.Row a) => a._origin == "potion" && a.tag.Contains("neg") && a.chance > 100).ToList().RandomItemWeighted((SourceThing.Row a) => a.chance) // [!code ++]
			.id;
		Say("poisonDrip", this);
		int num = t.Num;
```

[`@@ -4455,7 +4455,7 @@ public void GetRevived()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/Chara.cs#L4455-L4461)
```cs:line-numbers=4455
	{
		return;
	}
	if (!IsPC && !trait.CanJoinPartyResident) // [!code --]
	if (!IsPC && (!trait.CanJoinPartyResident || !trait.CanJoinParty)) // [!code ++]
	{
		if (homeZone != null && EClass._zone != homeZone)
		{
```

## ConSleep

[`@@ -137,6 +137,9 @@ public override void Tick()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ConSleep.cs#L137-L142)
```cs:line-numbers=137
				member.AddCondition<ConSleep>(5 + EClass.rnd(10), force: true);
			}
		}
		owner.RemoveCondition<ConBleed>(); // [!code ++]
		owner.RemoveCondition<ConPoison>(); // [!code ++]
		owner.RemoveCondition<ConMiasma>(); // [!code ++]
		EClass.ui.AddLayer<LayerSleep>().Sleep(num2, pcBed, pcPillow);
		return;
	}
```

## Core

[`@@ -395,6 +395,10 @@ private void LateUpdate()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/Core.cs#L395-L400)
```cs:line-numbers=395

	public void OnApplicationFocus(bool focus)
	{
		if (config == null) // [!code ++]
		{ // [!code ++]
			return; // [!code ++]
		} // [!code ++]
		if (focus)
		{
			AudioListener.volume = 1f;
```

## DOMAIN

[`@@ -2,6 +2,8 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/DOMAIN.cs#L2-L7)
```cs:line-numbers=2

public class DOMAIN
{
	public const int domArcane = 804; // [!code ++]
 // [!code ++]
	public const int domTest = 800;

	public const int domSurvival = 801;
```

[`@@ -10,34 +12,32 @@ public class DOMAIN`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/DOMAIN.cs#L10-L43)
```cs:line-numbers=10

	public const int domMiracle = 803;

	public const int domArcane = 804; // [!code --]
 // [!code --]
	public const int domComm = 805;

	public const int domElement = 806; // [!code --]
	public const int domEarth = 812; // [!code ++]

	public const int domWind = 807;

	public const int domHarvest = 808; // [!code ++]
 // [!code ++]
	public const int domMachine = 809;

	public const int domLuck = 810;

	public const int domHealing = 811;

	public const int domEarth = 812; // [!code --]
 // [!code --]
	public const int domHarmony = 815; // [!code --]
 // [!code --]
	public const int domEyth = 814;

	public const int domHarvest = 808; // [!code --]
 // [!code --]
	public const int domOblivion = 813;

	public const int domElement = 806; // [!code ++]
 // [!code ++]
	public const int domHarmony = 815; // [!code ++]
 // [!code ++]
	public static readonly int[] IDS = new int[16]
	{
		800, 801, 802, 803, 804, 805, 806, 807, 809, 810, // [!code --]
		811, 812, 815, 814, 808, 813 // [!code --]
		804, 800, 801, 802, 803, 805, 812, 807, 808, 809, // [!code ++]
		810, 811, 814, 813, 806, 815 // [!code ++]
	};
}
public class Domain : EClass
```

## ELEMENT

[`@@ -395,7 +395,7 @@ public virtual Sprite GetSprite()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ELEMENT.cs#L395-L401)
```cs:line-numbers=395

	public int GetMaterialSourceValue(Thing t, int v)
	{
		if (id == 2) // [!code --]
		if (id == 2 || v < 0) // [!code ++]
		{
			return v;
		}
```

## ENC

[`@@ -8,23 +8,21 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ENC.cs#L8-L30)
```cs:line-numbers=8

	public const int r_DV = 650;

	public const int r_mana = 641; // [!code --]
 // [!code --]
	public const int mod_scatter = 607;

	public const int mod_ammo_recover = 604; // [!code --]
 // [!code --]
	public const int mod_precision = 605;

	public const int mod_drill = 606;

	public const int r_life = 640; // [!code ++]
 // [!code ++]
	public const int noDamage = 654;

	public const int r_life = 640; // [!code --]
	public const int r_mana = 641; // [!code ++]

	public const int onlyPet = 655;

	public const int convertLightning = 852; // [!code --]
	public const int convertCold = 851; // [!code ++]

	public const int absorbHP = 660;

```

[`@@ -40,21 +38,23 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ENC.cs#L40-L60)
```cs:line-numbers=40

	public const int meleeDistance = 666;

	public const int convertImpact = 865; // [!code --]
	public const int convertLightning = 852; // [!code ++]

	public const int mod_ammo_knockback = 603; // [!code --]
	public const int mod_ammo_recover = 604; // [!code ++]

	public const int convertFire = 850; // [!code --]
	public const int convertImpact = 865; // [!code ++]

	public const int convertCold = 851; // [!code --]
	public const int convertFire = 850; // [!code ++]

	public const int permaCurse = 656;

	public const int mod_rapid = 602; // [!code --]
	public const int mod_ammo_knockback = 603; // [!code ++]

	public const int sustain_MAG = 446;

	public const int mod_ammo = 600; // [!code --]
	public const int mod_reload = 601; // [!code ++]
 // [!code ++]
	public const int breathing = 429; // [!code ++]

	public const int allNeckHunt = 428;

```

[`@@ -66,9 +66,7 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ENC.cs#L66-L74)
```cs:line-numbers=66

	public const int negateSleep = 424;

	public const int mod_reload = 601; // [!code --]
 // [!code --]
	public const int negateParalysis = 422; // [!code --]
	public const int negateFear = 423; // [!code ++]

	public const int negateBlind = 421;

```

[`@@ -78,7 +76,7 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ENC.cs#L78-L84)
```cs:line-numbers=78

	public const int invisibility = 415;

	public const int breathing = 429; // [!code --]
	public const int sustain_STR = 440; // [!code ++]

	public const int slowCorruption = 412;

```

[`@@ -106,20 +104,22 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ENC.cs#L106-L125)
```cs:line-numbers=106

	public const int encSpell = 411;

	public const int sustain_STR = 440; // [!code --]
	public const int sustain_END = 441; // [!code ++]

	public const int negateFear = 423; // [!code --]
	public const int negateParalysis = 422; // [!code ++]

	public const int bane_all = 468; // [!code --]
	public const int revealFaith = 481; // [!code ++]
 // [!code ++]
	public const int mod_ammo = 600; // [!code ++]

	public const int optimizeMana = 483;

	public const int force_weapon = 482;

	public const int revealFaith = 481; // [!code --]
 // [!code --]
	public const int strongStomach = 480;

	public const int bane_all = 468; // [!code ++]
 // [!code ++]
	public const int bane_fish = 467;

	public const int bane_god = 466;
```

[`@@ -132,10 +132,12 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ENC.cs#L132-L141)
```cs:line-numbers=132

	public const int bane_fairy = 462;

	public const int bane_dragon = 460; // [!code --]
 // [!code --]
	public const int bane_undead = 461;

	public const int mod_rapid = 602; // [!code ++]
 // [!code ++]
	public const int sustain_CHA = 447; // [!code ++]
 // [!code ++]
	public const int sustain_WIL = 445;

	public const int sustain_LER = 444;
```

[`@@ -144,19 +146,17 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/ENC.cs#L144-L162)
```cs:line-numbers=144

	public const int sustain_DEX = 442;

	public const int sustain_END = 441; // [!code --]
 // [!code --]
	public const int sustain_CHA = 447; // [!code --]
	public const int bane_dragon = 460; // [!code ++]

	public static readonly int[] IDS = new int[74]
	{
		653, 652, 651, 650, 641, 607, 604, 605, 606, 654, // [!code --]
		640, 655, 852, 660, 661, 662, 663, 664, 665, 666, // [!code --]
		865, 603, 850, 851, 656, 602, 446, 600, 428, 427, // [!code --]
		426, 425, 424, 601, 422, 421, 420, 416, 415, 429, // [!code --]
		412, 410, 409, 408, 407, 406, 405, 404, 403, 402, // [!code --]
		401, 400, 411, 440, 423, 468, 483, 482, 481, 480, // [!code --]
		467, 466, 465, 464, 463, 462, 460, 461, 445, 444, // [!code --]
		443, 442, 441, 447 // [!code --]
		653, 652, 651, 650, 607, 605, 606, 640, 654, 641, // [!code ++]
		655, 851, 660, 661, 662, 663, 664, 665, 666, 852, // [!code ++]
		604, 865, 850, 656, 603, 446, 601, 429, 428, 427, // [!code ++]
		426, 425, 424, 423, 421, 420, 416, 415, 440, 412, // [!code ++]
		410, 409, 408, 407, 406, 405, 404, 403, 402, 401, // [!code ++]
		400, 411, 441, 422, 481, 600, 483, 482, 480, 468, // [!code ++]
		467, 466, 465, 464, 463, 462, 461, 602, 447, 445, // [!code ++]
		444, 443, 442, 460 // [!code ++]
	};
}
```

## FACTION

[`@@ -4,62 +4,64 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FACTION.cs#L4-L65)
```cs:line-numbers=4

public class FACTION
{
	public const int bfSnow = 3602; // [!code --]
	public const int fRation = 2207; // [!code ++]

	public const int bfCave = 3500;

	public const int bfPlain = 3600;

	public const int bfGeyser = 3701; // [!code --]
 // [!code --]
	public const int bfFertile = 3700; // [!code --]
 // [!code --]
	public const int bfForest = 3601;

	public const int bfBeach = 3604;

	public const int bfHill = 3603;

	public const int fRation = 2207; // [!code --]
 // [!code --]
	public const int bfSea = 3605;

	public const int fAttraction = 2206; // [!code --]
	public const int bfFertile = 3700; // [!code ++]

	public const int fHeirloom = 2120; // [!code --]
	public const int bfGeyser = 3701; // [!code ++]

	public const int fFood = 2204; // [!code --]
	public const int bfSnow = 3602; // [!code ++]
 // [!code ++]
	public const int fAttraction = 2206; // [!code ++]

	public const int fMoral = 2203;

	public const int fFood = 2204; // [!code ++]
 // [!code ++]
	public const int fPromo = 2202;

	public const int fElec = 2201;

	public const int fSoil = 2200;

	public const int fConstruction = 2003; // [!code --]
	public const int fLuck = 2118; // [!code ++]

	public const int fAdmin = 2115; // [!code --]
	public const int fLoyal = 2117; // [!code ++]

	public const int fEducation = 2116;

	public const int fLoyal = 2117; // [!code --]
	public const int fHeirloom = 2120; // [!code ++]

	public const int fLuck = 2118; // [!code --]
	public const int fAdmin = 2115; // [!code ++]

	public const int fTaxEvasion = 2119; // [!code --]
	public const int bfRuin = 3702; // [!code ++]
 // [!code ++]
	public const int fConstruction = 2003; // [!code ++]

	public const int fSafety = 2205;

	public const int bfTranquil = 3703; // [!code --]
	public const int fTaxEvasion = 2119; // [!code ++]

	public const int bfRuin = 3702; // [!code --]
	public const int bfTranquil = 3703; // [!code ++]

	public const int bfHunt = 3705;

	public const int bfVolcano = 3704;

	public const int actBuildRecipe = 4005; // [!code ++]
 // [!code ++]
	public const int actBuildCollect = 4004;

	public const int actBuildAnywhere = 4003;
```

[`@@ -72,8 +74,6 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FACTION.cs#L72-L79)
```cs:line-numbers=72

	public const int bfStart = 3900;

	public const int actBuildInspect = 4006; // [!code --]
 // [!code --]
	public const int bfChitin = 3805;

	public const int bfIce = 3804;
```

[`@@ -82,40 +82,40 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FACTION.cs#L82-L121)
```cs:line-numbers=82

	public const int bfSilica = 3802;

	public const int actBuildRecipe = 4005; // [!code --]
	public const int actBuildInspect = 4006; // [!code ++]

	public const int bfCoal = 3800;

	public const int bfMushroom = 3801; // [!code --]
	public const int bfLandmark5 = 3784; // [!code ++]

	public const int bfMonster = 3707; // [!code --]
	public const int bfLandmark4 = 3783; // [!code ++]

	public const int bfFreshAir = 3708; // [!code --]
	public const int bfLandmark3 = 3782; // [!code ++]

	public const int bfBasin = 3709; // [!code --]
	public const int bfLandmark2 = 3781; // [!code ++]

	public const int bfBreed = 3710; // [!code --]
	public const int bfLandmark1 = 3780; // [!code ++]

	public const int bfFish = 3706; // [!code --]
	public const int bfBreed = 3710; // [!code ++]

	public const int bfLandmark2 = 3781; // [!code --]
	public const int bfBasin = 3709; // [!code ++]

	public const int bfLandmark3 = 3782; // [!code --]
	public const int bfFreshAir = 3708; // [!code ++]

	public const int bfLandmark4 = 3783; // [!code --]
	public const int bfMonster = 3707; // [!code ++]

	public const int bfLandmark5 = 3784; // [!code --]
	public const int bfFish = 3706; // [!code ++]

	public const int bfLandmark1 = 3780; // [!code --]
	public const int bfMushroom = 3801; // [!code ++]

	public static readonly int[] IDS = new int[52]
	{
		3602, 3500, 3600, 3701, 3700, 3601, 3604, 3603, 2207, 3605, // [!code --]
		2206, 2120, 2204, 2203, 2202, 2201, 2200, 2003, 2115, 2116, // [!code --]
		2117, 2118, 2119, 2205, 3703, 3702, 3705, 3704, 4004, 4003, // [!code --]
		4002, 4001, 4000, 3900, 4006, 3805, 3804, 3803, 3802, 4005, // [!code --]
		3800, 3801, 3707, 3708, 3709, 3710, 3706, 3781, 3782, 3783, // [!code --]
		3784, 3780 // [!code --]
		2207, 3500, 3600, 3601, 3604, 3603, 3605, 3700, 3701, 3602, // [!code ++]
		2206, 2203, 2204, 2202, 2201, 2200, 2118, 2117, 2116, 2120, // [!code ++]
		2115, 3702, 2003, 2205, 2119, 3703, 3705, 3704, 4005, 4004, // [!code ++]
		4003, 4002, 4001, 4000, 3900, 3805, 3804, 3803, 3802, 4006, // [!code ++]
		3800, 3784, 3783, 3782, 3781, 3780, 3710, 3709, 3708, 3707, // [!code ++]
		3706, 3801 // [!code ++]
	};
}
public class Faction : EClass
```

## FEAT

[`@@ -3,27 +3,27 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FEAT.cs#L3-L29)
```cs:line-numbers=3

public class FEAT
{
	public const int featMana = 1611; // [!code --]
	public const int featStamina = 1612; // [!code ++]

	public const int featWIL = 1626; // [!code --]
	public const int featSTR = 1620; // [!code ++]

	public const int featMAG = 1625; // [!code --]
	public const int featDEX = 1621; // [!code ++]

	public const int featLER = 1624; // [!code --]
	public const int featCHA = 1627; // [!code ++]

	public const int featPER = 1623;

	public const int featEND = 1622; // [!code --]
	public const int featLER = 1624; // [!code ++]

	public const int featDEX = 1621; // [!code --]
	public const int featMAG = 1625; // [!code ++]

	public const int featSTR = 1620; // [!code --]
	public const int featWIL = 1626; // [!code ++]

	public const int featStamina = 1612; // [!code --]
	public const int featEND = 1622; // [!code ++]

	public const int featCHA = 1627; // [!code --]
	public const int featMana = 1611; // [!code ++]

	public const int featWitch = 1417; // [!code --]
	public const int featSwordsage = 1418; // [!code ++]

	public const int featManaMeat = 1421;

```

[`@@ -31,7 +31,7 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FEAT.cs#L31-L37)
```cs:line-numbers=31

	public const int featMilitant = 1419;

	public const int featSwordsage = 1418; // [!code --]
	public const int featWitch = 1417; // [!code ++]

	public const int featInquisitor = 1416;

```

[`@@ -43,8 +43,6 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FEAT.cs#L43-L50)
```cs:line-numbers=43

	public const int featLuckyCat = 1412;

	public const int featEarthStrength = 1411; // [!code --]
 // [!code --]
	public const int featLuck = 1628;

	public const int featLife = 1610;
```

[`@@ -55,7 +53,7 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FEAT.cs#L55-L61)
```cs:line-numbers=55

	public const int featDefense = 1631;

	public const int featReboot = 1410; // [!code --]
	public const int featEarthStrength = 1411; // [!code ++]

	public const int featManaCost = 1657;

```

[`@@ -63,7 +61,7 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FEAT.cs#L63-L69)
```cs:line-numbers=63

	public const int featModelBeliever = 1655;

	public const int featHeavyCasting = 1654; // [!code --]
	public const int featDreamWaker = 1653; // [!code ++]

	public const int featRapidArrow = 1652;

```

[`@@ -101,13 +99,11 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FEAT.cs#L101-L113)
```cs:line-numbers=101

	public const int featLonelySoul = 1646;

	public const int featBoost = 1409; // [!code --]
 // [!code --]
	public const int featDreamWaker = 1653; // [!code --]
	public const int featReboot = 1410; // [!code ++]

	public const int featPaladin = 1407; // [!code --]
	public const int featHeavyCasting = 1654; // [!code ++]

	public const int featAcidBody = 1223; // [!code --]
	public const int featPaladin2 = 1408; // [!code ++]

	public const int featShiva = 1224;

```

[`@@ -125,9 +121,9 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FEAT.cs#L125-L133)
```cs:line-numbers=125

	public const int featNirvana = 1231;

	public const int featSplit = 1222; // [!code --]
	public const int featBaby = 1232; // [!code ++]

	public const int featCosmicHorror = 1233; // [!code --]
	public const int featHeavyEater = 1234; // [!code ++]

	public const int featLightEater = 1235;

```

[`@@ -147,15 +143,19 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FEAT.cs#L147-L161)
```cs:line-numbers=147

	public const int featGod_harvest1 = 1325;

	public const int featHeavyEater = 1234; // [!code --]
 // [!code --]
	public const int featGod_luck1 = 1330;

	public const int featSpike = 1221; // [!code --]
	public const int featGod_harmony1 = 1335; // [!code ++]

	public const int featElderCrab = 1219; // [!code --]
	public const int featAcidBody = 1223; // [!code ++]

	public const int featPaladin2 = 1408; // [!code --]
	public const int featGod_oblivion1 = 1340; // [!code ++]
 // [!code ++]
	public const int featSplit = 1222; // [!code ++]
 // [!code ++]
	public const int featFate = 1220; // [!code ++]
 // [!code ++]
	public const int featBoost = 1409; // [!code ++]

	public const int featSlowFood = 1200;

```

[`@@ -173,10 +173,10 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FEAT.cs#L173-L182)
```cs:line-numbers=173

	public const int featFoxBless = 1207;

	public const int featFate = 1220; // [!code --]
 // [!code --]
	public const int featFoxLearn = 1208;

	public const int featFluffyTail = 1209; // [!code ++]
 // [!code ++]
	public const int featUndead = 1210;

	public const int featSnail = 1211;
```

[`@@ -195,47 +195,47 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FEAT.cs#L195-L241)
```cs:line-numbers=195

	public const int featMetal = 1218;

	public const int featFluffyTail = 1209; // [!code --]
	public const int featElderCrab = 1219; // [!code ++]

	public const int featGod_harmony1 = 1335; // [!code --]
	public const int featSpike = 1221; // [!code ++]

	public const int featBaby = 1232; // [!code --]
	public const int featGod_trickery1 = 1345; // [!code ++]

	public const int featGod_oblivion1 = 1340; // [!code --]
	public const int featCosmicHorror = 1233; // [!code ++]

	public const int featGod_trickery1 = 1345; // [!code --]
	public const int featThief = 1401; // [!code ++]

	public const int featGod_moonshadow1 = 1350;

	public const int featGod_strife1 = 1355;

	public const int featThief = 1401; // [!code --]
	public const int featWarrior = 1400; // [!code ++]

	public const int featWizard = 1402;

	public const int featFarmer = 1403;

	public const int featArcher = 1404; // [!code --]
 // [!code --]
	public const int featWarrior = 1400; // [!code --]
	public const int featPianist = 1405; // [!code ++]

	public const int featTourist = 1406;

	public const int featPianist = 1405; // [!code --]
	public const int featArcher = 1404; // [!code ++]
 // [!code ++]
	public const int featPaladin = 1407; // [!code ++]

	public static readonly int[] IDS = new int[110]
	{
		1611, 1626, 1625, 1624, 1623, 1622, 1621, 1620, 1612, 1627, // [!code --]
		1417, 1421, 1420, 1419, 1418, 1416, 1415, 1414, 1413, 1412, // [!code --]
		1411, 1628, 1610, 1629, 1645, 1631, 1410, 1657, 1656, 1655, // [!code --]
		1654, 1652, 1651, 1650, 1649, 1648, 1630, 1647, 1644, 1643, // [!code --]
		1642, 1641, 1640, 1636, 1635, 1634, 1633, 1632, 1646, 1409, // [!code --]
		1653, 1407, 1223, 1224, 1225, 1226, 1227, 1228, 1229, 1230, // [!code --]
		1231, 1222, 1233, 1235, 1236, 1237, 1300, 1305, 1310, 1315, // [!code --]
		1320, 1325, 1234, 1330, 1221, 1219, 1408, 1200, 1201, 1202, // [!code --]
		1203, 1204, 1205, 1206, 1207, 1220, 1208, 1210, 1211, 1212, // [!code --]
		1213, 1214, 1215, 1216, 1217, 1218, 1209, 1335, 1232, 1340, // [!code --]
		1345, 1350, 1355, 1401, 1402, 1403, 1404, 1400, 1406, 1405 // [!code --]
		1612, 1620, 1621, 1627, 1623, 1624, 1625, 1626, 1622, 1611, // [!code ++]
		1418, 1421, 1420, 1419, 1417, 1416, 1415, 1414, 1413, 1412, // [!code ++]
		1628, 1610, 1629, 1645, 1631, 1411, 1657, 1656, 1655, 1653, // [!code ++]
		1652, 1651, 1650, 1649, 1648, 1630, 1647, 1644, 1643, 1642, // [!code ++]
		1641, 1640, 1636, 1635, 1634, 1633, 1632, 1646, 1410, 1654, // [!code ++]
		1408, 1224, 1225, 1226, 1227, 1228, 1229, 1230, 1231, 1232, // [!code ++]
		1234, 1235, 1236, 1237, 1300, 1305, 1310, 1315, 1320, 1325, // [!code ++]
		1330, 1335, 1223, 1340, 1222, 1220, 1409, 1200, 1201, 1202, // [!code ++]
		1203, 1204, 1205, 1206, 1207, 1208, 1209, 1210, 1211, 1212, // [!code ++]
		1213, 1214, 1215, 1216, 1217, 1218, 1219, 1221, 1345, 1233, // [!code ++]
		1401, 1350, 1355, 1400, 1402, 1403, 1405, 1406, 1404, 1407 // [!code ++]
	};
}
public class Feat : Element
```

## FOOD

[`@@ -1,9 +1,9 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FOOD.cs#L1-L9)
```cs:line-numbers=1
public class FOOD
{
	public const int food_cat = 701; // [!code --]
 // [!code --]
	public const int food_poison = 702;

	public const int food_CHA = 700; // [!code ++]
 // [!code ++]
	public const int food_love = 703;

	public const int food_bug = 704;
```

[`@@ -12,7 +12,7 @@ public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/FOOD.cs#L12-L18)
```cs:line-numbers=12

	public const int loseWeight = 706;

	public const int food_CHA = 700; // [!code --]
	public const int food_cat = 701; // [!code ++]

	public static readonly int[] IDS = new int[7] { 701, 702, 703, 704, 705, 706, 700 }; // [!code --]
	public static readonly int[] IDS = new int[7] { 702, 700, 703, 704, 705, 706, 701 }; // [!code ++]
}
```

## GoalCombat

[`@@ -37,6 +37,8 @@ public class ItemAbility`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/GoalCombat.cs#L37-L42)
```cs:line-numbers=37

	public override bool CancelWhenDamaged => false;

	public override bool CancelOnAggro => false; // [!code ++]
 // [!code ++]
	public Tactics tactics => owner.tactics;

	public override bool CanManualCancel()
```

[`@@ -177,35 +179,52 @@ public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/GoalCombat.cs#L177-L211)
```cs:line-numbers=177
		int dist = owner.Dist(tc);
		bool move = owner.host == null && (tactics.ChanceMove > EClass.rnd(100) || (owner.IsPC && tc.HasCondition<ConFear>() && dist >= EClass.pc.GetSightRadius() - 1));
		bool haltSecondMove = false;
		if (!owner.IsPC && !owner.isBlind && tc.source.HasTag(CTAG.suicide) && owner.IsNeutralOrAbove() && !owner.isSummon && !owner.IsMinion && !tc.HasCondition<ConWet>()) // [!code --]
		if (!owner.IsPC && owner.IsNeutralOrAbove() && !owner.isBlind && !owner.isSummon && !owner.IsMinion) // [!code ++]
		{
			if (dist <= 3) // [!code --]
			int num = -1; // [!code ++]
			if (tc.HasElement(1221)) // [!code ++]
			{ // [!code ++]
				num = 1; // [!code ++]
			} // [!code ++]
			if (tc.source.HasTag(CTAG.suicide) && !tc.HasCondition<ConWet>()) // [!code ++]
			{
				if (EClass.rnd(15) == 0) // [!code --]
				num = 3; // [!code ++]
			} // [!code ++]
			if (num > 0) // [!code ++]
			{ // [!code ++]
				if (dist <= num) // [!code ++]
				{
					owner.Talk("run_suicide"); // [!code --]
					if (EClass.rnd(15) == 0) // [!code ++]
					{ // [!code ++]
						owner.Talk("run_suicide"); // [!code ++]
					} // [!code ++]
					if (owner.host == null && owner.TryMoveFrom(tc.pos) != 0) // [!code ++]
					{ // [!code ++]
						yield return Status.Running; // [!code ++]
						idleCount = 0; // [!code ++]
						continue; // [!code ++]
					} // [!code ++]
					if (EClass.debug.logCombat) // [!code ++]
					{ // [!code ++]
						Debug.Log("Failed to Run: " + owner.Name); // [!code ++]
					} // [!code ++]
				}
				if (owner.host == null && owner.TryMoveFrom(tc.pos) != 0) // [!code --]
				if (dist == num + 1) // [!code ++]
				{
					yield return Status.Running; // [!code --]
					haltSecondMove = true; // [!code ++]
					move = false; // [!code ++]
					idleCount = 0;
					continue; // [!code --]
				}
			}
			else if (dist <= 5) // [!code --]
			{ // [!code --]
				haltSecondMove = true; // [!code --]
				move = false; // [!code --]
			} // [!code --]
		}
		if (dontWander)
		{
			int num = owner.Dist(EClass.pc); // [!code --]
			if (num > 3) // [!code --]
			int num2 = owner.Dist(EClass.pc); // [!code ++]
			if (num2 > 3) // [!code ++]
			{
				int x = tc.pos.x;
				int z = tc.pos.z;
				if (EClass.pc.pos.Distance(owner.pos.x + ((x > owner.pos.x) ? 1 : ((x < owner.pos.x) ? (-1) : 0)), owner.pos.z + ((z > owner.pos.z) ? 1 : ((z < owner.pos.z) ? (-1) : 0))) >= num) // [!code --]
				if (EClass.pc.pos.Distance(owner.pos.x + ((x > owner.pos.x) ? 1 : ((x < owner.pos.x) ? (-1) : 0)), owner.pos.z + ((z > owner.pos.z) ? 1 : ((z < owner.pos.z) ? (-1) : 0))) >= num2) // [!code ++]
				{
					move = false;
					haltSecondMove = true;
```

[`@@ -320,6 +339,10 @@ void CalmDown()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/GoalCombat.cs#L320-L325)
```cs:line-numbers=320

	public bool TryMove(int dist)
	{
		if (EClass.debug.logCombat) // [!code ++]
		{ // [!code ++]
			Debug.Log("TryMove: " + owner.Name + "/" + dist); // [!code ++]
		} // [!code ++]
		if (owner.host != null)
		{
			return false;
```

[`@@ -465,9 +488,9 @@ public virtual bool TryUseAbility(int dist, bool beforeMove = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/GoalCombat.cs#L465-L473)
```cs:line-numbers=465
			break;
		case "taunt":
		{
			bool flag7 = owner.HasCondition<StanceTaunt>(); // [!code --]
			bool flag8 = tactics.source.taunt != -1 && 100 * owner.hp / owner.MaxHP >= tactics.source.taunt; // [!code --]
			num = ((flag7 && !flag8) ? 100 : ((!flag7 && flag8) ? 100 : 0)); // [!code --]
			bool flag6 = owner.HasCondition<StanceTaunt>(); // [!code ++]
			bool flag7 = tactics.source.taunt != -1 && 100 * owner.hp / owner.MaxHP >= tactics.source.taunt; // [!code ++]
			num = ((flag6 && !flag7) ? 100 : ((!flag6 && flag7) ? 100 : 0)); // [!code ++]
			break;
		}
		case "melee":
```

[`@@ -484,13 +507,20 @@ public virtual bool TryUseAbility(int dist, bool beforeMove = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/GoalCombat.cs#L484-L496)
```cs:line-numbers=484
			{
				num -= (owner.IsPC ? 50 : 10);
			}
			if (tc.HasElement(1221)) // [!code --]
			{ // [!code --]
				num -= 40; // [!code --]
			} // [!code --]
			if (tc.HasElement(1223)) // [!code --]
			if (dist <= 1) // [!code ++]
			{
				num -= 40; // [!code --]
				if (tc.HasElement(1221)) // [!code ++]
				{ // [!code ++]
					num -= 40; // [!code ++]
				} // [!code ++]
				if (tc.HasElement(1223)) // [!code ++]
				{ // [!code ++]
					num -= 40; // [!code ++]
				} // [!code ++]
				if (tc.id == "hedgehog_ether") // [!code ++]
				{ // [!code ++]
					num = -999999; // [!code ++]
				} // [!code ++]
			}
			break;
		case "range":
```

[`@@ -535,13 +565,13 @@ public virtual bool TryUseAbility(int dist, bool beforeMove = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/GoalCombat.cs#L535-L547)
```cs:line-numbers=535
			{
				continue;
			}
			bool flag6 = text == "dot"; // [!code --]
			if (flag6 && (owner.isRestrained || (tc != null && tc.IsRestrainedResident))) // [!code --]
			bool flag8 = text == "dot"; // [!code ++]
			if (flag8 && (owner.isRestrained || (tc != null && tc.IsRestrainedResident))) // [!code ++]
			{
				continue;
			}
			num = ((text == "attackMelee") ? tactics.P_Melee : tactics.P_Spell) + GetAttackMod(act);
			if (num > 0 && flag6) // [!code --]
			if (num > 0 && flag8) // [!code ++]
			{
				num += 10;
			}
```

[`@@ -795,11 +825,17 @@ int HealFactor(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/GoalCombat.cs#L795-L805)
```cs:line-numbers=795
				break;
			}
		}
		if ((cost.cost <= 0 || EClass.rnd(100) <= tactics.AbilityChance) && ability2.act.CanPerform(owner, ability2.tg ?? tc) && owner.UseAbility(ability2.act, ability2.tg ?? tc, null, (ability2.act.HaveLongPressAction && ability2.pt) || ability2.aiPt)) // [!code --]
		if (cost.cost > 0 && EClass.rnd(100) > tactics.AbilityChance) // [!code ++]
		{ // [!code ++]
			continue; // [!code ++]
		} // [!code ++]
		Chara chara = owner; // [!code ++]
		if (ability2.act.CanPerform(owner, ability2.tg ?? tc) && owner.UseAbility(ability2.act, ability2.tg ?? tc, null, (ability2.act.HaveLongPressAction && ability2.pt) || ability2.aiPt)) // [!code ++]
		{
			if (EClass.debug.logCombat)
			{
				Debug.Log(owner.Name + "/" + ability2.act.id + "/" + ability2.act.CanPerform(owner, ability2.tg ?? tc) + "/" + ability2.tg?.ToString() + "/" + tc); // [!code --]
				Debug.Log("Used Ability: " + chara?.ToString() + "/" + ability2.act?.ToString() + "/" + ability2.tg?.ToString() + "/" + tc); // [!code ++]
				Debug.Log(ability2.act.CanPerform(chara, ability2.tg ?? tc)); // [!code ++]
			}
			return true;
		}
```

[`@@ -822,17 +858,17 @@ void BuildCharaList()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/GoalCombat.cs#L822-L838)
```cs:line-numbers=822
		charas.Clear();
		charaBuilt = true;
		int sightRadius = owner.GetSightRadius();
		foreach (Chara chara in EClass._map.charas) // [!code --]
		foreach (Chara chara2 in EClass._map.charas) // [!code ++]
		{
			if (chara != owner) // [!code --]
			if (chara2 != owner) // [!code ++]
			{
				int num5 = owner.Dist(chara); // [!code --]
				if (num5 > sightRadius || !owner.CanSeeLos(chara, num5)) // [!code --]
				int num5 = owner.Dist(chara2); // [!code ++]
				if (num5 > sightRadius || !owner.CanSeeLos(chara2, num5)) // [!code ++]
				{
					continue;
				}
			}
			charas.Add(chara); // [!code --]
			charas.Add(chara2); // [!code ++]
		}
	}
	int ForeachChara(ItemAbility a, Func<Chara, int> func, bool isFriendlyAbility)
```

[`@@ -844,36 +880,36 @@ int ForeachChara(ItemAbility a, Func<Chara, int> func, bool isFriendlyAbility)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/GoalCombat.cs#L844-L879)
```cs:line-numbers=844
		}
		BuildCharaList();
		int num3 = 0;
		foreach (Chara chara2 in charas) // [!code --]
		foreach (Chara chara3 in charas) // [!code ++]
		{
			int num4 = func(chara2); // [!code --]
			int num4 = func(chara3); // [!code ++]
			if (num4 > 0)
			{
				if (isFriendlyAbility)
				{
					if (owner.IsPCParty)
					{
						if (!chara2.IsPCParty) // [!code --]
						if (!chara3.IsPCParty) // [!code ++]
						{
							continue;
						}
					}
					else if (!owner.IsFriendOrAbove(chara2)) // [!code --]
					else if (!owner.IsFriendOrAbove(chara3)) // [!code ++]
					{
						continue;
					}
					if (chara2 != owner) // [!code --]
					if (chara3 != owner) // [!code ++]
					{
						num4 += tactics.P_Party;
					}
				}
				else if (!owner.IsHostile(chara2)) // [!code --]
				else if (!owner.IsHostile(chara3)) // [!code ++]
				{
					continue;
				}
				if (num4 >= num3)
				{
					a.tg = chara2; // [!code --]
					a.tg = chara3; // [!code ++]
					num3 = num4;
				}
			}
```

[`@@ -919,9 +955,9 @@ void GetNumEnemy(int radius)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/GoalCombat.cs#L919-L927)
```cs:line-numbers=919
		}
		BuildCharaList();
		numEnemy = 0;
		foreach (Chara chara3 in charas) // [!code --]
		foreach (Chara chara4 in charas) // [!code ++]
		{
			if (chara3.host == null && owner.IsHostile(chara3) && owner.Dist(chara3) < radius && owner.CanSeeLos(chara3)) // [!code --]
			if (chara4.host == null && owner.IsHostile(chara4) && owner.Dist(chara4) < radius && owner.CanSeeLos(chara4)) // [!code ++]
			{
				numEnemy++;
			}
```

[`@@ -935,9 +971,9 @@ int GetNumNeutral(int radius)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/GoalCombat.cs#L935-L943)
```cs:line-numbers=935
		}
		BuildCharaList();
		numNeutral = 0;
		foreach (Chara chara4 in charas) // [!code --]
		foreach (Chara chara5 in charas) // [!code ++]
		{
			if (!chara4.IsPCFactionOrMinion && chara4.IsNeutralOrAbove() && owner.Dist(chara4) <= radius && owner.CanSeeLos(chara4)) // [!code --]
			if (!chara5.IsPCFactionOrMinion && chara5.IsNeutralOrAbove() && owner.Dist(chara5) <= radius && owner.CanSeeLos(chara5)) // [!code ++]
			{
				numNeutral++;
			}
```

## LayerInventory

[`@@ -535,18 +535,19 @@ public static LayerInventory CreateContainer(Card owner)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/LayerInventory.cs#L535-L552)
```cs:line-numbers=535
		{
			return CreateContainerPC(owner);
		}
		Card container = owner; // [!code --]
		Card card = owner; // [!code ++]
		if (owner.trait is TraitShippingChest)
		{
			container = ELayer.game.cards.container_shipping; // [!code --]
			card = ELayer.game.cards.container_shipping; // [!code ++]
			card.things.SetSize(owner.things.width, owner.things.height); // [!code ++]
			ELayer.player.uidLastShippedZone = ELayer._zone.uid;
		}
		if (owner.trait is TraitDeliveryChest)
		{
			container = ELayer.game.cards.container_deliver; // [!code --]
			card = ELayer.game.cards.container_deliver; // [!code ++]
			Tutorial.Play("deliver_box");
		}
		return CreateContainer(owner, container); // [!code --]
		return CreateContainer(owner, card); // [!code ++]
	}

	public static LayerInventory CreateContainer(Card owner, Card container)
```

## MUTATION

[`@@ -1,32 +1,34 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/MUTATION.cs#L1-L32)
```cs:line-numbers=1
public class MUTATION
{
	public const int mutationRegenN = 1517; // [!code ++]
 // [!code ++]
	public const int mutationRegen = 1516;

	public const int mutationDexN = 1515;

	public const int mutationDex = 1514;

	public const int mutationEyeN = 1513; // [!code --]
	public const int etherManaBattery = 1564; // [!code ++]

	public const int mutationSkin = 1510; // [!code --]
	public const int mutationEye = 1512; // [!code ++]

	public const int mutationSkinN = 1511;

	public const int etherProvoke = 1563; // [!code --]
	public const int etherPoisonHand = 1565; // [!code ++]

	public const int mutationRegenN = 1517; // [!code --]
	public const int mutationSpeed = 1518; // [!code ++]

	public const int mutationEye = 1512; // [!code --]
	public const int mutationEyeN = 1513; // [!code ++]

	public const int mutationSpeed = 1518; // [!code --]
	public const int mutationSpeedN = 1519; // [!code ++]

	public const int etherManaBattery = 1564; // [!code --]
	public const int mutationSkin = 1510; // [!code ++]

	public const int mutationStr = 1520; // [!code --]
	public const int mutationStrN = 1521; // [!code ++]

	public const int etherPoisonHand = 1565; // [!code --]
	public const int etherProvoke = 1563; // [!code ++]

	public const int mutationSpeedN = 1519; // [!code --]
	public const int mutationStr = 1520; // [!code ++]

	public const int etherStupid = 1561;

```

[`@@ -48,40 +50,38 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/MUTATION.cs#L48-L87)
```cs:line-numbers=48

	public const int etherFeet = 1552;

	public const int etherUgly = 1551; // [!code --]
 // [!code --]
	public const int etherArmor = 1562;

	public const int mutationStrN = 1521; // [!code --]
	public const int etherUgly = 1551; // [!code ++]

	public const int mutationBodyN = 1531; // [!code --]
	public const int mutationCha = 1522; // [!code ++]

	public const int mutationBody = 1530; // [!code --]
	public const int mutationBrain = 1524; // [!code ++]

	public const int mutationLightningN = 1529; // [!code --]
	public const int mutationBrainN = 1525; // [!code ++]

	public const int mutationLightning = 1528; // [!code --]
	public const int mutationCold = 1526; // [!code ++]

	public const int mutationColdN = 1527;

	public const int mutationCold = 1526; // [!code --]
 // [!code --]
	public const int mutationBrainN = 1525; // [!code --]
	public const int mutationChaN = 1523; // [!code ++]

	public const int mutationBrain = 1524; // [!code --]
	public const int mutationLightningN = 1529; // [!code ++]

	public const int mutationChaN = 1523; // [!code --]
	public const int mutationBody = 1530; // [!code ++]

	public const int mutationCha = 1522; // [!code --]
	public const int mutationBodyN = 1531; // [!code ++]

	public const int etherGravity = 1550;

	public const int mutationLightning = 1528; // [!code ++]
 // [!code ++]
	public static readonly int[] IDS = new int[38]
	{
		1516, 1515, 1514, 1513, 1510, 1511, 1563, 1517, 1512, 1518, // [!code --]
		1564, 1520, 1565, 1519, 1561, 1560, 1559, 1558, 1557, 1556, // [!code --]
		1555, 1554, 1553, 1552, 1551, 1562, 1521, 1531, 1530, 1529, // [!code --]
		1528, 1527, 1526, 1525, 1524, 1523, 1522, 1550 // [!code --]
		1517, 1516, 1515, 1514, 1564, 1512, 1511, 1565, 1518, 1513, // [!code ++]
		1519, 1510, 1521, 1563, 1520, 1561, 1560, 1559, 1558, 1557, // [!code ++]
		1556, 1555, 1554, 1553, 1552, 1562, 1551, 1522, 1524, 1525, // [!code ++]
		1526, 1527, 1523, 1529, 1530, 1531, 1550, 1528 // [!code ++]
	};
}
public class Mutation : Feat
```

## POLICY

[`@@ -3,32 +3,28 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/POLICY.cs#L3-L34)
```cs:line-numbers=3

public class POLICY
{
	public const int mass_exhibition = 2814; // [!code --]
	public const int store_ripoff = 2816; // [!code ++]

	public const int suite_room = 2813; // [!code --]
	public const int incomeTransfer = 2711; // [!code ++]

	public const int bed_quality = 2812; // [!code --]
	public const int home_discount = 2800; // [!code ++]

	public const int tourist_safety = 2811; // [!code --]
	public const int open_business = 2810; // [!code ++]

	public const int noAnimal = 2709; // [!code --]
	public const int tourist_safety = 2811; // [!code ++]

	public const int home_discount = 2800; // [!code --]
	public const int bed_quality = 2812; // [!code ++]

	public const int incomeTransfer = 2711; // [!code --]
	public const int suite_room = 2813; // [!code ++]

	public const int noMother = 2710; // [!code --]
	public const int mass_exhibition = 2814; // [!code ++]

	public const int platinum_ticket = 2815;

	public const int open_business = 2810; // [!code --]
 // [!code --]
	public const int store_ripoff = 2816; // [!code --]
	public const int store_premium = 2817; // [!code ++]

	public const int legendary_exhibition = 2823;

	public const int license_food = 2818; // [!code --]
 // [!code --]
	public const int license_furniture = 2819;

	public const int license_general = 2820;
```

[`@@ -37,6 +33,8 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/POLICY.cs#L37-L42)
```cs:line-numbers=37

	public const int celeb = 2822;

	public const int noMother = 2710; // [!code ++]
 // [!code ++]
	public const int license_stolen = 2824;

	public const int milk_fan = 2825;
```

[`@@ -47,17 +45,17 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/POLICY.cs#L47-L63)
```cs:line-numbers=47

	public const int license_slaver = 2828;

	public const int store_premium = 2817; // [!code --]
	public const int license_food = 2818; // [!code ++]

	public const int noDM = 2708; // [!code --]
	public const int noAnimal = 2709; // [!code ++]

	public const int legal_drug = 2505; // [!code --]
	public const int inquisition = 2507; // [!code ++]

	public const int demon_invocation = 2706; // [!code --]
	public const int auto_farm = 2707; // [!code ++]

	public const int wealth_tax = 2500; // [!code --]
	public const int noDM = 2708; // [!code ++]

	public const int faith_tax = 2501; // [!code --]
	public const int wealth_tax = 2500; // [!code ++]

	public const int food_for_people = 2502;

```

[`@@ -65,49 +63,51 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/POLICY.cs#L65-L113)
```cs:line-numbers=65

	public const int impressment = 2504;

	public const int human_right = 2506; // [!code --]
	public const int legal_drug = 2505; // [!code ++]

	public const int inquisition = 2507; // [!code --]
	public const int faith_tax = 2501; // [!code ++]

	public const int nocturnal_life = 2508;

	public const int auto_farm = 2707; // [!code --]
	public const int vaccination = 2509; // [!code ++]

	public const int ban_radio = 2510;

	public const int self_sufficient = 2511;

	public const int vaccination = 2509; // [!code --]
	public const int human_right = 2506; // [!code ++]

	public const int resident_wanted = 2513;

	public const int taxfree = 2514; // [!code --]
 // [!code --]
	public const int stop_growth = 2515; // [!code --]
	public const int taxTransfer = 2705; // [!code ++]

	public const int speed_growth = 2516; // [!code --]
	public const int resident_tax = 2512; // [!code ++]

	public const int energy_conservation = 2700; // [!code --]
	public const int border_watch = 2704; // [!code ++]

	public const int trash_sort = 2701; // [!code --]
	public const int demon_invocation = 2706; // [!code ++]

	public const int trash_no = 2702;

	public const int weed_no = 2703;

	public const int border_watch = 2704; // [!code --]
	public const int energy_conservation = 2700; // [!code ++]

	public const int taxTransfer = 2705; // [!code --]
	public const int speed_growth = 2516; // [!code ++]

	public const int resident_tax = 2512; // [!code --]
	public const int stop_growth = 2515; // [!code ++]
 // [!code ++]
	public const int taxfree = 2514; // [!code ++]
 // [!code ++]
	public const int trash_sort = 2701; // [!code ++]

	public static readonly int[] IDS = new int[49]
	{
		2814, 2813, 2812, 2811, 2709, 2800, 2711, 2710, 2815, 2810, // [!code --]
		2816, 2823, 2818, 2819, 2820, 2821, 2822, 2824, 2825, 2826, // [!code --]
		2827, 2828, 2817, 2708, 2505, 2706, 2500, 2501, 2502, 2503, // [!code --]
		2504, 2506, 2507, 2508, 2707, 2510, 2511, 2509, 2513, 2514, // [!code --]
		2515, 2516, 2700, 2701, 2702, 2703, 2704, 2705, 2512 // [!code --]
		2816, 2711, 2800, 2810, 2811, 2812, 2813, 2814, 2815, 2817, // [!code ++]
		2823, 2819, 2820, 2821, 2822, 2710, 2824, 2825, 2826, 2827, // [!code ++]
		2828, 2818, 2709, 2507, 2707, 2708, 2500, 2502, 2503, 2504, // [!code ++]
		2505, 2501, 2508, 2509, 2510, 2511, 2506, 2513, 2705, 2512, // [!code ++]
		2704, 2706, 2702, 2703, 2700, 2516, 2515, 2514, 2701 // [!code ++]
	};
}
public class Policy : EClass
```

## SKILL

[`@@ -1,7 +1,5 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/SKILL.cs#L1-L7)
```cs:line-numbers=1
public class SKILL
{
	public const int marksman = 133; // [!code --]
 // [!code --]
	public const int tactics = 132;

	public const int twowield = 131;
```

[`@@ -10,25 +8,27 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/SKILL.cs#L10-L34)
```cs:line-numbers=10

	public const int shield = 123;

	public const int fireproof = 50; // [!code --]
	public const int armorHeavy = 122; // [!code ++]

	public const int armorLight = 120; // [!code --]
	public const int weaponCrossbow = 109; // [!code ++]

	public const int weaponBlunt = 111;

	public const int weaponScythe = 110;

	public const int weaponCrossbow = 109; // [!code --]
	public const int fireproof = 50; // [!code ++]

	public const int eyeofmind = 134; // [!code --]
	public const int acidproof = 51; // [!code ++]

	public const int armorHeavy = 122; // [!code --]
	public const int marksman = 133; // [!code ++]

	public const int strategy = 135; // [!code --]
	public const int armorLight = 120; // [!code ++]

	public const int digging = 230; // [!code --]
	public const int eyeofmind = 134; // [!code ++]

	public const int evasionPlus = 151; // [!code --]
	public const int parasite = 227; // [!code ++]
 // [!code ++]
	public const int evasion = 150; // [!code ++]

	public const int climbing = 242;

```

[`@@ -40,13 +40,11 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/SKILL.cs#L40-L52)
```cs:line-numbers=40

	public const int milking = 235;

	public const int acidproof = 51; // [!code --]
 // [!code --]
	public const int evasion = 150; // [!code --]
	public const int digging = 230; // [!code ++]

	public const int parasite = 227; // [!code --]
	public const int strategy = 135; // [!code ++]

	public const int lumberjack = 225; // [!code --]
	public const int riding = 226; // [!code ++]

	public const int mining = 220;

```

[`@@ -58,16 +56,22 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/SKILL.cs#L58-L73)
```cs:line-numbers=58

	public const int stealth = 152;

	public const int riding = 226; // [!code --]
	public const int evasionPlus = 151; // [!code ++]
 // [!code ++]
	public const int lumberjack = 225; // [!code ++]

	public const int PDR = 55;

	public const int weaponSword = 101; // [!code --]
	public const int martial = 100; // [!code ++]

	public const int evasionPerfect = 57;

	public const int fishing = 245;

	public const int life = 60; // [!code ++]
 // [!code ++]
	public const int mana = 61; // [!code ++]
 // [!code ++]
	public const int vigor = 62;

	public const int DV = 64;
```

[`@@ -90,14 +94,14 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/SKILL.cs#L90-L103)
```cs:line-numbers=90

	public const int LER = 74;

	public const int WIL = 75; // [!code --]
 // [!code --]
	public const int MAG = 76; // [!code --]
 // [!code --]
	public const int EDR = 56;

	public const int WIL = 75; // [!code ++]
 // [!code ++]
	public const int CHA = 77;

	public const int LUC = 78; // [!code ++]
 // [!code ++]
	public const int SPD = 79;

	public const int INT = 80;
```

[`@@ -108,7 +112,7 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/SKILL.cs#L108-L114)
```cs:line-numbers=108

	public const int penetration = 92;

	public const int martial = 100; // [!code --]
	public const int weaponSword = 101; // [!code ++]

	public const int weaponAxe = 102;

```

[`@@ -118,19 +122,15 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/SKILL.cs#L118-L136)
```cs:line-numbers=118

	public const int weaponGun = 105;

	public const int weaponDagger = 107; // [!code --]
	public const int weaponPolearm = 106; // [!code ++]

	public const int throwing = 108;

	public const int mana = 61; // [!code --]
 // [!code --]
	public const int life = 60; // [!code --]
 // [!code --]
	public const int LUC = 78; // [!code --]
	public const int MAG = 76; // [!code ++]

	public const int gathering = 250;

	public const int weaponPolearm = 106; // [!code --]
	public const int weaponDagger = 107; // [!code ++]

	public const int blacksmith = 256;

```

[`@@ -264,13 +264,13 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/SKILL.cs#L264-L276)
```cs:line-numbers=264

	public static readonly int[] IDS = new int[131]
	{
		133, 132, 131, 130, 123, 50, 120, 111, 110, 109, // [!code --]
		134, 122, 135, 230, 151, 242, 241, 240, 237, 235, // [!code --]
		51, 150, 227, 225, 220, 210, 207, 200, 152, 226, // [!code --]
		55, 101, 57, 245, 62, 64, 65, 66, 67, 68, // [!code --]
		70, 71, 72, 73, 74, 75, 76, 56, 77, 79, // [!code --]
		80, 90, 91, 92, 100, 102, 103, 104, 105, 107, // [!code --]
		108, 61, 60, 78, 250, 106, 256, 916, 917, 918, // [!code --]
		132, 131, 130, 123, 122, 109, 111, 110, 50, 51, // [!code ++]
		133, 120, 134, 227, 150, 242, 241, 240, 237, 235, // [!code ++]
		230, 135, 226, 220, 210, 207, 200, 152, 151, 225, // [!code ++]
		55, 100, 57, 245, 60, 61, 62, 64, 65, 66, // [!code ++]
		67, 68, 70, 71, 72, 73, 74, 56, 75, 77, // [!code ++]
		78, 79, 80, 90, 91, 92, 101, 102, 103, 104, // [!code ++]
		105, 106, 108, 76, 250, 107, 256, 916, 917, 918, // [!code ++]
		920, 921, 922, 923, 924, 925, 950, 951, 952, 953,
		954, 955, 956, 957, 958, 959, 960, 961, 962, 963,
		964, 965, 970, 971, 972, 255, 915, 914, 919, 912,
```

## Thing

[`@@ -64,7 +64,7 @@ public override int SelfWeight`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/Thing.cs#L64-L70)
```cs:line-numbers=64
	{
		if (!base.IsUnique)
		{
			return (base.isWeightChanged ? base.c_weight : source.weight) * base.material.weight / 100; // [!code --]
			return (int)((long)(base.isWeightChanged ? base.c_weight : source.weight) * (long)base.material.weight / 100); // [!code ++]
		}
		if (!base.isWeightChanged)
		{
```

## TraitCrafter

[`@@ -408,6 +408,10 @@ public virtual Thing Craft(AI_UseCrafter ai)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/TraitCrafter.cs#L408-L413)
```cs:line-numbers=408

	public override void TrySetAct(ActPlan p)
	{
		if (!EClass.debug.enable && this is TraitRollingFortune) // [!code ++]
		{ // [!code ++]
			return; // [!code ++]
		} // [!code ++]
		if (IsFactory)
		{
			Thing _t = owner.Thing;
```

## TraitDemitas

[`@@ -44,7 +44,7 @@ public override ShopType ShopType`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/TraitDemitas.cs#L44-L50)
```cs:line-numbers=44

	public override int NumCopyItem => 3 + Mathf.Min(base.owner.c_invest / 5, 7);

	public override bool CanJoinParty => EClass.debug.enable; // [!code --]
	public override bool CanJoinParty => false; // [!code ++]

	public override bool CanBeBanished => false;

```

## +TraitMoyer

::: details File Created
```cs
public class TraitMoyer : TraitUniqueChara
{
	public override bool CanInvite => false;
}
```

:::
## TraitObj

[`@@ -1,4 +1,6 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/TraitObj.cs#L1-L4)
```cs:line-numbers=1
public class TraitObj : TraitTile
{
	public override TileRow source => EClass.sources.objs.rows[owner.refVal];
 // [!code ++]
	public override bool CanBeOnlyBuiltInHome => true; // [!code ++]
}
```

## TraitPlatform

[`@@ -5,4 +5,6 @@ public class TraitPlatform : TraitTile`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0e6fe583fd12c55ffb5771538177d285710293bf/Elin/TraitPlatform.cs#L5-L8)
```cs:line-numbers=5
	public override TileRow source => EClass.sources.floors.rows[owner.refVal];

	public override string suffix => "-b";
 // [!code ++]
	public override bool CanBeOnlyBuiltInHome => true; // [!code ++]
}
```
