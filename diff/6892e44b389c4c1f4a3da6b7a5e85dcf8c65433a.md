---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 17 files modified.
version: EA 23.148 Nightly
changes: ActEffect/CINT/Card/Chara/DramaCustomSequence/FACTION/FEAT/FOOD/FactionBranch/MUTATION/POLICY/SKILL/TraitPotionAlchemy/TraitWell/WindowChara/Zone/Zone_Field
---

# EA 23.148 Nightly

May 31, 2025

17 files modified.

## Important Changes

Possible breaking changes. Click the filename to view the chunk.
### [ActEffect (1)](#acteffect)
```cs:no-line-numbers
public static void LoveMiracle(Chara tc, Chara c, int power, bool plus = false) // [!code --]
public static void LoveMiracle(Chara tc, Chara c, int power, bool plus = false, BlessedState? state = null) // [!code ++]
```
### [Card (2)](#card)
```cs:no-line-numbers
public Thing MakeEgg(bool effect = true, int num = 1, bool addToZone = true, int fertChance = 20) // [!code --]
public Thing MakeEgg(bool effect = true, int num = 1, bool addToZone = true, int fertChance = 20, BlessedState? state = null) // [!code ++]
```
```cs:no-line-numbers
public Thing MakeMilk(bool effect = true, int num = 1, bool addToZone = true) // [!code --]
public Thing MakeMilk(bool effect = true, int num = 1, bool addToZone = true, BlessedState? state = null) // [!code ++]
```
## ActEffect

[`@@ -1309,15 +1309,15 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1309-L1323)
```cs:line-numbers=1309
		{
			break;
		}
		int hex = 0; // [!code --]
		int hex2 = 0; // [!code ++]
		foreach (Condition condition4 in TC.conditions)
		{
			if (condition4.Type == ConditionType.Debuff)
			{
				hex++; // [!code --]
				hex2++; // [!code ++]
			}
		}
		if (hex == 0) // [!code --]
		if (hex2 == 0) // [!code ++]
		{
			CC.SayNothingHappans();
			break;
```

[`@@ -1339,8 +1339,8 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1339-L1346)
```cs:line-numbers=1339
			{
				if (!item3.IsFriendOrAbove(CC))
				{
					int num10 = Dice.Create("SpShutterHex", power, CC, (actRef.refThing != null) ? null : actRef.act).Roll(); // [!code --]
					item3.DamageHP(num10 * hex, 919, power, AttackSource.None, CC); // [!code --]
					int num11 = Dice.Create("SpShutterHex", power, CC, (actRef.refThing != null) ? null : actRef.act).Roll(); // [!code ++]
					item3.DamageHP(num11 * hex2, 919, power, AttackSource.None, CC); // [!code ++]
				}
			}
		});
```

[`@@ -1378,7 +1378,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1378-L1384)
```cs:line-numbers=1378
			break;
		}
		Thing thing4 = null;
		bool flag6 = actRef.n1 == "food"; // [!code --]
		bool flag7 = actRef.n1 == "food"; // [!code ++]
		if (actRef.n1 == "money")
		{
			int currency = TC.GetCurrency();
```

[`@@ -1392,11 +1392,11 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1392-L1402)
```cs:line-numbers=1392
		else
		{
			Func<Thing, bool> func = (Thing t) => true;
			if (flag6) // [!code --]
			if (flag7) // [!code ++]
			{
				func = (Thing t) => t.IsFood;
			}
			List<Thing> list3 = TC.things.List(delegate(Thing t) // [!code --]
			List<Thing> list4 = TC.things.List(delegate(Thing t) // [!code ++]
			{
				if (t.parentCard?.trait is TraitChestMerchant || t.trait is TraitTool || t.IsThrownWeapon)
				{
```

[`@@ -1404,9 +1404,9 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1404-L1412)
```cs:line-numbers=1404
				}
				return t.trait.CanBeDestroyed && t.things.Count == 0 && t.invY != 1 && t.trait.CanBeStolen && !t.trait.CanOnlyCarry && !t.IsUnique && !t.isEquipped && t.blessedState == BlessedState.Normal && func(t);
			}, onlyAccessible: true);
			if (list3.Count > 0) // [!code --]
			if (list4.Count > 0) // [!code ++]
			{
				thing4 = list3.RandomItem(); // [!code --]
				thing4 = list4.RandomItem(); // [!code ++]
				if (thing4.Num > 1)
				{
					thing4 = thing4.Split(1);
```

[`@@ -1452,7 +1452,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1452-L1458)
```cs:line-numbers=1452
		{
			break;
		}
		List<Thing> list5 = TC.things.List(delegate(Thing t) // [!code --]
		List<Thing> list6 = TC.things.List(delegate(Thing t) // [!code ++]
		{
			if (!t.isEquipped || t.blessedState == BlessedState.Doomed || t.IsToolbelt)
			{
```

[`@@ -1460,12 +1460,12 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1460-L1471)
```cs:line-numbers=1460
			}
			return (t.blessedState < BlessedState.Blessed || EClass.rnd(10) == 0) ? true : false;
		});
		if (list5.Count == 0) // [!code --]
		if (list6.Count == 0) // [!code ++]
		{
			CC.SayNothingHappans();
			break;
		}
		Thing thing6 = list5.RandomItem(); // [!code --]
		Thing thing6 = list6.RandomItem(); // [!code ++]
		TC.Say("curse_hit", TC, thing6);
		thing6.SetBlessedState((thing6.blessedState == BlessedState.Cursed) ? BlessedState.Doomed : BlessedState.Cursed);
		LayerInventory.SetDirty(thing6);
```

[`@@ -1487,26 +1487,26 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1487-L1512)
```cs:line-numbers=1487
		List<Thing> list = new List<Thing>();
		TC.things.Foreach(delegate(Thing t)
		{
			int num11 = 0; // [!code --]
			int num10 = 0; // [!code ++]
			if ((t.isEquipped || t.IsRangedWeapon || blessed) && t.blessedState < BlessedState.Normal)
			{
				if (t.blessedState == BlessedState.Cursed)
				{
					num11 = EClass.rnd(200); // [!code --]
					num10 = EClass.rnd(200); // [!code ++]
				}
				if (t.blessedState == BlessedState.Doomed)
				{
					num11 = EClass.rnd(1000); // [!code --]
					num10 = EClass.rnd(1000); // [!code ++]
				}
				if (blessed)
				{
					num11 /= 2; // [!code --]
					num10 /= 2; // [!code ++]
				}
				if (id == EffectId.UncurseEQGreater)
				{
					num11 /= 10; // [!code --]
					num10 /= 10; // [!code ++]
				}
				if (power >= num11) // [!code --]
				if (power >= num10) // [!code ++]
				{
					TC.Say("uncurseEQ_success", t);
					t.SetBlessedState(BlessedState.Normal);
```

[`@@ -1550,18 +1550,18 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1550-L1567)
```cs:line-numbers=1550
				text3 = text4;
			}
		}
		Condition condition2 = Condition.Create(text3, power, delegate(Condition con) // [!code --]
		Condition condition = Condition.Create(text3, power, delegate(Condition con) // [!code ++]
		{
			if (!actRef.aliasEle.IsEmpty())
			{
				con.SetElement(EClass.sources.elements.alias[actRef.aliasEle].id);
			}
		});
		condition2.isPerfume = TC.IsPC && actRef.isPerfume; // [!code --]
		Condition condition3 = TC.AddCondition(condition2); // [!code --]
		if (condition3 != null && condition3.isPerfume) // [!code --]
		condition.isPerfume = TC.IsPC && actRef.isPerfume; // [!code ++]
		Condition condition2 = TC.AddCondition(condition); // [!code ++]
		if (condition2 != null && condition2.isPerfume) // [!code ++]
		{
			condition3.value = 3; // [!code --]
			condition2.value = 3; // [!code ++]
			Msg.Say("perfume", TC);
		}
		if (!text4.IsEmpty())
```

[`@@ -1573,14 +1573,14 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1573-L1586)
```cs:line-numbers=1573
	case EffectId.KizuamiTrick:
	{
		EClass.game.religions.Trickery.Talk("ability");
		bool hex2 = CC.IsHostile(TC); // [!code --]
		List<SourceStat.Row> list6 = EClass.sources.stats.rows.Where((SourceStat.Row con) => con.tag.Contains("random") && con.group == (hex2 ? "Debuff" : "Buff")).ToList(); // [!code --]
		bool hex = CC.IsHostile(TC); // [!code ++]
		List<SourceStat.Row> list7 = EClass.sources.stats.rows.Where((SourceStat.Row con) => con.tag.Contains("random") && con.group == (hex ? "Debuff" : "Buff")).ToList(); // [!code ++]
		int power2 = power;
		for (int k = 0; k < 4 + EClass.rnd(2); k++) // [!code --]
		for (int l = 0; l < 4 + EClass.rnd(2); l++) // [!code ++]
		{
			SourceStat.Row row2 = list6.RandomItem(); // [!code --]
			list6.Remove(row2); // [!code --]
			Proc(hex2 ? EffectId.DebuffKizuami : EffectId.Buff, CC, TC, power2, new ActRef // [!code --]
			SourceStat.Row row2 = list7.RandomItem(); // [!code ++]
			list7.Remove(row2); // [!code ++]
			Proc(hex ? EffectId.DebuffKizuami : EffectId.Buff, CC, TC, power2, new ActRef // [!code ++]
			{
				n1 = row2.alias
			});
```

[`@@ -1603,10 +1603,10 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1603-L1612)
```cs:line-numbers=1603
		}
		int a2 = power;
		int num7 = TC.WIL * (isPowerful ? 20 : 5);
		ConHolyVeil condition = TC.GetCondition<ConHolyVeil>(); // [!code --]
		if (condition != null) // [!code --]
		ConHolyVeil condition3 = TC.GetCondition<ConHolyVeil>(); // [!code ++]
		if (condition3 != null) // [!code ++]
		{
			num7 += condition.power * 5; // [!code --]
			num7 += condition3.power * 5; // [!code ++]
		}
		if (id != EffectId.DebuffKizuami && EClass.rnd(a2) < num7 / EClass.sources.stats.alias[n].hexPower && EClass.rnd(10) != 0)
		{
```

[`@@ -1751,16 +1751,16 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1751-L1766)
```cs:line-numbers=1751
		break;
	case EffectId.Revive:
	{
		List<KeyValuePair<int, Chara>> list7 = EClass.game.cards.globalCharas.Where((KeyValuePair<int, Chara> a) => a.Value.isDead && a.Value.faction == EClass.pc.faction && !a.Value.isSummon && a.Value.c_wasInPcParty).ToList(); // [!code --]
		List<KeyValuePair<int, Chara>> list3 = EClass.game.cards.globalCharas.Where((KeyValuePair<int, Chara> a) => a.Value.isDead && a.Value.faction == EClass.pc.faction && !a.Value.isSummon && a.Value.c_wasInPcParty).ToList(); // [!code ++]
		if (TC.IsPCFaction || TC.IsPCFactionMinion)
		{
			if (TC.IsPC && list7.Count == 0) // [!code --]
			if (TC.IsPC && list3.Count == 0) // [!code ++]
			{
				list7 = EClass.game.cards.globalCharas.Where((KeyValuePair<int, Chara> a) => a.Value.CanRevive() && a.Value.isDead && a.Value.faction == EClass.pc.faction && !a.Value.isSummon).ToList(); // [!code --]
				list3 = EClass.game.cards.globalCharas.Where((KeyValuePair<int, Chara> a) => a.Value.CanRevive() && a.Value.isDead && a.Value.faction == EClass.pc.faction && !a.Value.isSummon).ToList(); // [!code ++]
			}
			if (list7.Count > 0) // [!code --]
			if (list3.Count > 0) // [!code ++]
			{
				list7.RandomItem().Value.Chara.GetRevived(); // [!code --]
				list3.RandomItem().Value.Chara.GetRevived(); // [!code ++]
				break;
			}
		}
```

[`@@ -1773,24 +1773,24 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1773-L1796)
```cs:line-numbers=1773
	case EffectId.DamageMindGreat:
	case EffectId.Weaken:
	{
		bool flag8 = id == EffectId.DamageBody || id == EffectId.DamageBodyGreat; // [!code --]
		bool mind = id == EffectId.DamageMind || id == EffectId.DamageMindGreat; // [!code --]
		int num8 = ((id == EffectId.DamageBody || id == EffectId.DamageMind) ? 1 : (4 + EClass.rnd(4))); // [!code --]
		bool flag9 = id == EffectId.DamageBody || id == EffectId.DamageBodyGreat; // [!code ++]
		bool mind2 = id == EffectId.DamageMind || id == EffectId.DamageMindGreat; // [!code ++]
		int num9 = ((id == EffectId.DamageBody || id == EffectId.DamageMind) ? 1 : (4 + EClass.rnd(4))); // [!code ++]
		if (id == EffectId.Weaken)
		{
			flag8 = EClass.rnd(2) == 0; // [!code --]
			mind = !flag8; // [!code --]
			num8 = 1; // [!code --]
			flag9 = EClass.rnd(2) == 0; // [!code ++]
			mind2 = !flag9; // [!code ++]
			num9 = 1; // [!code ++]
		}
		else
		{
			TC.PlayEffect("debuff");
			TC.PlaySound("debuff");
		}
		TC.Say(flag8 ? "damageBody" : "damageMind", TC); // [!code --]
		for (int l = 0; l < num8; l++) // [!code --]
		TC.Say(flag9 ? "damageBody" : "damageMind", TC); // [!code ++]
		for (int m = 0; m < num9; m++) // [!code ++]
		{
			TC.DamageTempElements(power, flag8, mind); // [!code --]
			TC.DamageTempElements(power, flag9, mind2); // [!code ++]
		}
		if (TC.IsPC)
		{
```

[`@@ -1803,34 +1803,34 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1803-L1836)
```cs:line-numbers=1803
	case EffectId.EnhanceBodyGreat:
	case EffectId.EnhanceMindGreat:
	{
		bool flag9 = id == EffectId.EnhanceBody || id == EffectId.EnhanceBodyGreat; // [!code --]
		bool mind2 = id == EffectId.EnhanceMind || id == EffectId.EnhanceMindGreat; // [!code --]
		int num9 = ((id == EffectId.EnhanceBody || id == EffectId.EnhanceMind) ? 1 : (4 + EClass.rnd(4))); // [!code --]
		TC.Say(flag9 ? "enhanceBody" : "enhanceMind", TC); // [!code --]
		bool flag6 = id == EffectId.EnhanceBody || id == EffectId.EnhanceBodyGreat; // [!code ++]
		bool mind = id == EffectId.EnhanceMind || id == EffectId.EnhanceMindGreat; // [!code ++]
		int num6 = ((id == EffectId.EnhanceBody || id == EffectId.EnhanceMind) ? 1 : (4 + EClass.rnd(4))); // [!code ++]
		TC.Say(flag6 ? "enhanceBody" : "enhanceMind", TC); // [!code ++]
		TC.PlayEffect("buff");
		TC.PlaySound("buff");
		for (int m = 0; m < num9; m++) // [!code --]
		for (int k = 0; k < num6; k++) // [!code ++]
		{
			TC.EnhanceTempElements(power, flag9, mind2); // [!code --]
			TC.EnhanceTempElements(power, flag6, mind); // [!code ++]
		}
		break;
	}
	case EffectId.RestoreBody:
	case EffectId.RestoreMind:
	{
		bool flag7 = id == EffectId.RestoreBody; // [!code --]
		bool flag8 = id == EffectId.RestoreBody; // [!code ++]
		if (flag)
		{
			Redirect(flag7 ? EffectId.DamageBodyGreat : EffectId.DamageMindGreat, BlessedState.Normal, default(ActRef)); // [!code --]
			Redirect(flag8 ? EffectId.DamageBodyGreat : EffectId.DamageMindGreat, BlessedState.Normal, default(ActRef)); // [!code ++]
			break;
		}
		TC.Say(flag7 ? "restoreBody" : "restoreMind", TC); // [!code --]
		TC.Say(flag8 ? "restoreBody" : "restoreMind", TC); // [!code ++]
		TC.PlaySound("heal");
		TC.PlayEffect("heal");
		TC.CureHost(flag7 ? CureType.CureBody : CureType.CureMind, power, state); // [!code --]
		TC.CureHost(flag8 ? CureType.CureBody : CureType.CureMind, power, state); // [!code ++]
		if (blessed)
		{
			Redirect(flag7 ? EffectId.EnhanceBodyGreat : EffectId.EnhanceMindGreat, BlessedState.Normal, default(ActRef)); // [!code --]
			Redirect(flag8 ? EffectId.EnhanceBodyGreat : EffectId.EnhanceMindGreat, BlessedState.Normal, default(ActRef)); // [!code ++]
		}
		break;
	}
```

[`@@ -1850,17 +1850,17 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L1850-L1866)
```cs:line-numbers=1850
		{
			Debug.Log(actRef.act.id);
		}
		int num6 = Dice.Create((actRef.act != null && EClass.sources.calc.map.ContainsKey(actRef.act.ID)) ? actRef.act.ID : "SpHealLight", power, CC, (actRef.refThing != null) ? null : actRef.act).Roll(); // [!code --]
		int num8 = Dice.Create((actRef.act != null && EClass.sources.calc.map.ContainsKey(actRef.act.ID)) ? actRef.act.ID : "SpHealLight", power, CC, (actRef.refThing != null) ? null : actRef.act).Roll(); // [!code ++]
		if (actRef.refThing != null)
		{
			num6 = num6 * (100 + actRef.refThing.Evalue(7500)) / 100; // [!code --]
			num8 = num8 * (100 + actRef.refThing.Evalue(7500)) / 100; // [!code ++]
		}
		if (flag)
		{
			TC.DamageHP(num6 / 2, 919, power); // [!code --]
			TC.DamageHP(num8 / 2, 919, power); // [!code ++]
			break;
		}
		TC.HealHPHost(num6, (actRef.refThing == null && id != EffectId.JureHeal) ? HealSource.Magic : HealSource.Item); // [!code --]
		TC.HealHPHost(num8, (actRef.refThing == null && id != EffectId.JureHeal) ? HealSource.Magic : HealSource.Item); // [!code ++]
		TC.CureHost(CureType.Heal, power, state);
		TC.Say((power >= 300) ? "heal_heavy" : "heal_light", TC);
		break;
```

[`@@ -2131,10 +2131,10 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L2131-L2140)
```cs:line-numbers=2131
		{
			power /= 4;
		}
		List<Thing> list4 = TC.things.List((Thing t) => (t.Num <= 1 && t.IsEquipmentOrRanged && !t.IsToolbelt && !t.IsLightsource && t.isEquipped) ? true : false); // [!code --]
		if (list4.Count != 0) // [!code --]
		List<Thing> list5 = TC.things.List((Thing t) => (t.Num <= 1 && t.IsEquipmentOrRanged && !t.IsToolbelt && !t.IsLightsource && t.isEquipped) ? true : false); // [!code ++]
		if (list5.Count != 0) // [!code ++]
		{
			Thing thing5 = list4.RandomItem(); // [!code --]
			Thing thing5 = list5.RandomItem(); // [!code ++]
			TC.Say("acid_hit", TC);
			if (thing5.isAcidproof)
			{
```

[`@@ -2188,10 +2188,34 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L2188-L2197)
```cs:line-numbers=2188
		}
		else
		{
			LoveMiracle(TC, CC, power, id == EffectId.LovePlus); // [!code --]
			LoveMiracle(TC, CC, power, id == EffectId.LovePlus, state); // [!code ++]
		}
		break;
	case EffectId.HairGrowth:
		if (flag) // [!code ++]
		{ // [!code ++]
			if (TC.HasElement(1532)) // [!code ++]
			{ // [!code ++]
				TC.SetMutation(1532); // [!code ++]
			} // [!code ++]
			else // [!code ++]
			{ // [!code ++]
				TC.SetMutation(1533, 1); // [!code ++]
			} // [!code ++]
			TC.c_fur = 0; // [!code ++]
			break; // [!code ++]
		} // [!code ++]
		if (blessed) // [!code ++]
		{ // [!code ++]
			if (TC.HasElement(1533)) // [!code ++]
			{ // [!code ++]
				TC.SetMutation(1533); // [!code ++]
			} // [!code ++]
			else // [!code ++]
			{ // [!code ++]
				TC.SetMutation(1532, 1); // [!code ++]
			} // [!code ++]
		} // [!code ++]
		TC.PlayEffect("aura_heaven");
		TC.PlaySound("godbless");
		if (!TC.HaveFur())
```

[`@@ -2228,7 +2252,7 @@ public static void Poison(Chara tc, Chara c, int power)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L2228-L2234)
```cs:line-numbers=2228
		}
	}

	public static void LoveMiracle(Chara tc, Chara c, int power, bool plus = false) // [!code --]
	public static void LoveMiracle(Chara tc, Chara c, int power, bool plus = false, BlessedState? state = null) // [!code ++]
	{
		if (c == tc)
		{
```

[`@@ -2243,11 +2267,11 @@ public static void LoveMiracle(Chara tc, Chara c, int power, bool plus = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L2243-L2253)
```cs:line-numbers=2243
	{
		if (!plus && EClass.rnd(2) == 0)
		{
			tc.MakeMilk(); // [!code --]
			tc.MakeMilk(effect: true, 1, addToZone: true, state); // [!code ++]
		}
		else
		{
			tc.MakeEgg(effect: true, 1, addToZone: true, plus ? 3 : 20); // [!code --]
			tc.MakeEgg(effect: true, 1, addToZone: true, plus ? 3 : 20, state); // [!code ++]
		}
	}
}
```

[`@@ -2360,6 +2384,7 @@ public static bool Wish(string s, string name, int power, BlessedState state)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L2360-L2365)
```cs:line-numbers=2360
				}
				Thing thing = ThingGen.Create(r.id, -1, wishLv);
				int num = 1;
				int price = thing.GetPrice(CurrencyType.Money, sell: false, PriceType.Tourism); // [!code ++]
				bool flag2 = thing.trait is TraitDeed || thing.rarity >= Rarity.Artifact || thing.source._origin == "artifact_summon";
				switch (thing.id)
				{
```

[`@@ -2382,7 +2407,6 @@ public static bool Wish(string s, string name, int power, BlessedState state)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L2382-L2388)
```cs:line-numbers=2382
					if (!flag2 && thing.trait.CanStack)
					{
						int num2 = wishValue;
						int price = thing.GetPrice(); // [!code --]
						num2 -= price;
						for (int i = 1; i < 1000; i++)
						{
```

[`@@ -2396,6 +2420,18 @@ public static bool Wish(string s, string name, int power, BlessedState state)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/ActEffect.cs#L2396-L2401)
```cs:line-numbers=2396
					}
					break;
				}
				if (price > 2500 && num > 3) // [!code ++]
				{ // [!code ++]
					num = 3 + (int)Mathf.Sqrt(num - 3); // [!code ++]
				} // [!code ++]
				if (price > 5000 && num > 2) // [!code ++]
				{ // [!code ++]
					num = 2 + (int)Mathf.Sqrt(num - 2) / 2; // [!code ++]
				} // [!code ++]
				if (price > 10000 && num > 1) // [!code ++]
				{ // [!code ++]
					num = 1 + Mathf.Min((int)Mathf.Sqrt(num - 1) / 3, 2); // [!code ++]
				} // [!code ++]
				if (num < 1)
				{
					num = 1;
```

## CINT

[`@@ -104,6 +104,8 @@ public class CINT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/CINT.cs#L104-L109)
```cs:line-numbers=104

	public const int dateCooked = 66;

	public const int daysWithPC = 67; // [!code ++]
 // [!code ++]
	public const int fiamaPet = 100;

	public const int noRestock = 101;
```

## Card

[`@@ -1441,6 +1441,18 @@ public int c_daysWithGod`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/Card.cs#L1441-L1446)
```cs:line-numbers=1441
		}
	}

	public int c_daysWithPC // [!code ++]
	{ // [!code ++]
		get // [!code ++]
		{ // [!code ++]
			return GetInt(67); // [!code ++]
		} // [!code ++]
		set // [!code ++]
		{ // [!code ++]
			SetInt(67, value); // [!code ++]
		} // [!code ++]
	} // [!code ++]
 // [!code ++]
	public string c_idPortrait
	{
		get
```

[`@@ -5360,11 +5372,15 @@ public void MakeRefFrom(Card c1, Card c2 = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/Card.cs#L5360-L5370)
```cs:line-numbers=5360
		c_extraNameRef = (c1.IsPC ? EClass.pc.c_altName : c1.c_extraNameRef);
	}

	public Thing MakeEgg(bool effect = true, int num = 1, bool addToZone = true, int fertChance = 20) // [!code --]
	public Thing MakeEgg(bool effect = true, int num = 1, bool addToZone = true, int fertChance = 20, BlessedState? state = null) // [!code ++]
	{
		Thing thing = ThingGen.Create((EClass.rnd(EClass.debug.enable ? 1 : fertChance) == 0) ? "egg_fertilized" : "_egg").SetNum(num);
		thing.MakeFoodFrom(this);
		thing.c_idMainElement = c_idMainElement;
		if (state.HasValue) // [!code ++]
		{ // [!code ++]
			thing.SetBlessedState(state.Value); // [!code ++]
		} // [!code ++]
		if (!addToZone)
		{
			return thing;
```

[`@@ -5372,10 +5388,14 @@ public Thing MakeEgg(bool effect = true, int num = 1, bool addToZone = true, int`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/Card.cs#L5372-L5381)
```cs:line-numbers=5372
		return GiveBirth(thing, effect);
	}

	public Thing MakeMilk(bool effect = true, int num = 1, bool addToZone = true) // [!code --]
	public Thing MakeMilk(bool effect = true, int num = 1, bool addToZone = true, BlessedState? state = null) // [!code ++]
	{
		Thing thing = ThingGen.Create("milk").SetNum(num);
		thing.MakeRefFrom(this);
		if (state.HasValue) // [!code ++]
		{ // [!code ++]
			thing.SetBlessedState(state.Value); // [!code ++]
		} // [!code ++]
		int num2 = LV - sourceCard.LV;
		if (!IsPCFaction && EClass._zone.IsUserZone)
		{
```

## Chara

[`@@ -703,7 +703,7 @@ public override bool isSynced`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/Chara.cs#L703-L709)
```cs:line-numbers=703

	public override int MaxHP => (int)Mathf.Clamp(((long)(base.END * 2 + base.STR + base.WIL / 2) * (long)Mathf.Min(base.LV, 25) / 25 + base.END + 10) * Evalue(60) / 100 * ((IsPCFaction ? 100 : (100 + (int)base.rarity * 300)) + (IsPC ? (EClass.player.lastEmptyAlly * Evalue(1646)) : 0)) / 100, 1f, 100000000f);

	public override int WeightLimit => (base.STR * 500 + base.END * 250 + Evalue(207) * 2000) * ((!HasElement(1411)) ? 1 : 5) + 45000; // [!code --]
	public override int WeightLimit => Mathf.Max((base.STR * 500 + base.END * 250 + Evalue(207) * 2000) * ((!HasElement(1411)) ? 1 : 5) + 45000, 1000); // [!code ++]

	public override int SelfWeight => bio.weight * 1000;

```

[`@@ -1786,6 +1786,10 @@ public void RefreshSpeed(Element.BonusInfo info = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/Chara.cs#L1786-L1791)
```cs:line-numbers=1786
		num -= 30;
		info?.AddFix(-30, GetCondition<ConGravity>().Name);
	}
	if (_Speed < 10) // [!code ++]
	{ // [!code ++]
		_Speed = 10; // [!code ++]
	} // [!code ++]
	_Speed = _Speed * num / 100;
	if (_Speed < 10)
	{
```

[`@@ -3449,18 +3453,6 @@ public void TickConditions()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/Chara.cs#L3449-L3466)
```cs:line-numbers=3449
			return;
		}
	}
	if (id == "tsunami") // [!code --]
	{ // [!code --]
		if (elements.Base(79) < 30) // [!code --]
		{ // [!code --]
			Die(); // [!code --]
			return; // [!code --]
		} // [!code --]
		if (IsInCombat) // [!code --]
		{ // [!code --]
			elements.SetTo(79, elements.Base(79) * 3 / 4); // [!code --]
		} // [!code --]
	} // [!code --]
	if (EClass.world.weather.IsRaining && !EClass._map.IsIndoor && !pos.cell.HasRoof)
	{
		AddCondition<ConWet>(20);
```

[`@@ -3627,6 +3619,18 @@ public void TickConditions()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/Chara.cs#L3627-L3632)
```cs:line-numbers=3627
			}
		}
	}
	if (id == "tsunami") // [!code ++]
	{ // [!code ++]
		if (elements.Base(79) < 30) // [!code ++]
		{ // [!code ++]
			Die(); // [!code ++]
			return; // [!code ++]
		} // [!code ++]
		if (IsInCombat) // [!code ++]
		{ // [!code ++]
			elements.SetTo(79, elements.Base(79) * 3 / 4); // [!code ++]
		} // [!code ++]
	} // [!code ++]
	if (!preventRegen)
	{
		if (EClass.rnd(25) == 0 && base.hp < MaxHP)
```

[`@@ -9155,6 +9159,43 @@ public void SetFeat(int id, int value = 1, bool msg = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/Chara.cs#L9155-L9160)
```cs:line-numbers=9155
		elements.CheckSkillActions();
	}

	public void SetMutation(int idEle, int a = 0) // [!code ++]
	{ // [!code ++]
		SourceElement.Row row = EClass.sources.elements.map[idEle]; // [!code ++]
		SourceElement.Row row2 = EClass.sources.elements.alias[row.aliasParent]; // [!code ++]
		Element element = elements.GetElement(idEle); // [!code ++]
		Element element2 = elements.GetElement(row2.id); // [!code ++]
		int num = element?.Value ?? 0; // [!code ++]
		if (a < 0) // [!code ++]
		{ // [!code ++]
			a = 0; // [!code ++]
		} // [!code ++]
		if (a > row.max) // [!code ++]
		{ // [!code ++]
			a = row.max; // [!code ++]
		} // [!code ++]
		bool flag = (row.tag.Contains("neg") ? (a > num) : (a < num)); // [!code ++]
		if (a == 0 && (element == null || element.Value == 0)) // [!code ++]
		{ // [!code ++]
			SayNothingHappans(); // [!code ++]
			return; // [!code ++]
		} // [!code ++]
		if (element != null && element.Value == a) // [!code ++]
		{ // [!code ++]
			SayNothingHappans(); // [!code ++]
			return; // [!code ++]
		} // [!code ++]
		if (element2 != null && element2.Value > 0) // [!code ++]
		{ // [!code ++]
			SetFeat(element2.id, 0); // [!code ++]
		} // [!code ++]
		SetFeat(idEle, a); // [!code ++]
		PlaySound("mutation"); // [!code ++]
		PlayEffect("mutation"); // [!code ++]
		Msg.SetColor(flag ? Msg.colors.MutateBad : Msg.colors.MutateGood); // [!code ++]
		Say(row.GetText(flag ? "textDec" : "textInc", returnNull: true) ?? row.alias, this); // [!code ++]
	} // [!code ++]
 // [!code ++]
	public bool MutateRandom(int vec = 0, int tries = 100, bool ether = false, BlessedState state = BlessedState.Normal)
	{
		if (!ether && vec >= 0 && HasElement(406) && EClass.rnd(5) != 0)
```

## DramaCustomSequence

[`@@ -40,41 +40,42 @@ public void Build(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/DramaCustomSequence.cs#L40-L80)
```cs:line-numbers=40
	string rumor = (c.IsPCParty ? GetTalk("sup") : GetRumor(c));
	Layer layer = null;
	bool flag3 = c.IsHumanSpeak || EClass.pc.HasElement(1640);
	bool num = !c.IsUnique || (c.IsPCFaction && c.trait is TraitOlderYoungerSister); // [!code ++]
	if (!flag)
	{
		Step("Resident");
		_Talk("tg", () => rumor);
		if (flag3) // [!code --]
	} // [!code ++]
	if (num && flag3) // [!code ++]
	{ // [!code ++]
		DramaChoice choice = Choice2("letsTalk", StepDefault); // [!code ++]
		choice.SetOnClick(delegate // [!code ++]
		{
			DramaChoice choice = Choice2("letsTalk", StepDefault); // [!code --]
			choice.SetOnClick(delegate // [!code --]
			sequence.firstTalk.funcText = () => rumor; // [!code ++]
			List<Hobby> list2 = c.ListHobbies(); // [!code ++]
			Hobby hobby = ((list2.Count > 0) ? list2[0] : null); // [!code ++]
			if (EClass.rnd(20) == 0 || EClass.debug.showFav) // [!code ++]
			{
				sequence.firstTalk.funcText = () => rumor; // [!code --]
				List<Hobby> list2 = c.ListHobbies(); // [!code --]
				Hobby hobby = ((list2.Count > 0) ? list2[0] : null); // [!code --]
				if (EClass.rnd(20) == 0 || EClass.debug.showFav) // [!code --]
				if (EClass.rnd(2) == 0 || hobby == null) // [!code ++]
				{
					if (EClass.rnd(2) == 0 || hobby == null) // [!code --]
					{ // [!code --]
						GameLang.refDrama1 = c.GetFavCat().GetName().ToLower(); // [!code --]
						GameLang.refDrama2 = c.GetFavFood().GetName(); // [!code --]
						rumor = GetText(c, "general", "talk_fav"); // [!code --]
						c.knowFav = true; // [!code --]
					} // [!code --]
					else // [!code --]
					{ // [!code --]
						GameLang.refDrama1 = hobby.Name.ToLower(); // [!code --]
						rumor = GetText(c, "general", "talk_hobby"); // [!code --]
					} // [!code --]
					GameLang.refDrama1 = c.GetFavCat().GetName().ToLower(); // [!code ++]
					GameLang.refDrama2 = c.GetFavFood().GetName(); // [!code ++]
					rumor = GetText(c, "general", "talk_fav"); // [!code ++]
					c.knowFav = true; // [!code ++]
				}
				else
				{
					rumor = GetRumor(c); // [!code --]
					GameLang.refDrama1 = hobby.Name.ToLower(); // [!code ++]
					rumor = GetText(c, "general", "talk_hobby"); // [!code ++]
				}
				c.affinity.OnTalkRumor(); // [!code --]
				choice.forceHighlight = true; // [!code --]
			}).SetCondition(() => c.interest > 0); // [!code --]
		} // [!code --]
			} // [!code ++]
			else // [!code ++]
			{ // [!code ++]
				rumor = GetRumor(c); // [!code ++]
			} // [!code ++]
			c.affinity.OnTalkRumor(); // [!code ++]
			choice.forceHighlight = true; // [!code ++]
		}).SetCondition(() => c.interest > 0); // [!code ++]
	}
	bool flag4 = false;
	if (!c.IsPCFaction && c.affinity.CanInvite() && !EClass._zone.IsInstance && c.c_bossType == BossType.none)
```

[`@@ -943,11 +944,11 @@ void Invest(bool quick)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/DramaCustomSequence.cs#L943-L953)
```cs:line-numbers=943
	Step("_buyLand");
	Method(delegate
	{
		bool num4 = EClass._map.bounds.CanExpand(1); // [!code --]
		bool num5 = EClass._map.bounds.CanExpand(1); // [!code ++]
		int costLand = CalcGold.ExpandLand();
		GameLang.refDrama1 = "";
		GameLang.refDrama2 = costLand.ToString() ?? "";
		if (!num4) // [!code --]
		if (!num5) // [!code ++]
		{
			TempTalkTopic("expand3", StepDefault);
		}
```

[`@@ -1029,12 +1030,12 @@ void Invest(bool quick)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/DramaCustomSequence.cs#L1029-L1040)
```cs:line-numbers=1029
			{
				onClick = delegate(Element a, ButtonElement b)
				{
					int num3 = (EClass.pc.elements.HasBase(a.id) ? CalcPlat.Train(EClass.pc, a) : CalcPlat.Learn(EClass.pc, a)); // [!code --]
					if (num3 == 0) // [!code --]
					int num4 = (EClass.pc.elements.HasBase(a.id) ? CalcPlat.Train(EClass.pc, a) : CalcPlat.Learn(EClass.pc, a)); // [!code ++]
					if (num4 == 0) // [!code ++]
					{
						SE.Beep();
					}
					else if (EClass.pc.TryPay(num3, "plat")) // [!code --]
					else if (EClass.pc.TryPay(num4, "plat")) // [!code ++]
					{
						if (EClass.pc.elements.HasBase(a.id))
						{
```

[`@@ -1377,9 +1378,9 @@ void Invest(bool quick)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/DramaCustomSequence.cs#L1377-L1385)
```cs:line-numbers=1377
		GameLang.refDrama1 = Lang._currency(EClass.player.extraTax, "money");
		TempTalkTopic("extraTax", null);
		int[] array2 = taxTier;
		foreach (int num2 in array2) // [!code --]
		foreach (int num3 in array2) // [!code ++]
		{
			int _i2 = num2; // [!code --]
			int _i2 = num3; // [!code ++]
			Choice(Lang._currency(_i2, showUnit: true), delegate
			{
				EClass.player.extraTax = _i2;
```

[`@@ -1396,9 +1397,9 @@ void Invest(bool quick)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/DramaCustomSequence.cs#L1396-L1404)
```cs:line-numbers=1396
		GameLang.refDrama1 = bankMoney.ToString() ?? "";
		TempTalkTopic("banker2", null);
		int[] array = bankTier;
		foreach (int num in array) // [!code --]
		foreach (int num2 in array) // [!code ++]
		{
			int _i = num; // [!code --]
			int _i = num2; // [!code ++]
			if (EClass.player.bankMoney >= _i)
			{
				Choice(Lang._currency(_i, showUnit: true), delegate
```

## FACTION

[`@@ -36,7 +36,7 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FACTION.cs#L36-L42)
```cs:line-numbers=36

	public const int fPromo = 2202;

	public const int fSoil = 2200; // [!code --]
	public const int fElec = 2201; // [!code ++]

	public const int fHeirloom = 2120;

```

[`@@ -108,16 +108,16 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FACTION.cs#L108-L123)
```cs:line-numbers=108

	public const int fConstruction = 2003;

	public const int fElec = 2201; // [!code --]
	public const int fSoil = 2200; // [!code ++]

	public static readonly int[] IDS = new int[53]
	{
		3606, 3604, 3700, 2207, 3605, 3701, 3603, 3602, 3601, 3600,
		3500, 4005, 2205, 2204, 2203, 2202, 2200, 2120, 3702, 2119, // [!code --]
		3500, 4005, 2205, 2204, 2203, 2202, 2201, 2120, 3702, 2119, // [!code ++]
		2118, 2117, 2116, 2206, 3703, 3802, 3705, 4006, 4004, 4003,
		2115, 4002, 4001, 4000, 3900, 3805, 3804, 3803, 3801, 3800,
		3784, 3783, 3782, 3781, 3780, 3710, 3709, 3708, 3707, 3706,
		3704, 2003, 2201 // [!code --]
		3704, 2003, 2200 // [!code ++]
	};
}
public class Faction : EClass
```

## FEAT

[`@@ -89,7 +89,7 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FEAT.cs#L89-L95)
```cs:line-numbers=89

	public const int featMilitant = 1419;

	public const int featFisher = 1659; // [!code --]
	public const int featSnail = 1211; // [!code ++]

	public const int featManaCost = 1657;

```

[`@@ -119,12 +119,10 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FEAT.cs#L119-L130)
```cs:line-numbers=119

	public const int featSwordsage = 1418;

	public const int featSnail = 1211; // [!code --]
	public const int featFisher = 1659; // [!code ++]

	public const int featInquisitor = 1416;

	public const int featRoran = 1237; // [!code --]
 // [!code --]
	public const int featElder = 1238;

	public const int featDemon = 1239;
```

[`@@ -137,15 +135,15 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FEAT.cs#L137-L151)
```cs:line-numbers=137

	public const int featGod_wind1 = 1310;

	public const int featGod_healing1 = 1320; // [!code --]
	public const int featGod_machine1 = 1315; // [!code ++]

	public const int featGod_harvest1 = 1325;

	public const int featNorland = 1236; // [!code --]
 // [!code --]
	public const int featGod_luck1 = 1330;

	public const int featGod_oblivion1 = 1340; // [!code --]
	public const int featRoran = 1237; // [!code ++]
 // [!code ++]
	public const int featGod_harmony1 = 1335; // [!code ++]

	public const int featGod_trickery1 = 1345;

```

[`@@ -163,13 +161,15 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FEAT.cs#L163-L175)
```cs:line-numbers=163

	public const int featArcher = 1404;

	public const int featGod_harmony1 = 1335; // [!code --]
 // [!code --]
	public const int featPianist = 1405;

	public const int featGod_oblivion1 = 1340; // [!code ++]
 // [!code ++]
	public const int featNorland = 1236; // [!code ++]
 // [!code ++]
	public const int featLightEater = 1235;

	public const int featCosmicHorror = 1233; // [!code --]
	public const int featHeavyEater = 1234; // [!code ++]

	public const int featWitch = 1417;

```

[`@@ -189,16 +189,16 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FEAT.cs#L189-L204)
```cs:line-numbers=189

	public const int featSplit = 1222;

	public const int featHeavyEater = 1234; // [!code --]
 // [!code --]
	public const int featAcidBody = 1223;

	public const int featLoyal = 1225; // [!code --]
	public const int featShiva = 1224; // [!code ++]

	public const int featManaPrecision = 1214; // [!code --]
	public const int featLoyal = 1225; // [!code ++]

	public const int featUnderground = 1226;

	public const int featManaPrecision = 1214; // [!code ++]
 // [!code ++]
	public const int featServant = 1227;

	public const int featDemigod = 1228;
```

[`@@ -211,13 +211,13 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FEAT.cs#L211-L223)
```cs:line-numbers=211

	public const int featBaby = 1232;

	public const int featShiva = 1224; // [!code --]
	public const int featCosmicHorror = 1233; // [!code ++]

	public const int featTourist = 1406;

	public const int featGod_machine1 = 1315; // [!code --]
	public const int featPaladin = 1407; // [!code ++]

	public const int featPaladin2 = 1408; // [!code --]
	public const int featGod_healing1 = 1320; // [!code ++]

	public const int featBoost = 1409;

```

[`@@ -229,7 +229,7 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FEAT.cs#L229-L235)
```cs:line-numbers=229

	public const int featFoxMaid = 1415;

	public const int featPaladin = 1407; // [!code --]
	public const int featPaladin2 = 1408; // [!code ++]

	public const int featFairysan = 1413;

```

[`@@ -241,14 +241,14 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FEAT.cs#L241-L254)
```cs:line-numbers=241
		1629, 1628, 1627, 1626, 1625, 1624, 1623, 1622, 1621, 1620,
		1612, 1611, 1610, 1422, 1421, 1420, 1642, 1643, 1644, 1645,
		1212, 1200, 1201, 1202, 1203, 1204, 1205, 1206, 1207, 1208,
		1209, 1210, 1419, 1659, 1657, 1656, 1655, 1654, 1653, 1652, // [!code --]
		1651, 1650, 1649, 1648, 1647, 1646, 1658, 1418, 1211, 1416, // [!code --]
		1237, 1238, 1239, 1240, 1300, 1305, 1310, 1320, 1325, 1236, // [!code --]
		1330, 1340, 1345, 1350, 1355, 1400, 1401, 1402, 1403, 1404, // [!code --]
		1335, 1405, 1235, 1233, 1417, 1215, 1216, 1217, 1218, 1219, // [!code --]
		1220, 1221, 1222, 1234, 1223, 1225, 1214, 1226, 1227, 1228, // [!code --]
		1229, 1230, 1231, 1232, 1224, 1406, 1315, 1408, 1409, 1410, // [!code --]
		1411, 1412, 1415, 1407, 1413, 1414 // [!code --]
		1209, 1210, 1419, 1211, 1657, 1656, 1655, 1654, 1653, 1652, // [!code ++]
		1651, 1650, 1649, 1648, 1647, 1646, 1658, 1418, 1659, 1416, // [!code ++]
		1238, 1239, 1240, 1300, 1305, 1310, 1315, 1325, 1330, 1237, // [!code ++]
		1335, 1345, 1350, 1355, 1400, 1401, 1402, 1403, 1404, 1405, // [!code ++]
		1340, 1236, 1235, 1234, 1417, 1215, 1216, 1217, 1218, 1219, // [!code ++]
		1220, 1221, 1222, 1223, 1224, 1225, 1226, 1214, 1227, 1228, // [!code ++]
		1229, 1230, 1231, 1232, 1233, 1406, 1407, 1320, 1409, 1410, // [!code ++]
		1411, 1412, 1415, 1408, 1413, 1414 // [!code ++]
	};
}
public class Feat : Element
```

[`@@ -555,6 +555,12 @@ public List<string> Apply(int a, ElementContainer owner, bool hint = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FEAT.cs#L555-L560)
```cs:line-numbers=555
		ModPotential(120, a * 50);
		ModPotential(123, a * 50);
		break;
	case 1532: // [!code ++]
		ModBase(73, -a * 5, hide: false); // [!code ++]
		break; // [!code ++]
	case 1533: // [!code ++]
		ModBase(73, a * 5, hide: false); // [!code ++]
		break; // [!code ++]
	case 1510:
		ModBase(65, a * 3, hide: false);
		break;
```

## FOOD

[`@@ -2,13 +2,13 @@ public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FOOD.cs#L2-L14)
```cs:line-numbers=2
{
	public const int food_CHA = 700;

	public const int food_cat = 701; // [!code --]
	public const int food_poison = 702; // [!code ++]

	public const int food_love = 703;

	public const int food_bug = 704;

	public const int food_poison = 702; // [!code --]
	public const int food_cat = 701; // [!code ++]

	public const int loseWeight = 706;

```

[`@@ -26,7 +26,7 @@ public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FOOD.cs#L26-L32)
```cs:line-numbers=26

	public static readonly int[] IDS = new int[12]
	{
		700, 701, 703, 704, 702, 706, 707, 708, 709, 757, // [!code --]
		700, 702, 703, 704, 701, 706, 707, 708, 709, 757, // [!code ++]
		705, 758
	};
}
```

## FactionBranch

[`@@ -579,7 +579,12 @@ public void OnAdvanceDay()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FactionBranch.cs#L579-L585)
```cs:line-numbers=579
	int num = 0;
	foreach (Chara member in members)
	{
		if (!member.IsPC && !member.isDead && member.memberType == FactionMemberType.Default) // [!code --]
		if (member.IsPC || member.isDead) // [!code ++]
		{ // [!code ++]
			continue; // [!code ++]
		} // [!code ++]
		member.c_daysWithPC++; // [!code ++]
		if (member.memberType == FactionMemberType.Default) // [!code ++]
		{
			if (EClass.rnd(3) == 0)
			{
```

[`@@ -781,7 +786,18 @@ public void DailyOutcome(VirtualDate date)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/FactionBranch.cs#L781-L787)
```cs:line-numbers=781
			}
			if (i.HaveFur())
			{
				i.c_fur++; // [!code --]
				if (i.HasElement(1533)) // [!code ++]
				{ // [!code ++]
					i.c_fur = 0; // [!code ++]
				} // [!code ++]
				else // [!code ++]
				{ // [!code ++]
					i.c_fur++; // [!code ++]
					if (EClass.rnd(4) == 0 && i.HasElement(1532)) // [!code ++]
					{ // [!code ++]
						i.c_fur++; // [!code ++]
					} // [!code ++]
				} // [!code ++]
			}
			thing.ModNum(-1);
			if (thing.isDestroyed || thing.Num == 0)
```

## MUTATION

[`@@ -1,5 +1,7 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/MUTATION.cs#L1-L5)
```cs:line-numbers=1
public class MUTATION
{
	public const int mutationStr = 1520; // [!code ++]
 // [!code ++]
	public const int mutationSpeedN = 1519;

	public const int mutationSpeed = 1518;
```

[`@@ -8,23 +10,23 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/MUTATION.cs#L8-L30)
```cs:line-numbers=8

	public const int mutationRegen = 1516;

	public const int mutationEye = 1512; // [!code --]
 // [!code --]
	public const int mutationEyeN = 1513;

	public const int mutationEye = 1512; // [!code ++]
 // [!code ++]
	public const int mutationSkinN = 1511;

	public const int mutationSkin = 1510;

	public const int mutationStr = 1520; // [!code --]
 // [!code --]
	public const int mutationDexN = 1515; // [!code --]
 // [!code --]
	public const int mutationStrN = 1521;

	public const int mutationDex = 1514;

	public const int mutationChaN = 1523; // [!code --]
	public const int mutationCha = 1522; // [!code ++]
 // [!code ++]
	public const int mutationDexN = 1515; // [!code ++]
 // [!code ++]
	public const int mutationBrain = 1524; // [!code ++]

	public const int etherPoisonHand = 1565;

```

[`@@ -32,7 +34,7 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/MUTATION.cs#L32-L38)
```cs:line-numbers=32

	public const int etherProvoke = 1563;

	public const int mutationCha = 1522; // [!code --]
	public const int mutationChaN = 1523; // [!code ++]

	public const int etherStupid = 1561;

```

[`@@ -54,8 +56,6 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/MUTATION.cs#L54-L61)
```cs:line-numbers=54

	public const int etherFeet = 1552;

	public const int mutationBrain = 1524; // [!code --]
 // [!code --]
	public const int etherEye = 1553;

	public const int mutationCold = 1526;
```

[`@@ -64,24 +64,28 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/MUTATION.cs#L64-L87)
```cs:line-numbers=64

	public const int mutationLightning = 1528;

	public const int mutationBrainN = 1525; // [!code --]
	public const int mutationLightningN = 1529; // [!code ++]

	public const int mutationBody = 1530;

	public const int mutationBodyN = 1531; // [!code --]
	public const int mutationBrainN = 1525; // [!code ++]
 // [!code ++]
	public const int mutationHair = 1532; // [!code ++]
 // [!code ++]
	public const int mutationHairN = 1533; // [!code ++]

	public const int etherGravity = 1550;

	public const int etherUgly = 1551;

	public const int mutationLightningN = 1529; // [!code --]
	public const int mutationBodyN = 1531; // [!code ++]

	public static readonly int[] IDS = new int[38] // [!code --]
	public static readonly int[] IDS = new int[40] // [!code ++]
	{
		1519, 1518, 1517, 1516, 1512, 1513, 1511, 1510, 1520, 1515, // [!code --]
		1521, 1514, 1523, 1565, 1564, 1563, 1522, 1561, 1560, 1559, // [!code --]
		1558, 1557, 1556, 1555, 1554, 1562, 1552, 1524, 1553, 1526, // [!code --]
		1527, 1528, 1525, 1530, 1531, 1550, 1551, 1529 // [!code --]
		1520, 1519, 1518, 1517, 1516, 1513, 1512, 1511, 1510, 1521, // [!code ++]
		1514, 1522, 1515, 1524, 1565, 1564, 1563, 1523, 1561, 1560, // [!code ++]
		1559, 1558, 1557, 1556, 1555, 1554, 1562, 1552, 1553, 1526, // [!code ++]
		1527, 1528, 1529, 1530, 1525, 1532, 1533, 1550, 1551, 1531 // [!code ++]
	};
}
public class Mutation : Feat
```

## POLICY

[`@@ -3,7 +3,7 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/POLICY.cs#L3-L9)
```cs:line-numbers=3

public class POLICY
{
	public const int license_food = 2818; // [!code --]
	public const int tourist_safety = 2811; // [!code ++]

	public const int bed_quality = 2812;

```

[`@@ -13,15 +13,13 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/POLICY.cs#L13-L27)
```cs:line-numbers=13

	public const int platinum_ticket = 2815;

	public const int tourist_safety = 2811; // [!code --]
 // [!code --]
	public const int store_ripoff = 2816;

	public const int store_premium = 2817;

	public const int license_furniture = 2819; // [!code --]
	public const int license_food = 2818; // [!code ++]

	public const int license_stolen = 2824; // [!code --]
	public const int license_furniture = 2819; // [!code ++]

	public const int legendary_heirloom = 2821;

```

[`@@ -29,6 +27,10 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/POLICY.cs#L29-L34)
```cs:line-numbers=29

	public const int legendary_exhibition = 2823;

	public const int license_stolen = 2824; // [!code ++]
 // [!code ++]
	public const int open_business = 2810; // [!code ++]
 // [!code ++]
	public const int milk_fan = 2825;

	public const int egg_fan = 2826;
```

[`@@ -37,13 +39,11 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/POLICY.cs#L37-L49)
```cs:line-numbers=37

	public const int license_slaver = 2828;

	public const int open_business = 2810; // [!code --]
 // [!code --]
	public const int license_general = 2820;

	public const int home_discount = 2800;

	public const int taxfree = 2514; // [!code --]
	public const int resident_wanted = 2513; // [!code ++]

	public const int forcePanty = 2712;

```

[`@@ -73,7 +73,7 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/POLICY.cs#L73-L79)
```cs:line-numbers=73

	public const int resident_tax = 2512;

	public const int resident_wanted = 2513; // [!code --]
	public const int taxfree = 2514; // [!code ++]

	public const int food_for_people = 2502;

```

[`@@ -107,10 +107,10 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/POLICY.cs#L107-L116)
```cs:line-numbers=107

	public static readonly int[] IDS = new int[51]
	{
		2818, 2812, 2813, 2814, 2815, 2811, 2816, 2817, 2819, 2824, // [!code --]
		2821, 2822, 2823, 2825, 2826, 2827, 2828, 2810, 2820, 2800, // [!code --]
		2514, 2712, 2504, 2505, 2506, 2507, 2508, 2501, 2500, 2715, // [!code --]
		2503, 2509, 2510, 2511, 2512, 2513, 2502, 2516, 2703, 2515, // [!code --]
		2811, 2812, 2813, 2814, 2815, 2816, 2817, 2818, 2819, 2821, // [!code ++]
		2822, 2823, 2824, 2810, 2825, 2826, 2827, 2828, 2820, 2800, // [!code ++]
		2513, 2712, 2504, 2505, 2506, 2507, 2508, 2501, 2500, 2715, // [!code ++]
		2503, 2509, 2510, 2511, 2512, 2514, 2502, 2516, 2703, 2515, // [!code ++]
		2705, 2706, 2704, 2708, 2707, 2710, 2711, 2702, 2701, 2700,
		2709
	};
```

## SKILL

[`@@ -18,7 +18,7 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/SKILL.cs#L18-L24)
```cs:line-numbers=18

	public const int weaponScythe = 110;

	public const int fishing = 245; // [!code --]
	public const int twohand = 130; // [!code ++]

	public const int marksman = 133;

```

[`@@ -58,7 +58,7 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/SKILL.cs#L58-L64)
```cs:line-numbers=58

	public const int eyeofmind = 134;

	public const int twowield = 131; // [!code --]
	public const int fishing = 245; // [!code ++]

	public const int spotting = 210;

```

[`@@ -132,7 +132,7 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/SKILL.cs#L132-L138)
```cs:line-numbers=132

	public const int gathering = 250;

	public const int twohand = 130; // [!code --]
	public const int twowield = 131; // [!code ++]

	public const int blacksmith = 256;

```

[`@@ -268,13 +268,13 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/SKILL.cs#L268-L280)
```cs:line-numbers=268

	public static readonly int[] IDS = new int[133]
	{
		123, 122, 120, 111, 55, 109, 50, 51, 110, 245, // [!code --]
		123, 122, 120, 111, 55, 109, 50, 51, 110, 130, // [!code ++]
		133, 132, 242, 241, 240, 237, 235, 230, 227, 226,
		225, 220, 207, 200, 152, 151, 150, 135, 134, 131, // [!code --]
		225, 220, 207, 200, 152, 151, 150, 135, 134, 245, // [!code ++]
		210, 102, 107, 56, 57, 60, 61, 62, 64, 65,
		66, 67, 68, 70, 71, 72, 73, 74, 75, 76,
		106, 105, 104, 103, 101, 100, 108, 93, 91, 90,
		80, 79, 78, 77, 92, 250, 130, 256, 916, 917, // [!code --]
		80, 79, 78, 77, 92, 250, 131, 256, 916, 917, // [!code ++]
		918, 919, 920, 921, 922, 923, 924, 925, 926, 950,
		951, 952, 915, 953, 956, 957, 958, 959, 960, 961,
		962, 963, 964, 965, 970, 971, 972, 255, 954, 914,
```

## TraitPotionAlchemy

[`@@ -4,7 +4,7 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/TraitPotionAlchemy.cs#L4-L10)
```cs:line-numbers=4

public class TraitPotionAlchemy : TraitPotionRandom
{
	public override int Power => owner.Power; // [!code --]
	public override int Power => owner.Power * (100 + owner.encLV * 100) / 100; // [!code ++]

	public override void OnCrafted(Recipe recipe)
	{
```

[`@@ -20,7 +20,6 @@ public override void OnCrafted(Recipe recipe)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/TraitPotionAlchemy.cs#L20-L26)
```cs:line-numbers=20
		case 750:
		case 753:
			num = ((num2 >= 6) ? 8402 : ((num2 >= 4) ? 8401 : 8400));
			Debug.Log(num.ToString() + num2); // [!code --]
			break;
		case 754:
			num = 8471;
```

[`@@ -50,5 +49,6 @@ public override void OnCrafted(Recipe recipe)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/TraitPotionAlchemy.cs#L50-L54)
```cs:line-numbers=50
			}
		}
		owner.refVal = num;
		owner.SetEncLv(Mathf.Min(EClass.pc.Evalue(257) / 10, EClass.debug.enable ? 1000 : owner.QualityLv)); // [!code ++]
	}
}
```

## TraitWell

[`@@ -109,7 +109,7 @@ public override void TrySetAct(ActPlan p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/TraitWell.cs#L109-L115)
```cs:line-numbers=109
			if (EClass.player.CountKeyItem("well_wish") > 0)
			{
				EClass.player.ModKeyItem("well_wish", -1);
				ActEffect.Proc(EffectId.Wish, EClass.pc, null, 10 + EClass.player.CountKeyItem("well_enhance") * 10); // [!code --]
				ActEffect.Proc(EffectId.Wish, EClass.pc, null, 50 + EClass.player.CountKeyItem("well_enhance") * 50); // [!code ++]
				EClass.player.wellWished = true;
			}
			else
```

## WindowChara

[`@@ -915,6 +915,10 @@ public static void RefreshNote(Chara chara, UINote n, bool shortMode = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/WindowChara.cs#L915-L920)
```cs:line-numbers=915
	{
		AddText("info_criminal".lang());
	}
	if (!chara.IsPC && chara.c_daysWithPC > 0) // [!code ++]
	{ // [!code ++]
		AddText("info_daysWithPC".lang(chara.c_daysWithPC.ToString() ?? "")); // [!code ++]
	} // [!code ++]
	if (EClass.debug.showExtra)
	{
		n.AddText("LV:" + chara.LV + "  exp:" + chara.exp + " next:" + chara.ExpToNext);
```

## Zone

[`@@ -2328,14 +2328,17 @@ public void Generate()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/Zone.cs#L2328-L2341)
```cs:line-numbers=2328
		int num2 = (EClass.debug.enable ? 3 : EClass.rnd(EClass.rnd(EClass.rnd(EClass.rnd(5) + 1) + 1) + 1));
		bool flag = this is Zone_Field;
		Thing seed = null;
		int num3 = Mathf.Min(EClass._zone.DangerLv, EClass.pc.Evalue(286) * 2 / 3); // [!code --]
		if (num3 > 0) // [!code --]
		{ // [!code --]
			seed = TraitSeed.MakeSeed(EClass.sources.objs.map[137]); // [!code --]
			Rand.SetSeed(EClass._zone.uid * 10 + num3); // [!code --]
			TraitSeed.LevelSeed(seed, (seed.trait as TraitSeed).row, num3); // [!code --]
			Rand.SetSeed(); // [!code --]
			seed.elements.SetBase(2, EClass.curve(seed.encLV, 50, 10, 80)); // [!code --]
		if (IsNefia) // [!code ++]
		{ // [!code ++]
			int num3 = Mathf.Min(EClass._zone.DangerLv, EClass.pc.Evalue(286) * 2 / 3); // [!code ++]
			if (num3 > 0) // [!code ++]
			{ // [!code ++]
				seed = TraitSeed.MakeSeed(EClass.sources.objs.map[137]); // [!code ++]
				Rand.SetSeed(EClass._zone.uid * 10 + num3); // [!code ++]
				TraitSeed.LevelSeed(seed, (seed.trait as TraitSeed).row, num3); // [!code ++]
				Rand.SetSeed(); // [!code ++]
				seed.elements.SetBase(2, EClass.curve(seed.encLV, 50, 10, 80)); // [!code ++]
			} // [!code ++]
		}
		crawler.CrawlUntil(EClass._map, () => EClass._map.GetRandomPoint(), num2 + (flag ? 4 : 0), delegate(Crawler.Result r)
		{
```

## Zone_Field

[`@@ -44,7 +44,17 @@ public override bool UseFog`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/6892e44b389c4c1f4a3da6b7a5e85dcf8c65433a/Elin/Zone_Field.cs#L44-L50)
```cs:line-numbers=44

	public override int DangerLvFix => base.Tile.source.dangerLv;

	public override string IdBiome => map.config.idBiome.IsEmpty(base.Tile.source.idBiome.IsEmpty("Plain")); // [!code --]
	public override string IdBiome // [!code ++]
	{ // [!code ++]
		get // [!code ++]
		{ // [!code ++]
			if (map != null) // [!code ++]
			{ // [!code ++]
				return map.config.idBiome.IsEmpty(base.Tile.source.idBiome.IsEmpty("Plain")); // [!code ++]
			} // [!code ++]
			return "Plain"; // [!code ++]
		} // [!code ++]
	} // [!code ++]

	public override float PrespawnRate => 1.2f;

```
