---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 36 files modified. 2 new files created.
version: EA 23.166 Nightly
changes: ABILITY/AI_Fish/AI_Fuck/AI_Idle/AI_Shear/AI_Steal/ActEffect/+BaseSong/Chara/CharaBody/DOMAIN/DramaCustomSequence/ELEMENT/ENC/ElementContainerCard/FACTION/FEAT/FOOD/FactionBranch/Game/GameLang/GoalCombat/MUTATION/Map/POLICY/Player/RecipeCard/RegionPoint/SKILL/+StanceSongSleep/TaskClean/TaskPlow/Thing/TraitChara/TraitFoodEggFertilized/WidgetSearch/Zone_Field/Zone_User
---

# EA 23.166 Nightly

July 3, 2025

36 files modified. 2 new files created.

## Important Changes

**None.**
## ABILITY

[`@@ -2,15 +2,11 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ABILITY.cs#L2-L16)
```cs:line-numbers=2

public class ABILITY
{
	public const int AI_Drink = 5045; // [!code --]
 // [!code --]
	public const int ActKick = 5042; // [!code --]
 // [!code --]
	public const int AI_TendAnimal = 5043; // [!code --]
	public const int ActInstall = 5046; // [!code ++]

	public const int ActChat = 5044;

	public const int ActInstall = 5046; // [!code --]
	public const int AI_Drink = 5045; // [!code ++]

	public const int ActPick = 5047;

```

[`@@ -32,13 +28,13 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ABILITY.cs#L32-L44)
```cs:line-numbers=32

	public const int AI_PlayMusic = 6001;

	public const int AI_Read = 5041; // [!code --]
 // [!code --]
	public const int AI_Meditate = 6003;

	public const int ActQuickCraft = 6012; // [!code --]
	public const int AI_Steal = 6011; // [!code ++]

	public const int AI_PassTime = 6013; // [!code --]
	public const int AI_TendAnimal = 5043; // [!code ++]
 // [!code ++]
	public const int ActQuickCraft = 6012; // [!code ++]

	public const int AI_SelfHarm = 6015;

```

[`@@ -56,7 +52,7 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ABILITY.cs#L56-L62)
```cs:line-numbers=56

	public const int ActDuplicate = 6420;

	public const int ActCrabBreathe = 6500; // [!code --]
	public const int ActRush = 6450; // [!code ++]

	public const int ActCurse = 6600;

```

[`@@ -64,17 +60,17 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ABILITY.cs#L64-L80)
```cs:line-numbers=64

	public const int ActDraw = 6602;

	public const int AI_Steal = 6011; // [!code --]
 // [!code --]
	public const int ActNTR = 6603;

	public const int ActRanged = 5040; // [!code --]
	public const int ActCryRage = 6604; // [!code ++]

	public const int ActThrow = 5038; // [!code --]
	public const int AI_PassTime = 6013; // [!code ++]

	public const int General = 5008; // [!code --]
	public const int ActWeaken = 6610; // [!code ++]

	public const int TaskMine = 5009; // [!code --]
	public const int ActKick = 5042; // [!code ++]
 // [!code ++]
	public const int ActRanged = 5040; // [!code ++]

	public const int TaskDig = 5010;

```

[`@@ -100,13 +96,13 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ABILITY.cs#L100-L112)
```cs:line-numbers=100

	public const int TaskTrain = 5021;

	public const int AI_Fish = 5039; // [!code --]
 // [!code --]
	public const int TaskSleepOnBed = 5022;

	public const int AI_Eat = 5024; // [!code --]
	public const int TaskGoOut = 5023; // [!code ++]

	public const int AI_Grab = 5025; // [!code --]
	public const int AI_Read = 5041; // [!code ++]
 // [!code ++]
	public const int AI_Eat = 5024; // [!code ++]

	public const int AI_Haul = 5026;

```

[`@@ -132,15 +128,17 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ABILITY.cs#L132-L146)
```cs:line-numbers=132

	public const int ActNoItem = 5037;

	public const int TaskGoOut = 5023; // [!code --]
	public const int ActThrow = 5038; // [!code ++]

	public const int ActCryRage = 6604; // [!code --]
	public const int AI_Fish = 5039; // [!code ++]

	public const int ActRush = 6450; // [!code --]
	public const int AI_Grab = 5025; // [!code ++]

	public const int ActFear = 6611;

	public const int breathe_Cold = 50201; // [!code --]
	public const int ActCrabBreathe = 6500; // [!code ++]
 // [!code ++]
	public const int ActTouchDrown = 6613; // [!code ++]

	public const int breathe_Lightning = 50202;

```

[`@@ -158,14 +156,14 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ABILITY.cs#L158-L171)
```cs:line-numbers=158

	public const int breathe_Holy = 50209;

	public const int ActWeaken = 6610; // [!code --]
 // [!code --]
	public const int breathe_Magic = 50211; // [!code --]
	public const int breathe_Chaos = 50210; // [!code ++]

	public const int breathe_Fire = 50200; // [!code --]
	public const int ActTouchSleep = 6612; // [!code ++]

	public const int breathe_Ether = 50212;

	public const int breathe_Acid = 50213; // [!code ++]
 // [!code ++]
	public const int breathe_Cut = 50214;

	public const int breathe_Impact = 50215;
```

[`@@ -188,29 +186,33 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ABILITY.cs#L188-L216)
```cs:line-numbers=188

	public const int Use = 5007;

	public const int breathe_Acid = 50213; // [!code --]
	public const int General = 5008; // [!code ++]

	public const int breathe_ = 7000; // [!code --]
	public const int TaskMine = 5009; // [!code ++]

	public const int breathe_Chaos = 50210; // [!code --]
	public const int breathe_Cold = 50201; // [!code ++]

	public const int ActKizuamiTrick = 6903; // [!code --]
	public const int breathe_Fire = 50200; // [!code ++]
 // [!code ++]
	public const int breathe_Magic = 50211; // [!code ++]
 // [!code ++]
	public const int ActHeadpat = 6904; // [!code ++]

	public const int ActGazeMutation = 6622;

	public const int ActGazeMana = 6623;

	public const int ActTouchDrown = 6613; // [!code --]
	public const int ActDrainBlood = 6626; // [!code ++]

	public const int ActTouchSleep = 6612; // [!code --]
	public const int ActCatHuffing = 6627; // [!code ++]

	public const int ActHeadpat = 6904; // [!code --]
	public const int ActInsult = 6630; // [!code ++]

	public const int ActDrainBlood = 6626; // [!code --]
	public const int ActScream = 6631; // [!code ++]

	public const int ActGazeDim = 6620; // [!code --]
	public const int breathe_ = 7000; // [!code ++]

	public const int ActScream = 6631; // [!code --]
	public const int ActGazeInsane = 6621; // [!code ++]

	public const int ActSteal = 6640;

```

[`@@ -218,9 +220,13 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ABILITY.cs#L218-L226)
```cs:line-numbers=218

	public const int ActStealMoney = 6642;

	public const int ActInsult = 6630; // [!code --]
	public const int ActNeckHunt = 6650; // [!code ++]

	public const int ActDropMine = 6660; // [!code --]
	public const int ActGazeDim = 6620; // [!code ++]
 // [!code ++]
	public const int ActThrowPotion = 6661; // [!code ++]
 // [!code ++]
	public const int ActKizuamiTrick = 6903; // [!code ++]

	public const int ActLulwyTrick = 6902;

```

[`@@ -228,37 +234,35 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ABILITY.cs#L228-L264)
```cs:line-numbers=228

	public const int ActManaAbsorb = 6900;

	public const int StManaCost = 6720; // [!code --]
	public const int SongSleep = 6750; // [!code ++]

	public const int ActNeckHunt = 6650; // [!code --]
 // [!code --]
	public const int ActGazeInsane = 6621; // [!code --]
	public const int ActDropMine = 6660; // [!code ++]

	public const int StTaunt = 6700; // [!code --]
	public const int StManaCost = 6720; // [!code ++]

	public const int ActBladeStorm = 6664; // [!code --]
	public const int ActSwarm = 6662; // [!code ++]

	public const int ActMultiHit = 6663;

	public const int ActSwarm = 6662; // [!code --]
	public const int ActBladeStorm = 6664; // [!code ++]

	public const int ActThrowPotion = 6661; // [!code --]
	public const int StTaunt = 6700; // [!code ++]

	public static readonly int[] IDS = new int[121] // [!code --]
	public static readonly int[] IDS = new int[123] // [!code ++]
	{
		5045, 5042, 5043, 5044, 5046, 5047, 5048, 5049, 5050, 5051, // [!code --]
		5052, 5053, 5054, 5055, 6001, 5041, 6003, 6012, 6013, 6015, // [!code --]
		6018, 6019, 6020, 6050, 6400, 6410, 6420, 6500, 6600, 6601, // [!code --]
		6602, 6011, 6603, 5040, 5038, 5008, 5009, 5010, 5011, 5012, // [!code --]
		5013, 5014, 5015, 5016, 5017, 5018, 5019, 5020, 5021, 5039, // [!code --]
		5022, 5024, 5025, 5026, 5027, 5028, 5029, 5030, 5031, 5032, // [!code --]
		5033, 5034, 5035, 5036, 5037, 5023, 6604, 6450, 6611, 50201, // [!code --]
		50202, 50203, 50204, 50205, 50206, 50207, 50208, 50209, 6610, 50211, // [!code --]
		50200, 50212, 50214, 50215, 50216, 5000, 5001, 5002, 5003, 5004, // [!code --]
		5005, 5006, 5007, 50213, 7000, 50210, 6903, 6622, 6623, 6613, // [!code --]
		6612, 6904, 6626, 6620, 6631, 6640, 6641, 6642, 6630, 6660, // [!code --]
		6902, 6901, 6900, 6720, 6650, 6621, 6700, 6664, 6663, 6662, // [!code --]
		6661 // [!code --]
		5046, 5044, 5045, 5047, 5048, 5049, 5050, 5051, 5052, 5053, // [!code ++]
		5054, 5055, 6001, 6003, 6011, 5043, 6012, 6015, 6018, 6019, // [!code ++]
		6020, 6050, 6400, 6410, 6420, 6450, 6600, 6601, 6602, 6603, // [!code ++]
		6604, 6013, 6610, 5042, 5040, 5010, 5011, 5012, 5013, 5014, // [!code ++]
		5015, 5016, 5017, 5018, 5019, 5020, 5021, 5022, 5023, 5041, // [!code ++]
		5024, 5026, 5027, 5028, 5029, 5030, 5031, 5032, 5033, 5034, // [!code ++]
		5035, 5036, 5037, 5038, 5039, 5025, 6611, 6500, 6613, 50202, // [!code ++]
		50203, 50204, 50205, 50206, 50207, 50208, 50209, 50210, 6612, 50212, // [!code ++]
		50213, 50214, 50215, 50216, 5000, 5001, 5002, 5003, 5004, 5005, // [!code ++]
		5006, 5007, 5008, 5009, 50201, 50200, 50211, 6904, 6622, 6623, // [!code ++]
		6626, 6627, 6630, 6631, 7000, 6621, 6640, 6641, 6642, 6650, // [!code ++]
		6620, 6661, 6903, 6902, 6901, 6900, 6750, 6660, 6720, 6662, // [!code ++]
		6663, 6664, 6700 // [!code ++]
	};
}
public class Ability : Act
```

## AI_Fish

[`@@ -374,7 +374,7 @@ public static Thing Makefish(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/AI_Fish.cs#L374-L380)
```cs:line-numbers=374
		int num5 = 5;
		if (EClass.Branch != null)
		{
			num5 += EClass.Branch.Evalue(3604) * 20 + EClass.Branch.Evalue(3605) * 20 + EClass.Branch.Evalue(3706) * 25; // [!code --]
			num5 += EClass.Branch.Evalue(3604) * 20 + EClass.Branch.Evalue(3605) * 20 + EClass.Branch.Evalue(3606) * 20 + EClass.Branch.Evalue(3706) * 25; // [!code ++]
		}
		if (EClass._zone is Zone_Kapul)
		{
```

## AI_Fuck

[`@@ -279,6 +279,10 @@ public void Finish()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/AI_Fuck.cs#L279-L284)
```cs:line-numbers=279
		SuccubusExp(chara, chara2);
		SuccubusExp(chara2, chara);
		chara2.ModAffinity(chara, flag ? 10 : (-5));
		if (chara == EClass.pc || chara2 == EClass.pc) // [!code ++]
		{ // [!code ++]
			EClass.player.stats.kimo++; // [!code ++]
		} // [!code ++]
		if (!ntr || !chara.HasElement(1239) || chara2.HasElement(1216))
		{
			break;
```

[`@@ -303,6 +307,10 @@ public void Finish()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/AI_Fuck.cs#L303-L308)
```cs:line-numbers=303
		target.PlaySound("groomed");
		target.PlayEffect("heal_tick");
		target.hygiene.Mod(15);
		if (chara == EClass.pc) // [!code ++]
		{ // [!code ++]
			EClass.player.stats.brush++; // [!code ++]
		} // [!code ++]
		if (target == owner)
		{
			break;
```

## AI_Idle

[`@@ -381,6 +381,10 @@ public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/AI_Idle.cs#L381-L386)
```cs:line-numbers=381
			}
			if (owner != null)
			{
				if (!owner.IsPCFactionOrMinion) // [!code ++]
				{ // [!code ++]
					EClass.pc.ai.Cancel(); // [!code ++]
				} // [!code ++]
				owner.Teleport(nearestPoint);
			}
			yield return Success();
```

## AI_Shear

[`@@ -74,6 +74,7 @@ public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/AI_Shear.cs#L74-L79)
```cs:line-numbers=74
				owner.elements.ModExp(237, 50 * furLv);
				owner.stamina.Mod(-1);
				target.Chara.ModAffinity(owner, 1);
				EClass.player.stats.shear++; // [!code ++]
			}
		}
	}.SetDuration((6 + furLv * 6) * 100 / (100 + owner.Tool.material.hardness * 2), 3);
```

## AI_Steal

[`@@ -64,6 +64,10 @@ public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/AI_Steal.cs#L64-L69)
```cs:line-numbers=64
			if (EClass.rnd(2) == 0)
			{
				target = chara.AddThing(ThingGen.Create("money").SetNum(1 + EClass.rnd(chara.LV * 10)));
				if (EClass.rnd(3) == 0) // [!code ++]
				{ // [!code ++]
					chara.SetInt(30, EClass.world.date.GetRaw() + 1440); // [!code ++]
				} // [!code ++]
			}
			else
			{
```

## ActEffect

[`@@ -167,7 +167,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ActEffect.cs#L167-L173)
```cs:line-numbers=167
						flag4 = true;
					}
				}
				else if (e.id != 910 || !item.IsFood || !item.category.IsChildOf("foodstuff")) // [!code --]
				else if ((e.id != 910 && e.id != 911) || !item.IsFood || !item.category.IsChildOf("foodstuff")) // [!code ++]
				{
					flag4 = true;
				}
```

## +BaseSong

::: details File Created
```cs
public class BaseSong : BaseStance
{
}
```

:::
## Chara

[`@@ -687,11 +687,11 @@ public override bool isSynced`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Chara.cs#L687-L697)
```cs:line-numbers=687
{
	get
	{
		if (!renderer.isSynced) // [!code --]
		if (renderer == null || !renderer.isSynced) // [!code ++]
		{
			if (host != null)
			{
				return host.renderer.isSynced; // [!code --]
				return host.isSynced; // [!code ++]
			}
			return false;
		}
```

[`@@ -1688,7 +1688,7 @@ public void RefreshSpeed(Element.BonusInfo info = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Chara.cs#L1688-L1694)
```cs:line-numbers=1688
	{
		_Speed = Evalue(79) + Evalue(407) / 2;
	}
	if (body.GetSlot(37, onlyEmpty: false)?.thing != null && HasElement(1209)) // [!code --]
	if (body.GetSlot(37, onlyEmpty: false)?.thing != null && HasElement(1209) && !HasElement(419)) // [!code ++]
	{
		_Speed -= 25;
		info?.AddText(-25, EClass.sources.elements.map[1209].GetName());
```

[`@@ -4421,6 +4421,12 @@ public void RestockEquip(bool onCreate)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Chara.cs#L4421-L4426)
```cs:line-numbers=4421
		EQ_CAT("torso");
		EQ_CAT("arm");
		return;
	case "adv_yukiimo": // [!code ++]
		if (onCreate) // [!code ++]
		{ // [!code ++]
			EQ_ID("tail_snowleopard"); // [!code ++]
		} // [!code ++]
		break; // [!code ++]
	case "adv_kiria":
		if (onCreate)
		{
```

[`@@ -5223,6 +5229,7 @@ public void TryDropBossLoot()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Chara.cs#L5223-L5228)
```cs:line-numbers=5223
		}
		if (EClass._zone.IsNefia)
		{
			EClass.player.stats.nefiaBeaten++; // [!code ++]
			EClass._zone.GetTopZone().isConquered = true;
			EClass.Sound.StopBGM(2f);
			SE.Play("Jingle/fanfare2");
```

## CharaBody

[`@@ -96,7 +96,7 @@ public void Unequip(BodySlot slot, bool refresh = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/CharaBody.cs#L96-L102)
```cs:line-numbers=96
	if (refresh && owner.isCreated && EClass.core.IsGameStarted)
	{
		owner.Refresh();
		if (slot.elementId == 37 && owner.HasElement(1209)) // [!code --]
		if (slot.elementId == 37 && owner.HasElement(1209) && !thing.HasElement(419)) // [!code ++]
		{
			owner.Say("tail_free", owner);
		}
```

[`@@ -251,7 +251,7 @@ public bool Equip(Thing thing, BodySlot slot = null, bool msg = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/CharaBody.cs#L251-L257)
```cs:line-numbers=251
			owner.PlaySound("curse3");
		}
	}
	if (slot.elementId == 37 && owner.HasElement(1209)) // [!code --]
	if (slot.elementId == 37 && owner.HasElement(1209) && !thing.HasElement(419)) // [!code ++]
	{
		owner.Say("tail_covered", owner);
	}
```

## DOMAIN

[`@@ -2,42 +2,42 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/DOMAIN.cs#L2-L43)
```cs:line-numbers=2

public class DOMAIN
{
	public const int domHealing = 811; // [!code --]
 // [!code --]
	public const int domEarth = 812;

	public const int domOblivion = 813; // [!code --]
 // [!code --]
	public const int domEyth = 814; // [!code --]
	public const int domSurvival = 801; // [!code ++]

	public const int domElement = 806; // [!code --]
	public const int domWind = 807; // [!code ++]

	public const int domComm = 805; // [!code --]
	public const int domFaith = 802; // [!code ++]

	public const int domArcane = 804; // [!code --]
	public const int domHarvest = 808; // [!code ++]

	public const int domMiracle = 803;

	public const int domMachine = 809; // [!code --]
	public const int domArcane = 804; // [!code ++]

	public const int domLuck = 810;

	public const int domHarmony = 815;

	public const int domWind = 807; // [!code --]
	public const int domEyth = 814; // [!code ++]

	public const int domHarvest = 808; // [!code --]
	public const int domOblivion = 813; // [!code ++]

	public const int domTest = 800; // [!code --]
	public const int domHealing = 811; // [!code ++]

	public const int domFaith = 802; // [!code --]
	public const int domMachine = 809; // [!code ++]

	public const int domSurvival = 801; // [!code --]
	public const int domComm = 805; // [!code ++]
 // [!code ++]
	public const int domElement = 806; // [!code ++]
 // [!code ++]
	public const int domTest = 800; // [!code ++]

	public static readonly int[] IDS = new int[16]
	{
		811, 812, 813, 814, 806, 805, 804, 803, 809, 810, // [!code --]
		815, 807, 808, 800, 802, 801 // [!code --]
		812, 801, 807, 802, 808, 803, 804, 810, 815, 814, // [!code ++]
		813, 811, 809, 805, 806, 800 // [!code ++]
	};
}
public class Domain : EClass
```

## DramaCustomSequence

[`@@ -728,7 +728,7 @@ public void Build(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/DramaCustomSequence.cs#L728-L734)
```cs:line-numbers=728
	});
	Method(delegate
	{
		if (c.trait is TraitMerchantBlack && Guild.Thief.relation.rank < 4 && (Guild.Thief.IsCurrentZone || (!(EClass._zone.id == "derphy") && !(EClass._zone.id == "kapul")))) // [!code --]
		if (c.trait is TraitMerchantBlack && Guild.Thief.relation.rank < 4 && (Guild.Thief.IsCurrentZone || (!(EClass._zone.id == "derphy") && !(EClass._zone.id == "kapul") && !EClass._zone.IsPCFaction))) // [!code ++]
		{
			SE.Play("click_chat");
			TempTalkTopic("shop_blackmarket_noaccess", StepEnd);
```

## ELEMENT

[`@@ -9,12 +9,12 @@ public class ELEMENT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ELEMENT.cs#L9-L20)
```cs:line-numbers=9

	public const int rare = 751;

	public const int cute = 752; // [!code --]
 // [!code --]
	public const int antidote = 753;

	public const int nerve = 754;

	public const int blood = 755; // [!code ++]
 // [!code ++]
	public const int hotspring = 756;

	public const int purity = 759;
```

[`@@ -27,7 +27,7 @@ public class ELEMENT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ELEMENT.cs#L27-L33)
```cs:line-numbers=27

	public const int air = 763;

	public const int blood = 755; // [!code --]
	public const int cute = 752; // [!code ++]

	public const int _void = 0;

```

[`@@ -77,8 +77,8 @@ public class ELEMENT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ELEMENT.cs#L77-L84)
```cs:line-numbers=77

	public static readonly int[] IDS = new int[35]
	{
		750, 751, 752, 753, 754, 756, 759, 760, 761, 762, // [!code --]
		763, 755, 0, 3, 1, 2, 5, 10, 11, 12, // [!code --]
		750, 751, 753, 754, 755, 756, 759, 760, 761, 762, // [!code ++]
		763, 752, 0, 3, 1, 2, 5, 10, 11, 12, // [!code ++]
		13, 14, 16, 17, 18, 15, 21, 22, 23, 24,
		25, 26, 29, 85, 20
	};
```

## ENC

[`@@ -8,19 +8,17 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ENC.cs#L8-L26)
```cs:line-numbers=8

	public const int r_DV = 650;

	public const int r_mana = 641; // [!code --]
 // [!code --]
	public const int mod_frustration = 624;

	public const int mod_flurry = 621; // [!code --]
 // [!code --]
	public const int mod_cleave = 622;

	public const int mod_feint = 623;

	public const int r_life = 640; // [!code ++]
 // [!code ++]
	public const int noDamage = 654;

	public const int r_life = 640; // [!code --]
	public const int r_mana = 641; // [!code ++]

	public const int onlyPet = 655;

```

[`@@ -42,7 +40,7 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ENC.cs#L42-L48)
```cs:line-numbers=42

	public const int convertFire = 850;

	public const int mod_chaser = 620; // [!code --]
	public const int mod_flurry = 621; // [!code ++]

	public const int convertImpact = 865;

```

[`@@ -50,13 +48,11 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ENC.cs#L50-L62)
```cs:line-numbers=50

	public const int permaCurse = 656;

	public const int mod_talisman = 609; // [!code --]
 // [!code --]
	public const int negateBlind = 421; // [!code --]
	public const int mod_chaser = 620; // [!code ++]

	public const int mod_scatter = 607; // [!code --]
	public const int negateParalysis = 422; // [!code ++]

	public const int negateShockwave = 430; // [!code --]
	public const int mod_splash = 608; // [!code ++]

	public const int breathing = 429;

```

[`@@ -72,17 +68,19 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ENC.cs#L72-L88)
```cs:line-numbers=72

	public const int negateFear = 423;

	public const int negateParalysis = 422; // [!code --]
	public const int negateBlind = 421; // [!code ++]

	public const int negatePoison = 420;

	public const int encTail = 419; // [!code ++]
 // [!code ++]
	public const int innocence = 418;

	public const int loving = 417;

	public const int seeInvisible = 416;

	public const int sustain_STR = 440; // [!code --]
	public const int negateShockwave = 430; // [!code ++]

	public const int invisibility = 415;

```

[`@@ -94,9 +92,9 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ENC.cs#L94-L102)
```cs:line-numbers=94

	public const int corruption = 409;

	public const int mod_splash = 608; // [!code --]
	public const int resWeather = 408; // [!code ++]

	public const int travelSpeed = 407; // [!code --]
	public const int mod_talisman = 609; // [!code ++]

	public const int resMutation = 406;

```

[`@@ -114,78 +112,82 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ENC.cs#L114-L191)
```cs:line-numbers=114

	public const int encHit = 414;

	public const int sustain_END = 441; // [!code --]
 // [!code --]
	public const int resWeather = 408; // [!code --]
	public const int sustain_STR = 440; // [!code ++]

	public const int mod_ammo = 600; // [!code --]
	public const int travelSpeed = 407; // [!code ++]

	public const int mod_drill = 606; // [!code --]
	public const int sustain_DEX = 442; // [!code ++]

	public const int mod_precision = 605; // [!code --]
	public const int revealFaith = 481; // [!code ++]

	public const int mod_ammo_recover = 604; // [!code --]
	public const int force_weapon = 482; // [!code ++]

	public const int mod_ammo_knockback = 603; // [!code --]
	public const int optimizeMana = 483; // [!code ++]

	public const int mod_rapid = 602; // [!code --]
	public const int slot_rune = 484; // [!code ++]

	public const int mod_reload = 601; // [!code --]
	public const int nonLethal = 485; // [!code ++]

	public const int safetyMeasure = 486;

	public const int nonLethal = 485; // [!code --]
	public const int strongStomach = 480; // [!code ++]

	public const int slot_rune = 484; // [!code --]
	public const int mod_ammo = 600; // [!code ++]

	public const int optimizeMana = 483; // [!code --]
	public const int mod_ammo_knockback = 603; // [!code ++]

	public const int force_weapon = 482; // [!code --]
	public const int mod_ammo_recover = 604; // [!code ++]

	public const int revealFaith = 481; // [!code --]
	public const int mod_precision = 605; // [!code ++]

	public const int bane_all = 468; // [!code --]
	public const int mod_drill = 606; // [!code ++]

	public const int bane_fish = 467; // [!code --]
	public const int mod_scatter = 607; // [!code ++]

	public const int bane_god = 466; // [!code --]
	public const int sustain_END = 441; // [!code ++]

	public const int strongStomach = 480; // [!code --]
	public const int mod_reload = 601; // [!code ++]

	public const int bane_man = 464; // [!code --]
	public const int bane_all = 468; // [!code ++]

	public const int sustain_PER = 443; // [!code --]
	public const int mod_rapid = 602; // [!code ++]
 // [!code ++]
	public const int bane_god = 466; // [!code ++]
 // [!code ++]
	public const int bane_fish = 467; // [!code ++]

	public const int sustain_LER = 444;

	public const int sustain_WIL = 445;

	public const int bane_machine = 465; // [!code --]
	public const int sustain_MAG = 446; // [!code ++]
 // [!code ++]
	public const int bane_dragon = 460; // [!code ++]

	public const int sustain_CHA = 447;

	public const int sustain_MAG = 446; // [!code --]
	public const int bane_fairy = 462; // [!code ++]
 // [!code ++]
	public const int bane_machine = 465; // [!code ++]

	public const int bane_undead = 461;

	public const int bane_fairy = 462; // [!code --]
	public const int bane_man = 464; // [!code ++]

	public const int bane_animal = 463;

	public const int bane_dragon = 460; // [!code --]
 // [!code --]
	public const int sustain_DEX = 442; // [!code --]
	public const int sustain_PER = 443; // [!code ++]

	public static readonly int[] IDS = new int[88] // [!code --]
	public static readonly int[] IDS = new int[89] // [!code ++]
	{
		653, 652, 651, 650, 641, 624, 621, 622, 623, 654, // [!code --]
		640, 655, 851, 660, 661, 662, 663, 664, 665, 666, // [!code --]
		850, 620, 865, 852, 656, 609, 421, 607, 430, 429, // [!code --]
		428, 427, 426, 425, 424, 423, 422, 420, 418, 417, // [!code --]
		416, 440, 415, 412, 411, 410, 409, 608, 407, 406, // [!code --]
		405, 404, 403, 402, 401, 400, 414, 441, 408, 600, // [!code --]
		606, 605, 604, 603, 602, 601, 486, 485, 484, 483, // [!code --]
		482, 481, 468, 467, 466, 480, 464, 443, 444, 445, // [!code --]
		465, 447, 446, 461, 462, 463, 460, 442 // [!code --]
		653, 652, 651, 650, 624, 622, 623, 640, 654, 641, // [!code ++]
		655, 851, 660, 661, 662, 663, 664, 665, 666, 850, // [!code ++]
		621, 865, 852, 656, 620, 422, 608, 429, 428, 427, // [!code ++]
		426, 425, 424, 423, 421, 420, 419, 418, 417, 416, // [!code ++]
		430, 415, 412, 411, 410, 409, 408, 609, 406, 405, // [!code ++]
		404, 403, 402, 401, 400, 414, 440, 407, 442, 481, // [!code ++]
		482, 483, 484, 485, 486, 480, 600, 603, 604, 605, // [!code ++]
		606, 607, 441, 601, 468, 602, 466, 467, 444, 445, // [!code ++]
		446, 460, 447, 462, 465, 461, 464, 463, 443 // [!code ++]
	};
}
```

## ElementContainerCard

[`@@ -181,7 +181,7 @@ public override int ValueBonus(Element e)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/ElementContainerCard.cs#L181-L187)
```cs:line-numbers=181
		if (owner.IsPCParty)
		{
			int id = e.id;
			if (id == 70 || (uint)(id - 72) <= 1u) // [!code --]
			if ((id == 70 || (uint)(id - 72) <= 1u) && EClass.game.activeZone != null) // [!code ++]
			{
				int num2 = 0;
				foreach (Chara member in EClass.pc.party.members)
```

## FACTION

[`@@ -4,29 +4,31 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FACTION.cs#L4-L32)
```cs:line-numbers=4

public class FACTION
{
	public const int bfUndersea = 3606; // [!code --]
	public const int bfCave = 3500; // [!code ++]

	public const int bfBeach = 3604; // [!code --]
	public const int bfUndersea = 3606; // [!code ++]

	public const int bfFertile = 3700;

	public const int fRation = 2207; // [!code --]
	public const int bfBeach = 3604; // [!code ++]

	public const int bfSea = 3605; // [!code --]
	public const int bfHill = 3603; // [!code ++]

	public const int bfGeyser = 3701;

	public const int bfHill = 3603; // [!code --]
 // [!code --]
	public const int bfSnow = 3602;

	public const int bfForest = 3601;

	public const int bfPlain = 3600;

	public const int bfCave = 3500; // [!code --]
	public const int bfRuin = 3702; // [!code ++]

	public const int actBuildRecipe = 4005; // [!code --]
	public const int bfSea = 3605; // [!code ++]
 // [!code ++]
	public const int fPromo = 2202; // [!code ++]
 // [!code ++]
	public const int fAttraction = 2206; // [!code ++]

	public const int fSafety = 2205;

```

[`@@ -34,38 +36,38 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FACTION.cs#L34-L71)
```cs:line-numbers=34

	public const int fMoral = 2203;

	public const int fPromo = 2202; // [!code --]
 // [!code --]
	public const int fElec = 2201; // [!code --]
	public const int fSoil = 2200; // [!code ++]

	public const int fHeirloom = 2120;

	public const int bfRuin = 3702; // [!code --]
 // [!code --]
	public const int fTaxEvasion = 2119;

	public const int fLuck = 2118; // [!code --]
	public const int fEducation = 2116; // [!code ++]
 // [!code ++]
	public const int bfTranquil = 3703; // [!code ++]

	public const int fLoyal = 2117;

	public const int fEducation = 2116; // [!code --]
	public const int fLuck = 2118; // [!code ++]

	public const int fAttraction = 2206; // [!code --]
	public const int fRation = 2207; // [!code ++]

	public const int bfTranquil = 3703; // [!code --]
	public const int bfVolcano = 3704; // [!code ++]

	public const int bfSilica = 3802; // [!code --]
	public const int bfGum = 3803; // [!code ++]

	public const int bfHunt = 3705; // [!code --]
	public const int bfFish = 3706; // [!code ++]

	public const int actBuildInspect = 4006;

	public const int actBuildRecipe = 4005; // [!code ++]
 // [!code ++]
	public const int fAdmin = 2115; // [!code ++]
 // [!code ++]
	public const int actBuildCollect = 4004;

	public const int actBuildAnywhere = 4003;

	public const int fAdmin = 2115; // [!code --]
 // [!code --]
	public const int actBuildTerrain = 4002;

	public const int actBuildMine = 4001;
```

[`@@ -78,7 +80,7 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FACTION.cs#L78-L84)
```cs:line-numbers=78

	public const int bfIce = 3804;

	public const int bfGum = 3803; // [!code --]
	public const int bfSilica = 3802; // [!code ++]

	public const int bfMushroom = 3801;

```

[`@@ -102,22 +104,20 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FACTION.cs#L102-L123)
```cs:line-numbers=102

	public const int bfMonster = 3707;

	public const int bfFish = 3706; // [!code --]
 // [!code --]
	public const int bfVolcano = 3704; // [!code --]
	public const int bfHunt = 3705; // [!code ++]

	public const int fConstruction = 2003;

	public const int fSoil = 2200; // [!code --]
	public const int fElec = 2201; // [!code ++]

	public static readonly int[] IDS = new int[53]
	{
		3606, 3604, 3700, 2207, 3605, 3701, 3603, 3602, 3601, 3600, // [!code --]
		3500, 4005, 2205, 2204, 2203, 2202, 2201, 2120, 3702, 2119, // [!code --]
		2118, 2117, 2116, 2206, 3703, 3802, 3705, 4006, 4004, 4003, // [!code --]
		2115, 4002, 4001, 4000, 3900, 3805, 3804, 3803, 3801, 3800, // [!code --]
		3784, 3783, 3782, 3781, 3780, 3710, 3709, 3708, 3707, 3706, // [!code --]
		3704, 2003, 2200 // [!code --]
		3500, 3606, 3700, 3604, 3603, 3701, 3602, 3601, 3600, 3702, // [!code ++]
		3605, 2202, 2206, 2205, 2204, 2203, 2200, 2120, 2119, 2116, // [!code ++]
		3703, 2117, 2118, 2207, 3704, 3803, 3706, 4006, 4005, 2115, // [!code ++]
		4004, 4003, 4002, 4001, 4000, 3900, 3805, 3804, 3802, 3801, // [!code ++]
		3800, 3784, 3783, 3782, 3781, 3780, 3710, 3709, 3708, 3707, // [!code ++]
		3705, 2003, 2201 // [!code ++]
	};
}
public class Faction : EClass
```

## FEAT

[`@@ -3,7 +3,11 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FEAT.cs#L3-L9)
```cs:line-numbers=3

public class FEAT
{
	public const int featElea = 1213; // [!code --]
	public const int featDwarf = 1215; // [!code ++]
 // [!code ++]
	public const int featSorter = 1643; // [!code ++]
 // [!code ++]
	public const int featSleeper = 1642; // [!code ++]

	public const int featResCurse = 1641;

```

[`@@ -51,19 +55,15 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FEAT.cs#L51-L69)
```cs:line-numbers=51

	public const int featHealer = 1422;

	public const int featManaMeat = 1421; // [!code --]
 // [!code --]
	public const int featExecutioner = 1420; // [!code --]
 // [!code --]
	public const int featSleeper = 1642; // [!code --]
 // [!code --]
	public const int featSorter = 1643; // [!code --]
 // [!code --]
	public const int featBodyParts = 1644;

	public const int featParty = 1645;

	public const int featFairyResist = 1212; // [!code --]
	public const int featLonelySoul = 1646; // [!code ++]
 // [!code ++]
	public const int featSummoner = 1647; // [!code ++]
 // [!code ++]
	public const int featManaPrecision = 1214; // [!code ++]

	public const int featSlowFood = 1200;

```

[`@@ -87,10 +87,14 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FEAT.cs#L87-L96)
```cs:line-numbers=87

	public const int featUndead = 1210;

	public const int featMilitant = 1419; // [!code --]
	public const int featManaMeat = 1421; // [!code ++]

	public const int featSnail = 1211;

	public const int featFisher = 1659; // [!code ++]
 // [!code ++]
	public const int featChef = 1658; // [!code ++]
 // [!code ++]
	public const int featManaCost = 1657;

	public const int featScavenger = 1656;
```

[`@@ -111,22 +115,14 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FEAT.cs#L111-L132)
```cs:line-numbers=111

	public const int featRapidMagic = 1648;

	public const int featSummoner = 1647; // [!code --]
	public const int featElea = 1213; // [!code ++]

	public const int featLonelySoul = 1646; // [!code --]
	public const int featExecutioner = 1420; // [!code ++]

	public const int featChef = 1658; // [!code --]
	public const int featFairyResist = 1212; // [!code ++]

	public const int featSwordsage = 1418;

	public const int featFisher = 1659; // [!code --]
 // [!code --]
	public const int featInquisitor = 1416; // [!code --]
 // [!code --]
	public const int featElder = 1238; // [!code --]
 // [!code --]
	public const int featDemon = 1239; // [!code --]
 // [!code --]
	public const int featMassSummoner = 1240;

	public const int featGod_element1 = 1300;
```

[`@@ -137,18 +133,18 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FEAT.cs#L137-L154)
```cs:line-numbers=137

	public const int featGod_machine1 = 1315;

	public const int featGod_healing1 = 1320; // [!code ++]
 // [!code ++]
	public const int featGod_harvest1 = 1325;

	public const int featGod_luck1 = 1330;

	public const int featRoran = 1237; // [!code --]
	public const int featGod_oblivion1 = 1340; // [!code ++]

	public const int featGod_harmony1 = 1335; // [!code --]
	public const int featDemon = 1239; // [!code ++]

	public const int featGod_trickery1 = 1345;

	public const int featGod_moonshadow1 = 1350; // [!code --]
 // [!code --]
	public const int featGod_strife1 = 1355;

	public const int featWarrior = 1400;
```

[`@@ -163,19 +159,19 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FEAT.cs#L163-L181)
```cs:line-numbers=163

	public const int featPianist = 1405;

	public const int featGod_oblivion1 = 1340; // [!code --]
	public const int featTourist = 1406; // [!code ++]

	public const int featNorland = 1236; // [!code --]
	public const int featPaladin = 1407; // [!code ++]

	public const int featLightEater = 1235; // [!code --]
	public const int featGod_moonshadow1 = 1350; // [!code ++]

	public const int featHeavyEater = 1234; // [!code --]
	public const int featElder = 1238; // [!code ++]

	public const int featWitch = 1417; // [!code --]
	public const int featRoran = 1237; // [!code ++]

	public const int featDwarf = 1215; // [!code --]
	public const int featNorland = 1236; // [!code ++]

	public const int featSuccubus = 1216; // [!code --]
	public const int featMilitant = 1419; // [!code ++]

	public const int featGolem = 1217;

```

[`@@ -197,12 +193,12 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FEAT.cs#L197-L208)
```cs:line-numbers=197

	public const int featUnderground = 1226;

	public const int featManaPrecision = 1214; // [!code --]
 // [!code --]
	public const int featServant = 1227;

	public const int featDemigod = 1228;

	public const int featSuccubus = 1216; // [!code ++]
 // [!code ++]
	public const int featLittleOne = 1229;

	public const int featAdam = 1230;
```

[`@@ -213,42 +209,46 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FEAT.cs#L213-L254)
```cs:line-numbers=213

	public const int featCosmicHorror = 1233;

	public const int featTourist = 1406; // [!code --]
	public const int featHeavyEater = 1234; // [!code ++]

	public const int featPaladin = 1407; // [!code --]
	public const int featLightEater = 1235; // [!code ++]

	public const int featGod_healing1 = 1320; // [!code --]
	public const int featPaladin2 = 1408; // [!code ++]

	public const int featBoost = 1409;

	public const int featReboot = 1410; // [!code --]
	public const int featGod_harmony1 = 1335; // [!code ++]

	public const int featEarthStrength = 1411;

	public const int featLuckyCat = 1412;

	public const int featFairysan = 1413; // [!code ++]
 // [!code ++]
	public const int featWhiteVixen = 1414; // [!code ++]
 // [!code ++]
	public const int featFoxMaid = 1415;

	public const int featPaladin2 = 1408; // [!code --]
	public const int featInquisitor = 1416; // [!code ++]

	public const int featFairysan = 1413; // [!code --]
	public const int featWitch = 1417; // [!code ++]

	public const int featWhiteVixen = 1414; // [!code --]
	public const int featReboot = 1410; // [!code ++]

	public static readonly int[] IDS = new int[116]
	{
		1213, 1641, 1640, 1636, 1635, 1634, 1633, 1632, 1631, 1630, // [!code --]
		1629, 1628, 1627, 1626, 1625, 1624, 1623, 1622, 1621, 1620, // [!code --]
		1612, 1611, 1610, 1422, 1421, 1420, 1642, 1643, 1644, 1645, // [!code --]
		1212, 1200, 1201, 1202, 1203, 1204, 1205, 1206, 1207, 1208, // [!code --]
		1209, 1210, 1419, 1211, 1657, 1656, 1655, 1654, 1653, 1652, // [!code --]
		1651, 1650, 1649, 1648, 1647, 1646, 1658, 1418, 1659, 1416, // [!code --]
		1238, 1239, 1240, 1300, 1305, 1310, 1315, 1325, 1330, 1237, // [!code --]
		1335, 1345, 1350, 1355, 1400, 1401, 1402, 1403, 1404, 1405, // [!code --]
		1340, 1236, 1235, 1234, 1417, 1215, 1216, 1217, 1218, 1219, // [!code --]
		1220, 1221, 1222, 1223, 1224, 1225, 1226, 1214, 1227, 1228, // [!code --]
		1229, 1230, 1231, 1232, 1233, 1406, 1407, 1320, 1409, 1410, // [!code --]
		1411, 1412, 1415, 1408, 1413, 1414 // [!code --]
		1215, 1643, 1642, 1641, 1640, 1636, 1635, 1634, 1633, 1632, // [!code ++]
		1631, 1630, 1629, 1628, 1627, 1626, 1625, 1624, 1623, 1622, // [!code ++]
		1621, 1620, 1612, 1611, 1610, 1422, 1644, 1645, 1646, 1647, // [!code ++]
		1214, 1200, 1201, 1202, 1203, 1204, 1205, 1206, 1207, 1208, // [!code ++]
		1209, 1210, 1421, 1211, 1659, 1658, 1657, 1656, 1655, 1654, // [!code ++]
		1653, 1652, 1651, 1650, 1649, 1648, 1213, 1420, 1212, 1418, // [!code ++]
		1240, 1300, 1305, 1310, 1315, 1320, 1325, 1330, 1340, 1239, // [!code ++]
		1345, 1355, 1400, 1401, 1402, 1403, 1404, 1405, 1406, 1407, // [!code ++]
		1350, 1238, 1237, 1236, 1419, 1217, 1218, 1219, 1220, 1221, // [!code ++]
		1222, 1223, 1224, 1225, 1226, 1227, 1228, 1216, 1229, 1230, // [!code ++]
		1231, 1232, 1233, 1234, 1235, 1408, 1409, 1335, 1411, 1412, // [!code ++]
		1413, 1414, 1415, 1416, 1417, 1410 // [!code ++]
	};
}
public class Feat : Element
```

## FOOD

[`@@ -2,15 +2,15 @@ public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FOOD.cs#L2-L16)
```cs:line-numbers=2
{
	public const int food_CHA = 700;

	public const int food_poison = 702; // [!code --]
	public const int food_cat = 701; // [!code ++]

	public const int food_love = 703;

	public const int food_bug = 704;

	public const int food_cat = 701; // [!code --]
	public const int gainWeight = 705; // [!code ++]

	public const int loseWeight = 706; // [!code --]
	public const int food_poison = 702; // [!code ++]

	public const int kirimi = 707;

```

[`@@ -18,15 +18,15 @@ public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FOOD.cs#L18-L32)
```cs:line-numbers=18

	public const int food_undead = 709;

	public const int justcooked = 757; // [!code --]
	public const int food_god = 758; // [!code ++]

	public const int gainWeight = 705; // [!code --]
	public const int loseWeight = 706; // [!code ++]

	public const int food_god = 758; // [!code --]
	public const int justcooked = 757; // [!code ++]

	public static readonly int[] IDS = new int[12]
	{
		700, 702, 703, 704, 701, 706, 707, 708, 709, 757, // [!code --]
		705, 758 // [!code --]
		700, 701, 703, 704, 705, 702, 707, 708, 709, 758, // [!code ++]
		706, 757 // [!code ++]
	};
}
```

## FactionBranch

[`@@ -1247,6 +1247,7 @@ public void OnUnclaimZone()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/FactionBranch.cs#L1247-L1252)
```cs:line-numbers=1247
		}
		owner.landFeats = null;
		owner.ListLandFeats();
		owner.branch = null; // [!code ++]
	}

	public void ValidateUpgradePolicies()
```

## Game

[`@@ -450,6 +450,10 @@ public void OnLoad()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Game.cs#L450-L455)
```cs:line-numbers=450
		}
	});
	TryAddQuest("into_darkness", "exile_kettle");
	if (version.IsBelow(0, 23, 155)) // [!code ++]
	{ // [!code ++]
		AddAdventurer("adv_yukiimo"); // [!code ++]
	} // [!code ++]
	if (version.IsBelow(0, 23, 100))
	{
		int num = player.recipes.knownRecipes.TryGetValue("trainingDummy_heavy", 0);
```

[`@@ -892,7 +896,7 @@ public void StartNewGame()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Game.cs#L892-L898)
```cs:line-numbers=892
public void AddAdventurers()
{
	List<Zone> source = world.region.ListTowns();
	string[] array = new string[6] { "adv_kiria", "adv_gaki", "adv_wini", "adv_verna", "adv_ivory", "adv_mesherada" }; // [!code --]
	string[] array = new string[7] { "adv_kiria", "adv_gaki", "adv_wini", "adv_verna", "adv_ivory", "adv_mesherada", "adv_yukiimo" }; // [!code ++]
	for (int i = 0; i < EClass.setting.balance.numAdv; i++)
	{
		Zone zone = source.RandomItem();
```

[`@@ -916,6 +920,27 @@ public void AddAdventurers()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Game.cs#L916-L921)
```cs:line-numbers=916
		}
	}

	public void AddAdventurer(string id, Zone z = null) // [!code ++]
	{ // [!code ++]
		if (z == null) // [!code ++]
		{ // [!code ++]
			List<Zone> source = world.region.ListTowns(); // [!code ++]
			do // [!code ++]
			{ // [!code ++]
				z = source.RandomItem(); // [!code ++]
			} // [!code ++]
			while ((z is Zone_SubTown && EClass.rnd(5) != 0) || z == EClass.pc.currentZone); // [!code ++]
		} // [!code ++]
		Chara chara = CharaGen.Create(id); // [!code ++]
		chara.SetHomeZone(z); // [!code ++]
		chara.global.transition = new ZoneTransition // [!code ++]
		{ // [!code ++]
			state = ZoneTransition.EnterState.RandomVisit // [!code ++]
		}; // [!code ++]
		z.AddCard(chara); // [!code ++]
		cards.listAdv.Add(chara); // [!code ++]
	} // [!code ++]
 // [!code ++]
	public void GotoTitle(bool showDialog = true)
	{
		if (showDialog)
```

## GameLang

[`@@ -97,6 +97,7 @@ public static string ConvertDrama(string text, Chara c = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/GameLang.cs#L97-L102)
```cs:line-numbers=97
	stringBuilder.Replace("#festival", EClass._zone.IsFestival ? (EClass._zone.id + "_festival").lang() : "_festival".lang());
	stringBuilder.Replace("#brother2", (EClass.pc.IsMale ? "brother" : "sister").lang());
	stringBuilder.Replace("#brother", Lang.GetList(EClass.pc.IsMale ? "bro" : "sis").RandomItem());
	stringBuilder.Replace("#onii2", Lang.GetList(EClass.pc.IsMale ? "onii2" : "onee2").RandomItem()); // [!code ++]
	stringBuilder.Replace("#onii", Lang.GetList(EClass.pc.IsMale ? "onii" : "onee").RandomItem());
	stringBuilder.Replace("#gender", Lang.GetList("gendersDrama")[EClass.pc.bio.gender]);
	stringBuilder.Replace("#he", ((EClass.pc.bio.gender == 2) ? "he" : "she").lang());
```

## GoalCombat

[`@@ -583,10 +583,10 @@ public virtual bool TryUseAbility(int dist, bool beforeMove = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/GoalCombat.cs#L583-L592)
```cs:line-numbers=583
			{
				foreach (Chara member2 in EClass.pc.party.members)
				{
					float num3 = 100f - (float)(member2.mana.value * 100) / MathF.Max(1f, member2.mana.max); // [!code --]
					if (num3 > (float)num) // [!code --]
					float num2 = 100f - (float)(member2.mana.value * 100) / MathF.Max(1f, member2.mana.max); // [!code ++]
					if (num2 > (float)num) // [!code ++]
					{
						num = (int)num3; // [!code --]
						num = (int)num2; // [!code ++]
					}
				}
			}
```

[`@@ -618,9 +618,16 @@ public virtual bool TryUseAbility(int dist, bool beforeMove = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/GoalCombat.cs#L618-L626)
```cs:line-numbers=618
			break;
		case "taunt":
		{
			bool flag8 = owner.HasCondition<StanceTaunt>(); // [!code --]
			bool flag9 = tactics.source.taunt != -1 && 100 * owner.hp / owner.MaxHP >= tactics.source.taunt; // [!code --]
			num = ((flag8 && !flag9) ? 100 : ((!flag8 && flag9) ? 100 : 0)); // [!code --]
			bool flag6 = owner.HasCondition<StanceTaunt>(); // [!code ++]
			bool flag7 = tactics.source.taunt != -1 && 100 * owner.hp / owner.MaxHP >= tactics.source.taunt; // [!code ++]
			num = ((flag6 && !flag7) ? 100 : ((!flag6 && flag7) ? 100 : 0)); // [!code ++]
			break; // [!code ++]
		} // [!code ++]
		case "song": // [!code ++]
		{ // [!code ++]
			bool flag9 = owner.HasCondition<BaseSong>(); // [!code ++]
			bool flag10 = owner.mana.value > owner.mana.max / 3; // [!code ++]
			num = ((flag9 && !flag10) ? 100 : ((!flag9 && flag10) ? 100 : 0)); // [!code ++]
			break;
		}
		case "melee":
```

[`@@ -704,13 +711,13 @@ public virtual bool TryUseAbility(int dist, bool beforeMove = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/GoalCombat.cs#L704-L716)
```cs:line-numbers=704
			{
				continue;
			}
			bool flag7 = text == "dot"; // [!code --]
			if (flag7 && (owner.isRestrained || (tc != null && tc.IsRestrainedResident))) // [!code --]
			bool flag8 = text == "dot"; // [!code ++]
			if (flag8 && (owner.isRestrained || (tc != null && tc.IsRestrainedResident))) // [!code ++]
			{
				continue;
			}
			num = ((text == "attackMelee") ? tactics.P_Melee : tactics.P_Spell) + GetAttackMod(act);
			if (num > 0 && flag7) // [!code --]
			if (num > 0 && flag8) // [!code ++]
			{
				num += 10;
			}
```

[`@@ -726,13 +733,13 @@ public virtual bool TryUseAbility(int dist, bool beforeMove = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/GoalCombat.cs#L726-L738)
```cs:line-numbers=726
			{
				continue;
			}
			bool flag6 = ability.act is ActBolt; // [!code --]
			bool flag11 = ability.act is ActBolt; // [!code ++]
			if (!flag || (owner.IsPCParty && (EClass._zone.IsTown || EClass._zone.IsPCFaction)) || (act.id == 9150 && EClass._zone.IsPCFaction && owner.IsNeutralOrAbove()))
			{
				continue;
			}
			GetNumEnemy(flag6 ? 6 : 5); // [!code --]
			if (numEnemy == 0 || (owner.IsPCFactionOrMinion && GetNumNeutral(flag6 ? 6 : 5) > 0)) // [!code --]
			GetNumEnemy(flag11 ? 6 : 5); // [!code ++]
			if (numEnemy == 0 || (owner.IsPCFactionOrMinion && GetNumNeutral(flag11 ? 6 : 5) > 0)) // [!code ++]
			{
				continue;
			}
```

[`@@ -808,12 +815,12 @@ public virtual bool TryUseAbility(int dist, bool beforeMove = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/GoalCombat.cs#L808-L819)
```cs:line-numbers=808
			{
				continue;
			}
			int num2 = EClass._zone.CountMinions(owner); // [!code --]
			if (num2 >= owner.MaxSummon) // [!code --]
			int num3 = EClass._zone.CountMinions(owner); // [!code ++]
			if (num3 >= owner.MaxSummon) // [!code ++]
			{
				continue;
			}
			num = tactics.P_Summon - 20 * num2 / owner.MaxSummon; // [!code --]
			num = tactics.P_Summon - 20 * num3 / owner.MaxSummon; // [!code ++]
			break;
		}
		case "summonAlly":
```

[`@@ -906,36 +913,36 @@ int HealFactor(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/GoalCombat.cs#L906-L941)
```cs:line-numbers=906
			{
				return 0;
			}
			float num6 = (float)c.hp / (float)c.MaxHP; // [!code --]
			if (num6 > (isHOT ? 0.85f : 0.75f)) // [!code --]
			float num9 = (float)c.hp / (float)c.MaxHP; // [!code ++]
			if (num9 > (isHOT ? 0.85f : 0.75f)) // [!code ++]
			{
				return 0;
			}
			int num7 = tactics.P_Heal - (int)((float)tactics.P_Heal * num6) + (isHOT ? 50 : 25); // [!code --]
			int num10 = tactics.P_Heal - (int)((float)tactics.P_Heal * num9) + (isHOT ? 50 : 25); // [!code ++]
			foreach (Condition condition in c.conditions)
			{
				if (condition is ConFear)
				{
					num7 += 10; // [!code --]
					num10 += 10; // [!code ++]
				}
				else if (condition is ConPoison)
				{
					num7 += 2; // [!code --]
					num10 += 2; // [!code ++]
				}
				else if (condition is ConConfuse)
				{
					num7 += 4; // [!code --]
					num10 += 4; // [!code ++]
				}
				else if (condition is ConDim)
				{
					num7 += 6; // [!code --]
					num10 += 6; // [!code ++]
				}
				else if (condition is ConBleed)
				{
					num7 += 8; // [!code --]
					num10 += 8; // [!code ++]
				}
			}
			return num7; // [!code --]
			return num10; // [!code ++]
		}
	}
	abilities.Sort((ItemAbility a, ItemAbility b) => b.priority - a.priority);
```

[`@@ -1021,8 +1028,8 @@ void BuildCharaList()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/GoalCombat.cs#L1021-L1028)
```cs:line-numbers=1021
		{
			if (chara2 != owner)
			{
				int num10 = owner.Dist(chara2); // [!code --]
				if (num10 > sightRadius || !owner.CanSeeLos(chara2, num10)) // [!code --]
				int num6 = owner.Dist(chara2); // [!code ++]
				if (num6 > sightRadius || !owner.CanSeeLos(chara2, num6)) // [!code ++]
				{
					continue;
				}
```

[`@@ -1038,11 +1045,11 @@ int ForeachChara(ItemAbility a, Func<Chara, int> func, bool isFriendlyAbility)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/GoalCombat.cs#L1038-L1048)
```cs:line-numbers=1038
			return func(owner);
		}
		BuildCharaList();
		int num4 = 0; // [!code --]
		int num7 = 0; // [!code ++]
		foreach (Chara chara3 in charas)
		{
			int num5 = func(chara3); // [!code --]
			if (num5 > 0) // [!code --]
			int num8 = func(chara3); // [!code ++]
			if (num8 > 0) // [!code ++]
			{
				if (isFriendlyAbility)
				{
```

[`@@ -1059,21 +1066,21 @@ int ForeachChara(ItemAbility a, Func<Chara, int> func, bool isFriendlyAbility)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/GoalCombat.cs#L1059-L1079)
```cs:line-numbers=1059
					}
					if (chara3 != owner)
					{
						num5 += tactics.P_Party; // [!code --]
						num8 += tactics.P_Party; // [!code ++]
					}
				}
				else if (!owner.IsHostile(chara3))
				{
					continue;
				}
				if (num5 >= num4) // [!code --]
				if (num8 >= num7) // [!code ++]
				{
					a.tg = chara3;
					num4 = num5; // [!code --]
					num7 = num8; // [!code ++]
				}
			}
		}
		return num4; // [!code --]
		return num7; // [!code ++]
	}
	int GetAttackMod(Act a)
	{
```

[`@@ -1081,30 +1088,30 @@ int GetAttackMod(Act a)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/GoalCombat.cs#L1081-L1110)
```cs:line-numbers=1081
		{
			return 0;
		}
		int num8 = ((a.source.aliasRef == "mold") ? owner.MainElement.id : EClass.sources.elements.alias[a.source.aliasRef].id); // [!code --]
		int num9 = -15 * tc.ResistLvFrom(num8); // [!code --]
		switch (num8) // [!code --]
		int num4 = ((a.source.aliasRef == "mold") ? owner.MainElement.id : EClass.sources.elements.alias[a.source.aliasRef].id); // [!code ++]
		int num5 = -15 * tc.ResistLvFrom(num4); // [!code ++]
		switch (num4) // [!code ++]
		{
		case 910:
			if (tc.isWet)
			{
				num9 -= 30; // [!code --]
				num5 -= 30; // [!code ++]
			}
			break;
		case 911:
			if (tc.HasCondition<ConBurning>())
			{
				num9 -= 30; // [!code --]
				num5 -= 30; // [!code ++]
			}
			break;
		case 912:
			if (tc.isWet)
			{
				num9 += 30; // [!code --]
				num5 += 30; // [!code ++]
			}
			break;
		}
		return num9; // [!code --]
		return num5; // [!code ++]
	}
	void GetNumEnemy(int radius)
	{
```

## MUTATION

[`@@ -1,15 +1,17 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/MUTATION.cs#L1-L15)
```cs:line-numbers=1
public class MUTATION
{
	public const int mutationStrN = 1521; // [!code ++]
 // [!code ++]
	public const int mutationStr = 1520;

	public const int mutationSpeedN = 1519;

	public const int mutationSpeed = 1518;

	public const int mutationRegenN = 1517; // [!code --]
 // [!code --]
	public const int mutationRegen = 1516;

	public const int mutationDexN = 1515; // [!code ++]
 // [!code ++]
	public const int mutationEyeN = 1513;

	public const int mutationEye = 1512;
```

[`@@ -18,15 +20,15 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/MUTATION.cs#L18-L32)
```cs:line-numbers=18

	public const int mutationSkin = 1510;

	public const int mutationStrN = 1521; // [!code --]
	public const int mutationCha = 1522; // [!code ++]

	public const int mutationDex = 1514;

	public const int mutationCha = 1522; // [!code --]
	public const int mutationChaN = 1523; // [!code ++]

	public const int mutationDexN = 1515; // [!code --]
	public const int mutationRegenN = 1517; // [!code ++]

	public const int mutationBrain = 1524; // [!code --]
	public const int mutationBrainN = 1525; // [!code ++]

	public const int etherPoisonHand = 1565;

```

[`@@ -34,7 +36,7 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/MUTATION.cs#L34-L40)
```cs:line-numbers=34

	public const int etherProvoke = 1563;

	public const int mutationChaN = 1523; // [!code --]
	public const int mutationBrain = 1524; // [!code ++]

	public const int etherStupid = 1561;

```

[`@@ -58,8 +60,6 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/MUTATION.cs#L58-L65)
```cs:line-numbers=58

	public const int etherEye = 1553;

	public const int mutationCold = 1526; // [!code --]
 // [!code --]
	public const int mutationColdN = 1527;

	public const int mutationLightning = 1528;
```

[`@@ -68,7 +68,7 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/MUTATION.cs#L68-L74)
```cs:line-numbers=68

	public const int mutationBody = 1530;

	public const int mutationBrainN = 1525; // [!code --]
	public const int mutationCold = 1526; // [!code ++]

	public const int mutationHair = 1532;

```

[`@@ -82,10 +82,10 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/MUTATION.cs#L82-L91)
```cs:line-numbers=82

	public static readonly int[] IDS = new int[40]
	{
		1520, 1519, 1518, 1517, 1516, 1513, 1512, 1511, 1510, 1521, // [!code --]
		1514, 1522, 1515, 1524, 1565, 1564, 1563, 1523, 1561, 1560, // [!code --]
		1559, 1558, 1557, 1556, 1555, 1554, 1562, 1552, 1553, 1526, // [!code --]
		1527, 1528, 1529, 1530, 1525, 1532, 1533, 1550, 1551, 1531 // [!code --]
		1521, 1520, 1519, 1518, 1516, 1515, 1513, 1512, 1511, 1510, // [!code ++]
		1522, 1514, 1523, 1517, 1525, 1565, 1564, 1563, 1524, 1561, // [!code ++]
		1560, 1559, 1558, 1557, 1556, 1555, 1554, 1562, 1552, 1553, // [!code ++]
		1527, 1528, 1529, 1530, 1526, 1532, 1533, 1550, 1551, 1531 // [!code ++]
	};
}
public class Mutation : Feat
```

## Map

[`@@ -1196,7 +1196,7 @@ public void TryShatter(Point pos, int ele, int power)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Map.cs#L1196-L1202)
```cs:line-numbers=1196
	Element element = Element.Create(ele);
	List<Card> list = new List<Card>();
	bool fire = ele == 910;
	bool flag = ele == 911; // [!code --]
	bool cold = ele == 911; // [!code ++]
	_ = fire;
	List<Card> list2 = pos.ListCards();
	if (fire && (pos.cell.IsSnowTile || pos.cell.IsTopWater))
```

[`@@ -1205,7 +1205,7 @@ public void TryShatter(Point pos, int ele, int power)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Map.cs#L1205-L1211)
```cs:line-numbers=1205
	}
	foreach (Card item in list2)
	{
		if (item.ResistLvFrom(ele) >= 3 || item.trait is TraitBlanket || (EClass.rnd(3) == 0 && !CanCook(item)) || (item.IsPCFaction && EClass.rnd(3) == 0) || (fire && item.HasCondition<ConWet>()) || (flag && item.HasCondition<ConBurning>())) // [!code --]
		if (item.ResistLvFrom(ele) >= 3 || item.trait is TraitBlanket || (EClass.rnd(3) == 0 && !CanCook(item)) || (item.IsPCFaction && EClass.rnd(3) == 0) || (fire && item.HasCondition<ConWet>()) || (cold && item.HasCondition<ConBurning>())) // [!code ++]
		{
			continue;
		}
```

[`@@ -1292,39 +1292,46 @@ public void TryShatter(Point pos, int ele, int power)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Map.cs#L1292-L1330)
```cs:line-numbers=1292
		{
			continue;
		}
		bool flag2 = CanCook(item3); // [!code --]
		bool flag = CanCook(item3); // [!code ++]
		string text = "";
		if (flag2) // [!code --]
		if (flag) // [!code ++]
		{
			List<SourceThing.Row> list3 = new List<SourceThing.Row>(); // [!code --]
			foreach (RecipeSource item4 in RecipeManager.list) // [!code --]
			if (fire) // [!code ++]
			{
				if (!(item4.row is SourceThing.Row { isOrigin: false } row) || row.components.IsEmpty() || (row.components.Length >= 3 && !row.components[2].StartsWith('+')) || !row.Category.IsChildOf("meal")) // [!code --]
				{ // [!code --]
					continue; // [!code --]
				} // [!code --]
				if (!row.factory.IsEmpty()) // [!code --]
				List<SourceThing.Row> list3 = new List<SourceThing.Row>(); // [!code ++]
				foreach (RecipeSource item4 in RecipeManager.list) // [!code ++]
				{
					switch (row.factory[0]) // [!code --]
					if (!(item4.row is SourceThing.Row { isOrigin: false } row) || row.components.IsEmpty() || (row.components.Length >= 3 && !row.components[2].StartsWith('+')) || !row.Category.IsChildOf("meal")) // [!code ++]
					{
					case "chopper": // [!code --]
					case "mixer": // [!code --]
					case "camppot": // [!code --]
					case "cauldron": // [!code --]
						continue;
					}
					if (!row.factory.IsEmpty()) // [!code ++]
					{ // [!code ++]
						switch (row.factory[0]) // [!code ++]
						{ // [!code ++]
						case "chopper": // [!code ++]
						case "mixer": // [!code ++]
						case "camppot": // [!code ++]
						case "cauldron": // [!code ++]
							continue; // [!code ++]
						} // [!code ++]
					} // [!code ++]
					if (row.components[0].Split('|').Contains(item3.id) || row.components[0].Split('|').Contains(item3.sourceCard._origin)) // [!code ++]
					{ // [!code ++]
						list3.Add(row); // [!code ++]
					} // [!code ++]
				}
				if (row.components[0].Split('|').Contains(item3.id) || row.components[0].Split('|').Contains(item3.sourceCard._origin)) // [!code --]
				if (list3.Count > 0) // [!code ++]
				{
					list3.Add(row); // [!code --]
					text = list3.RandomItem().id; // [!code ++]
				}
			}
			if (list3.Count > 0) // [!code --]
			else // [!code ++]
			{
				text = list3.RandomItem().id; // [!code --]
				text = "711"; // [!code ++]
			}
		}
		if (flag2 && !text.IsEmpty()) // [!code --]
		if (flag && !text.IsEmpty()) // [!code ++]
		{
			item3.GetRoot();
			Thing thing2 = item3.Split(1);
```

[`@@ -1335,7 +1342,7 @@ public void TryShatter(Point pos, int ele, int power)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Map.cs#L1335-L1341)
```cs:line-numbers=1335
			thing3.elements.ModBase(2, EClass.curve(power / 10, 50, 10));
			if (pos.IsSync)
			{
				Msg.Say((rootCard3 == item3) ? "cook_groundItem" : "cook_invItem", thing2, rootCard3, thing3.Name); // [!code --]
				Msg.Say(((rootCard3 == item3) ? "cook_groundItem" : "cook_invItem") + (fire ? "" : "_cold"), thing2, rootCard3, thing3.Name); // [!code ++]
			}
			if (rootCard3 == item3)
			{
```

[`@@ -1385,7 +1392,7 @@ public void TryShatter(Point pos, int ele, int power)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Map.cs#L1385-L1391)
```cs:line-numbers=1385
	_ValidateInstalled(pos.x, pos.z);
	bool CanCook(Card c)
	{
		if (fire && c.IsFood) // [!code --]
		if ((fire || cold) && c.IsFood) // [!code ++]
		{
			return c.category.IsChildOf("foodstuff");
		}
```

## POLICY

[`@@ -3,8 +3,6 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/POLICY.cs#L3-L10)
```cs:line-numbers=3

public class POLICY
{
	public const int tourist_safety = 2811; // [!code --]
 // [!code --]
	public const int bed_quality = 2812;

	public const int suite_room = 2813;
```

[`@@ -21,16 +19,14 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/POLICY.cs#L21-L36)
```cs:line-numbers=21

	public const int license_furniture = 2819;

	public const int legendary_heirloom = 2821; // [!code --]
 // [!code --]
	public const int celeb = 2822;

	public const int legendary_heirloom = 2821; // [!code ++]
 // [!code ++]
	public const int legendary_exhibition = 2823;

	public const int license_stolen = 2824;

	public const int open_business = 2810; // [!code --]
 // [!code --]
	public const int milk_fan = 2825;

	public const int egg_fan = 2826;
```

[`@@ -39,80 +35,84 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/POLICY.cs#L39-L118)
```cs:line-numbers=39

	public const int license_slaver = 2828;

	public const int tourist_safety = 2811; // [!code ++]
 // [!code ++]
	public const int license_general = 2820;

	public const int home_discount = 2800; // [!code --]
	public const int open_business = 2810; // [!code ++]

	public const int resident_wanted = 2513; // [!code --]
	public const int stop_growth = 2515; // [!code ++]

	public const int forcePanty = 2712; // [!code --]
	public const int livestock_priv = 2715; // [!code ++]

	public const int impressment = 2504; // [!code --]
	public const int nocturnal_life = 2508; // [!code ++]
 // [!code ++]
	public const int vaccination = 2509; // [!code ++]
 // [!code ++]
	public const int ban_radio = 2510; // [!code ++]

	public const int legal_drug = 2505;

	public const int human_right = 2506; // [!code --]
	public const int impressment = 2504; // [!code ++]

	public const int inquisition = 2507; // [!code --]
	public const int prohibition = 2503; // [!code ++]

	public const int nocturnal_life = 2508; // [!code --]
	public const int food_for_people = 2502; // [!code ++]

	public const int faith_tax = 2501;

	public const int wealth_tax = 2500;

	public const int livestock_priv = 2715; // [!code --]
 // [!code --]
	public const int prohibition = 2503; // [!code --]
 // [!code --]
	public const int vaccination = 2509; // [!code --]
	public const int home_discount = 2800; // [!code ++]

	public const int ban_radio = 2510; // [!code --]
	public const int inquisition = 2507; // [!code ++]

	public const int self_sufficient = 2511;

	public const int resident_tax = 2512;

	public const int taxfree = 2514; // [!code --]
	public const int resident_wanted = 2513; // [!code ++]

	public const int food_for_people = 2502; // [!code --]
	public const int human_right = 2506; // [!code ++]

	public const int speed_growth = 2516;

	public const int trash_no = 2702; // [!code ++]
 // [!code ++]
	public const int weed_no = 2703;

	public const int stop_growth = 2515; // [!code --]
	public const int taxfree = 2514; // [!code ++]

	public const int taxTransfer = 2705;

	public const int demon_invocation = 2706;

	public const int border_watch = 2704; // [!code --]
	public const int auto_farm = 2707; // [!code ++]

	public const int noDM = 2708; // [!code --]
	public const int border_watch = 2704; // [!code ++]

	public const int auto_farm = 2707; // [!code --]
	public const int noAnimal = 2709; // [!code ++]

	public const int noMother = 2710;

	public const int incomeTransfer = 2711;

	public const int trash_no = 2702; // [!code --]
	public const int forcePanty = 2712; // [!code ++]

	public const int trash_sort = 2701;

	public const int energy_conservation = 2700;

	public const int noAnimal = 2709; // [!code --]
	public const int noDM = 2708; // [!code ++]

	public static readonly int[] IDS = new int[51]
	{
		2811, 2812, 2813, 2814, 2815, 2816, 2817, 2818, 2819, 2821, // [!code --]
		2822, 2823, 2824, 2810, 2825, 2826, 2827, 2828, 2820, 2800, // [!code --]
		2513, 2712, 2504, 2505, 2506, 2507, 2508, 2501, 2500, 2715, // [!code --]
		2503, 2509, 2510, 2511, 2512, 2514, 2502, 2516, 2703, 2515, // [!code --]
		2705, 2706, 2704, 2708, 2707, 2710, 2711, 2702, 2701, 2700, // [!code --]
		2709 // [!code --]
		2812, 2813, 2814, 2815, 2816, 2817, 2818, 2819, 2822, 2821, // [!code ++]
		2823, 2824, 2825, 2826, 2827, 2828, 2811, 2820, 2810, 2515, // [!code ++]
		2715, 2508, 2509, 2510, 2505, 2504, 2503, 2502, 2501, 2500, // [!code ++]
		2800, 2507, 2511, 2512, 2513, 2506, 2516, 2702, 2703, 2514, // [!code ++]
		2705, 2706, 2707, 2704, 2709, 2710, 2711, 2712, 2701, 2700, // [!code ++]
		2708 // [!code ++]
	};
}
public class Policy : EClass
```

## Player

[`@@ -57,52 +57,156 @@ public class Pref`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Player.cs#L57-L108)
```cs:line-numbers=57
		public UIInventory.InteractMode interactMode;
	}

	public class Stats // [!code --]
	public class Stats : EClass // [!code ++]
	{
		[JsonProperty] // [!code ++]
		public long[] _longs = new long[50]; // [!code ++]
 // [!code ++]
		[JsonProperty] // [!code ++]
		public double timeElapsed;

		[JsonProperty] // [!code ++]
		public int kumi;

		[JsonProperty] // [!code ++]
		public int mins;

		[JsonProperty] // [!code ++]
		public int days;

		[JsonProperty] // [!code ++]
		public int months;

		[JsonProperty] // [!code ++]
		public int sieges;

		[JsonProperty] // [!code ++]
		public int turns;

		[JsonProperty] // [!code ++]
		public int kills;

		[JsonProperty] // [!code ++]
		public int taxBills;

		[JsonProperty] // [!code ++]
		public int taxBillsPaid;

		[JsonProperty] // [!code ++]
		public int digs;

		[JsonProperty] // [!code ++]
		public int shipNum;

		[JsonProperty] // [!code ++]
		public int slept;

		[JsonProperty] // [!code ++]
		public int death;

		[JsonProperty] // [!code ++]
		public int allyDeath;

		[JsonProperty] // [!code ++]
		public int deepest;

		[JsonProperty] // [!code ++]
		public int gambleChest;

		[JsonProperty] // [!code ++]
		public int gambleChestOpen;

		[JsonProperty] // [!code ++]
		public long shipMoney;

		[JsonIgnore] // [!code --]
		public int lastShippingExp;

		[JsonIgnore] // [!code --]
		public int lastShippingExpMax;

		public long nefiaBeaten // [!code ++]
		{ // [!code ++]
			get // [!code ++]
			{ // [!code ++]
				return _longs[10]; // [!code ++]
			} // [!code ++]
			set // [!code ++]
			{ // [!code ++]
				_longs[10] = value; // [!code ++]
			} // [!code ++]
		} // [!code ++]
 // [!code ++]
		public long kimo // [!code ++]
		{ // [!code ++]
			get // [!code ++]
			{ // [!code ++]
				return _longs[11]; // [!code ++]
			} // [!code ++]
			set // [!code ++]
			{ // [!code ++]
				_longs[11] = value; // [!code ++]
			} // [!code ++]
		} // [!code ++]
 // [!code ++]
		public long shear // [!code ++]
		{ // [!code ++]
			get // [!code ++]
			{ // [!code ++]
				return _longs[12]; // [!code ++]
			} // [!code ++]
			set // [!code ++]
			{ // [!code ++]
				_longs[12] = value; // [!code ++]
			} // [!code ++]
		} // [!code ++]
 // [!code ++]
		public long brush // [!code ++]
		{ // [!code ++]
			get // [!code ++]
			{ // [!code ++]
				return _longs[13]; // [!code ++]
			} // [!code ++]
			set // [!code ++]
			{ // [!code ++]
				_longs[13] = value; // [!code ++]
			} // [!code ++]
		} // [!code ++]
 // [!code ++]
		public long eggHatched // [!code ++]
		{ // [!code ++]
			get // [!code ++]
			{ // [!code ++]
				return _longs[14]; // [!code ++]
			} // [!code ++]
			set // [!code ++]
			{ // [!code ++]
				_longs[14] = value; // [!code ++]
			} // [!code ++]
		} // [!code ++]
 // [!code ++]
		public long plow // [!code ++]
		{ // [!code ++]
			get // [!code ++]
			{ // [!code ++]
				return _longs[15]; // [!code ++]
			} // [!code ++]
			set // [!code ++]
			{ // [!code ++]
				_longs[15] = value; // [!code ++]
			} // [!code ++]
		} // [!code ++]
 // [!code ++]
		public long clean // [!code ++]
		{ // [!code ++]
			get // [!code ++]
			{ // [!code ++]
				return _longs[16]; // [!code ++]
			} // [!code ++]
			set // [!code ++]
			{ // [!code ++]
				_longs[16] = value; // [!code ++]
			} // [!code ++]
		} // [!code ++]
 // [!code ++]
		public int GetShippingBonus(long _a)
		{
			long p = 0L;
```

## RecipeCard

[`@@ -470,10 +470,17 @@ public override void Build(Chara chara, Card t, Point pos, int mat, int dir, int`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/RecipeCard.cs#L470-L479)
```cs:line-numbers=470
		t.isRoofItem = true;
		t.SetPlaceState(PlaceState.roaming);
	}
	t.ForeachPoint(delegate(Point p, bool main) // [!code --]
	try // [!code ++]
	{
		CheckBlock(p); // [!code --]
	}); // [!code --]
		t.ForeachPoint(delegate(Point p, bool main) // [!code ++]
		{ // [!code ++]
			CheckBlock(p); // [!code ++]
		}); // [!code ++]
	} // [!code ++]
	catch // [!code ++]
	{ // [!code ++]
		Debug.LogWarning("kokodayo"); // [!code ++]
	} // [!code ++]
	t.freePos = freePos;
	if (freePos)
	{
```

## RegionPoint

[`@@ -34,7 +34,6 @@ public void SetRegionPoint(int _x, int _z)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/RegionPoint.cs#L34-L40)
```cs:line-numbers=34
		Mathf.Min(num2 / 10, 4);
		EClass.rnd(3 + Mathf.Min(num2 / 10, 4));
		_ = 5;
		Debug.Log(x + "/" + z + " road dist:" + roadDist + " homeDist:" + num + " dangerLv:" + num2); // [!code --]
		dangerLv = num2 + 5;
	}
}
```

## SKILL

[`@@ -1,22 +1,18 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/SKILL.cs#L1-L22)
```cs:line-numbers=1
public class SKILL
{
	public const int shield = 123; // [!code --]
	public const int fireproof = 50; // [!code ++]

	public const int armorHeavy = 122; // [!code --]
	public const int weaponCrossbow = 109; // [!code ++]

	public const int armorLight = 120; // [!code --]
	public const int weaponScythe = 110; // [!code ++]

	public const int weaponBlunt = 111;

	public const int PDR = 55; // [!code --]
 // [!code --]
	public const int weaponCrossbow = 109; // [!code --]
 // [!code --]
	public const int fireproof = 50; // [!code --]
	public const int armorLight = 120; // [!code ++]

	public const int acidproof = 51; // [!code --]
	public const int armorHeavy = 122; // [!code ++]

	public const int weaponScythe = 110; // [!code --]
	public const int shield = 123; // [!code ++]

	public const int twohand = 130;

```

[`@@ -66,31 +62,35 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/SKILL.cs#L66-L96)
```cs:line-numbers=66

	public const int weaponDagger = 107;

	public const int EDR = 56; // [!code --]
	public const int END = 71; // [!code ++]

	public const int evasionPerfect = 57; // [!code --]
	public const int STR = 70; // [!code ++]

	public const int life = 60; // [!code --]
	public const int FPV = 68; // [!code ++]

	public const int mana = 61; // [!code --]
	public const int DMG = 67; // [!code ++]

	public const int vigor = 62; // [!code --]
	public const int HIT = 66; // [!code ++]
 // [!code ++]
	public const int PV = 65; // [!code ++]
 // [!code ++]
	public const int DEX = 72; // [!code ++]

	public const int DV = 64;

	public const int PV = 65; // [!code --]
	public const int mana = 61; // [!code ++]

	public const int HIT = 66; // [!code --]
	public const int life = 60; // [!code ++]

	public const int DMG = 67; // [!code --]
	public const int evasionPerfect = 57; // [!code ++]

	public const int FPV = 68; // [!code --]
	public const int EDR = 56; // [!code ++]

	public const int STR = 70; // [!code --]
	public const int PDR = 55; // [!code ++]

	public const int END = 71; // [!code --]
	public const int acidproof = 51; // [!code ++]

	public const int DEX = 72; // [!code --]
	public const int vigor = 62; // [!code ++]

	public const int PER = 73;

```

[`@@ -98,8 +98,6 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/SKILL.cs#L98-L105)
```cs:line-numbers=98

	public const int WIL = 75;

	public const int MAG = 76; // [!code --]
 // [!code --]
	public const int weaponPolearm = 106;

	public const int weaponGun = 105;
```

[`@@ -112,10 +110,10 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/SKILL.cs#L112-L121)
```cs:line-numbers=112

	public const int martial = 100;

	public const int throwing = 108; // [!code --]
 // [!code --]
	public const int antiMagic = 93;

	public const int penetration = 92; // [!code ++]
 // [!code ++]
	public const int vopal = 91;

	public const int critical = 90;
```

[`@@ -128,7 +126,9 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/SKILL.cs#L128-L134)
```cs:line-numbers=128

	public const int CHA = 77;

	public const int penetration = 92; // [!code --]
	public const int MAG = 76; // [!code ++]
 // [!code ++]
	public const int throwing = 108; // [!code ++]

	public const int gathering = 250;

```

[`@@ -268,13 +268,13 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/SKILL.cs#L268-L280)
```cs:line-numbers=268

	public static readonly int[] IDS = new int[133]
	{
		123, 122, 120, 111, 55, 109, 50, 51, 110, 130, // [!code --]
		133, 132, 242, 241, 240, 237, 235, 230, 227, 226, // [!code --]
		225, 220, 207, 200, 152, 151, 150, 135, 134, 245, // [!code --]
		210, 102, 107, 56, 57, 60, 61, 62, 64, 65, // [!code --]
		66, 67, 68, 70, 71, 72, 73, 74, 75, 76, // [!code --]
		106, 105, 104, 103, 101, 100, 108, 93, 91, 90, // [!code --]
		80, 79, 78, 77, 92, 250, 131, 256, 916, 917, // [!code --]
		50, 109, 110, 111, 120, 122, 123, 130, 133, 132, // [!code ++]
		242, 241, 240, 237, 235, 230, 227, 226, 225, 220, // [!code ++]
		207, 200, 152, 151, 150, 135, 134, 245, 210, 102, // [!code ++]
		107, 71, 70, 68, 67, 66, 65, 72, 64, 61, // [!code ++]
		60, 57, 56, 55, 51, 62, 73, 74, 75, 106, // [!code ++]
		105, 104, 103, 101, 100, 93, 92, 91, 90, 80, // [!code ++]
		79, 78, 77, 76, 108, 250, 131, 256, 916, 917, // [!code ++]
		918, 919, 920, 921, 922, 923, 924, 925, 926, 950,
		951, 952, 915, 953, 956, 957, 958, 959, 960, 961,
		962, 963, 964, 965, 970, 971, 972, 255, 954, 914,
```

## +StanceSongSleep

::: details File Created
```cs
public class StanceSongSleep : BaseSong
{
	public override void OnStart()
	{
		owner.ShowEmo(Emo.happy);
	}

	public override void Tick()
	{
		int num = 0;
		foreach (Chara item in owner.pos.ListCharasInRadius(owner, 4, (Chara c) => !c.IsDeadOrSleeping && c.IsHostile(owner)))
		{
			if ((item.IsPowerful ? 10 : 25) > EClass.rnd(100))
			{
				item.AddCondition<ConSleep>(50 + base.power / 2);
			}
			num++;
		}
		if (num > 0)
		{
			owner.mana.Mod(-(1 + owner.mana.max / 200));
		}
	}
}
```

:::
## TaskClean

[`@@ -54,8 +54,9 @@ public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/TaskClean.cs#L54-L61)
```cs:line-numbers=54
		dest.PlayEffect("vanish");
		EClass.pc.Say("clean", owner);
		EClass.pc.PlaySound("clean_floor");
		EClass.pc.stamina.Mod(-1); // [!code --]
		EClass.pc.ModExp(293, 30);
		EClass.player.stats.clean++; // [!code ++]
		EClass.pc.stamina.Mod(-1); // [!code ++]
		yield return KeepRunning();
	}
}
```

## TaskPlow

[`@@ -66,6 +66,10 @@ public override void OnCreateProgress(Progress_Custom p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/TaskPlow.cs#L66-L71)
```cs:line-numbers=66
			pos.SetFloor(pos.matFloor.id, 4);
		}
		owner.elements.ModExp(286, 30);
		if (owner.IsPC) // [!code ++]
		{ // [!code ++]
			EClass.player.stats.plow++; // [!code ++]
		} // [!code ++]
		owner.stamina.Mod(-1);
	};
}
```

## Thing

[`@@ -282,7 +282,7 @@ public override void OnCreate(int genLv)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Thing.cs#L282-L288)
```cs:line-numbers=282
			}
			else if (bp.qualityBonus >= 10)
			{
				num4 = Mathf.Min(bp.qualityBonus / 10 + 2, 7) + EClass.rnd(EClass.rnd(5) + 1); // [!code --]
				num4 = Mathf.Min(bp.qualityBonus / 10 + 2, 8) + EClass.rnd(EClass.rnd(5) + 1); // [!code ++]
			}
		}
		if (num4 > 0)
```

## TraitChara

[`@@ -163,6 +163,7 @@ public int GetAdvRank()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/TraitChara.cs#L163-L168)
```cs:line-numbers=163
	switch (owner.id)
	{
	case "adv_gaki":
	case "adv_yukiimo": // [!code ++]
	case "adv_kiria":
	case "adv_ivory":
		min = 4;
```

## TraitFoodEggFertilized

[`@@ -58,6 +58,7 @@ public static Chara Incubate(Thing egg, Point pos, Card incubator = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/TraitFoodEggFertilized.cs#L58-L63)
```cs:line-numbers=58
			}
		}
		Msg.Say("incubate", chara);
		EClass.player.stats.eggHatched++; // [!code ++]
		return chara;
	}

```

## WidgetSearch

[`@@ -34,6 +34,8 @@ public class Word`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/WidgetSearch.cs#L34-L39)
```cs:line-numbers=34

	public Zone lastZone;

	private bool isDirty; // [!code ++]
 // [!code ++]
	public Extra extra => base.config.extra as Extra;

	public override SearchType type => SearchType.Search;
```

[`@@ -85,10 +87,11 @@ public override bool CheckClose()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/WidgetSearch.cs#L85-L94)
```cs:line-numbers=85
			return;
		}
		base.Update();
		if (lastZone != EMono._zone) // [!code --]
		if (lastZone != EMono._zone || isDirty) // [!code ++]
		{
			lastSearch = "";
			Search(field.text);
			isDirty = false; // [!code ++]
		}
	}

```

[`@@ -302,6 +305,10 @@ public override void RefreshList()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/WidgetSearch.cs#L302-L307)
```cs:line-numbers=302
		},
		onRedraw = delegate(Card a, ButtonGrid b, int i)
		{
			if (a.isDestroyed) // [!code ++]
			{ // [!code ++]
				isDirty = true; // [!code ++]
			} // [!code ++]
			b.SetCard(a, ButtonGrid.Mode.Search);
		},
		onList = delegate
```

## Zone_Field

[`@@ -104,7 +104,17 @@ public override string IDBaseLandFeat`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Zone_Field.cs#L104-L110)
```cs:line-numbers=104
		}
	}

	public override bool IsUnderwater => IdBiome == "Undersea"; // [!code --]
	public override bool IsUnderwater // [!code ++]
	{ // [!code ++]
		get // [!code ++]
		{ // [!code ++]
			if (!(IdBiome == "Undersea")) // [!code ++]
			{ // [!code ++]
				return elements.Has(3606); // [!code ++]
			} // [!code ++]
			return true; // [!code ++]
		} // [!code ++]
	} // [!code ++]

	public override void OnGenerateMap()
	{
```

## Zone_User

[`@@ -28,7 +28,10 @@ public override void OnActivate()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Zone_User.cs#L28-L34)
```cs:line-numbers=28
	{
		return;
	}
	WidgetMainText.Instance.NewLine(); // [!code --]
	if ((bool)WidgetMainText.Instance) // [!code ++]
	{ // [!code ++]
		WidgetMainText.Instance.NewLine(); // [!code ++]
	} // [!code ++]
	string[] array = EClass._map.exportSetting.textWelcome.Replace("\\n", "").Split(Environment.NewLine.ToCharArray());
	int num = 0;
	string[] array2 = array;
```

[`@@ -36,7 +39,10 @@ public override void OnActivate()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b08e5f5fafda02e68378b32704a19952b04f308f/Elin/Zone_User.cs#L36-L42)
```cs:line-numbers=36
	{
		Msg.SetColor("save");
		Msg.SayRaw("<i>" + text.Replace(Environment.NewLine, "") + "</i>");
		WidgetMainText.Instance.NewLine(); // [!code --]
		if ((bool)WidgetMainText.Instance) // [!code ++]
		{ // [!code ++]
			WidgetMainText.Instance.NewLine(); // [!code ++]
		} // [!code ++]
		num++;
		if (num >= 5)
		{
```
