---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 40 files modified. 2 new files created.
version: EA 23.101 Nightly Patch 1
changes: ABILITY/AI_Fuck/AI_Idle/ActEffect/ActMelee/AttackProcess/BaseTileMap/CardFilter/CardRenderer/Chara/CodexCreature/ContentCodex/CoreDebug/DOMAIN/ELEMENT/ENC/ElementContainer/FACTION/FEAT/FOOD/Game/GrowSystem/+GrowSystemDeco/HotItemHeld/ItemGeneral/MUTATION/POLICY/Point/PostEffectProfile/SKILL/TCOrbitChara/TextureManager/Thing/TraitDrink/TraitPerfume/TraitPlamoBox/TraitPotionRandom/+TraitRogue/TraitSeed/UIInventory/Zone/Zone_RandomDungeon
---

# EA 23.101 Nightly Patch 1

March 12, 2025

40 files modified. 2 new files created.

## Important Changes

Possible breaking changes. Click the filename to view the chunk.
### [CodexCreature (1)](#codexcreature)
```cs:no-line-numbers
public void SetImage(Image image, bool nativeSize = false) // [!code --]
public void SetImage(Image image, int idSkin = 0, bool nativeSize = true) // [!code ++]
```
### [Point (1)](#point)
```cs:no-line-numbers
public List<Chara> ListCharasInRadius(Chara cc, int dist, Func<Chara, bool> func) // [!code --]
public List<Chara> ListCharasInRadius(Chara cc, int dist, Func<Chara, bool> func, bool onlyVisible = true) // [!code ++]
```
## ABILITY

[`@@ -4,8 +4,6 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ABILITY.cs#L4-L11)
```cs:line-numbers=4
{
	public const int ActChat = 5044;

	public const int ActNoItem = 5037; // [!code --]
 // [!code --]
	public const int ActThrow = 5038;

	public const int AI_Fish = 5039;
```

[`@@ -32,11 +30,11 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ABILITY.cs#L32-L42)
```cs:line-numbers=32

	public const int ActZap = 5051;

	public const int TaskMoveInstalled = 5036; // [!code --]
 // [!code --]
	public const int ActBash = 5052;

	public const int AI_Bladder = 5054; // [!code --]
	public const int ActNoItem = 5037; // [!code ++]
 // [!code ++]
	public const int TaskHarvest = 5053; // [!code ++]

	public const int ActRestrain = 5055;

```

[`@@ -64,15 +62,15 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ABILITY.cs#L64-L78)
```cs:line-numbers=64

	public const int ActSuicide = 6410;

	public const int TaskHarvest = 5053; // [!code --]
 // [!code --]
	public const int ActDuplicate = 6420;

	public const int TaskBuild = 5035; // [!code --]
	public const int AI_Bladder = 5054; // [!code ++]

	public const int ActCancelTask = 5033; // [!code --]
	public const int ActCrabBreathe = 6500; // [!code ++]

	public const int Ranged = 5003; // [!code --]
	public const int TaskMoveInstalled = 5036; // [!code ++]
 // [!code ++]
	public const int GoalIdle = 5034; // [!code ++]

	public const int Sleep = 5004;

```

[`@@ -100,11 +98,11 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ABILITY.cs#L100-L110)
```cs:line-numbers=100

	public const int TaskTame = 5016;

	public const int GoalIdle = 5034; // [!code --]
 // [!code --]
	public const int TaskTalk = 5017;

	public const int TaskReadBoard = 5019; // [!code --]
	public const int TaskBuild = 5035; // [!code ++]
 // [!code ++]
	public const int TaskPick = 5018; // [!code ++]

	public const int TaskFarm = 5020;

```

[`@@ -132,15 +130,15 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ABILITY.cs#L132-L146)
```cs:line-numbers=132

	public const int AI_Equip = 5032;

	public const int TaskPick = 5018; // [!code --]
	public const int ActCancelTask = 5033; // [!code ++]

	public const int ActCrabBreathe = 6500; // [!code --]
	public const int TaskReadBoard = 5019; // [!code ++]

	public const int ActRush = 6450; // [!code --]
	public const int ActCurse = 6600; // [!code ++]

	public const int ActEntangle = 6601; // [!code --]
	public const int ActRush = 6450; // [!code ++]

	public const int ActHeadpat = 6904; // [!code --]
	public const int ActDraw = 6602; // [!code ++]

	public const int breathe_ = 7000;

```

[`@@ -154,17 +152,17 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ABILITY.cs#L154-L170)
```cs:line-numbers=154

	public const int breathe_Mind = 50204;

	public const int ActCurse = 6600; // [!code --]
	public const int breathe_Poison = 50205; // [!code ++]

	public const int breathe_Nether = 50206; // [!code --]
	public const int ActEntangle = 6601; // [!code ++]

	public const int breathe_Sound = 50207;

	public const int ActKizuamiTrick = 6903; // [!code --]
 // [!code --]
	public const int breathe_Nerve = 50208;

	public const int breathe_Chaos = 50210; // [!code --]
	public const int ActHeadpat = 6904; // [!code ++]
 // [!code ++]
	public const int breathe_Holy = 50209; // [!code ++]

	public const int breathe_Magic = 50211;

```

[`@@ -184,34 +182,40 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ABILITY.cs#L184-L217)
```cs:line-numbers=184

	public const int Melee = 5002;

	public const int breathe_Holy = 50209; // [!code --]
	public const int Ranged = 5003; // [!code ++]

	public const int ActLulwyTrick = 6902; // [!code --]
	public const int breathe_Chaos = 50210; // [!code ++]

	public const int breathe_Poison = 50205; // [!code --]
	public const int ActKizuamiTrick = 6903; // [!code ++]

	public const int ActGazeMana = 6623; // [!code --]
	public const int breathe_Nether = 50206; // [!code ++]
 // [!code ++]
	public const int ActJureHeal = 6901; // [!code ++]

	public const int ActWeaken = 6610;

	public const int ActDraw = 6602; // [!code --]
	public const int ActLulwyTrick = 6902; // [!code ++]

	public const int ActFear = 6611; // [!code --]
	public const int ActNTR = 6603; // [!code ++]

	public const int ActTouchSleep = 6612;

	public const int ActTouchDrown = 6613; // [!code ++]
 // [!code ++]
	public const int ActGazeDim = 6620;

	public const int ActGazeInsane = 6621;

	public const int ActGazeMutation = 6622;

	public const int ActNTR = 6603; // [!code --]
	public const int ActGazeMana = 6623; // [!code ++]

	public const int ActDrainBlood = 6626; // [!code --]
	public const int ActFear = 6611; // [!code ++]

	public const int ActInsult = 6630;

	public const int ActDrainBlood = 6626; // [!code ++]
 // [!code ++]
	public const int ActSteal = 6640;

	public const int ActStealFood = 6641;
```

[`@@ -232,22 +236,20 @@ public class ABILITY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ABILITY.cs#L232-L253)
```cs:line-numbers=232

	public const int ActScream = 6631;

	public const int ActJureHeal = 6901; // [!code --]
 // [!code --]
	public static readonly int[] IDS = new int[116] // [!code --]
	public static readonly int[] IDS = new int[117] // [!code ++]
	{
		5044, 5037, 5038, 5039, 5040, 5041, 5042, 5043, 5045, 5046, // [!code --]
		5047, 5048, 5049, 5050, 5051, 5036, 5052, 5054, 5055, 6001, // [!code --]
		6003, 6011, 6012, 6013, 6015, 6018, 6019, 6020, 6050, 6400, // [!code --]
		6410, 5053, 6420, 5035, 5033, 5003, 5004, 5005, 5006, 5007, // [!code --]
		5008, 5009, 5010, 5011, 5012, 5013, 5014, 5015, 5016, 5034, // [!code --]
		5017, 5019, 5020, 5021, 5022, 5023, 5024, 5025, 5026, 5027, // [!code --]
		5028, 5029, 5030, 5031, 5032, 5018, 6500, 6450, 6601, 6904, // [!code --]
		7000, 50200, 50201, 50202, 50203, 50204, 6600, 50206, 50207, 6903, // [!code --]
		50208, 50210, 50211, 50212, 50213, 50214, 50215, 50216, 5000, 5001, // [!code --]
		5002, 50209, 6902, 50205, 6623, 6610, 6602, 6611, 6612, 6620, // [!code --]
		6621, 6622, 6603, 6626, 6630, 6640, 6641, 6642, 6650, 6660, // [!code --]
		6661, 6700, 6720, 6900, 6631, 6901 // [!code --]
		5044, 5038, 5039, 5040, 5041, 5042, 5043, 5045, 5046, 5047, // [!code ++]
		5048, 5049, 5050, 5051, 5052, 5037, 5053, 5055, 6001, 6003, // [!code ++]
		6011, 6012, 6013, 6015, 6018, 6019, 6020, 6050, 6400, 6410, // [!code ++]
		6420, 5054, 6500, 5036, 5034, 5004, 5005, 5006, 5007, 5008, // [!code ++]
		5009, 5010, 5011, 5012, 5013, 5014, 5015, 5016, 5017, 5035, // [!code ++]
		5018, 5020, 5021, 5022, 5023, 5024, 5025, 5026, 5027, 5028, // [!code ++]
		5029, 5030, 5031, 5032, 5033, 5019, 6600, 6450, 6602, 7000, // [!code ++]
		50200, 50201, 50202, 50203, 50204, 50205, 6601, 50207, 50208, 6904, // [!code ++]
		50209, 50211, 50212, 50213, 50214, 50215, 50216, 5000, 5001, 5002, // [!code ++]
		5003, 50210, 6903, 50206, 6901, 6610, 6902, 6603, 6612, 6613, // [!code ++]
		6620, 6621, 6622, 6623, 6611, 6630, 6626, 6640, 6641, 6642, // [!code ++]
		6650, 6660, 6661, 6700, 6720, 6900, 6631 // [!code ++]
	};
}
public class Ability : Act
```

## AI_Fuck

[`@@ -68,7 +68,7 @@ public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/AI_Fuck.cs#L68-L74)
```cs:line-numbers=68
	{
		cc.SetTempHand(1104, -1);
	}
	maxProgress = (ntr ? 15 : 25); // [!code --]
	maxProgress = (ntr ? 10 : 25); // [!code ++]
	if (succubus)
	{
		cc.Talk("seduce");
```

[`@@ -292,7 +292,7 @@ public void Finish()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/AI_Fuck.cs#L292-L298)
```cs:line-numbers=292
		}
		else if (chara2.ExistsOnMap)
		{
			chara2.stamina.Mod(-1000000); // [!code --]
			chara2.stamina.Mod((!chara2.IsPCFaction) ? (-10000) : (chara2.IsPC ? (-25) : (-50))); // [!code ++]
		}
		break;
	}
```

## AI_Idle

[`@@ -370,6 +370,22 @@ public override IEnumerable<Status> Run()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/AI_Idle.cs#L370-L375)
```cs:line-numbers=370
	{
		owner.TryAssignBed();
	}
	if (owner.id == "geist" && EClass.rnd(20) == 0) // [!code ++]
	{ // [!code ++]
		Point nearestPoint = EClass.pc.pos.GetNearestPoint(allowBlock: false, allowChara: false); // [!code ++]
		if (nearestPoint != null) // [!code ++]
		{ // [!code ++]
			foreach (Chara item3 in nearestPoint.ListCharasInRadius(owner, 6, (Chara _c) => _c != owner && !_c.IsPCFactionOrMinion)) // [!code ++]
			{ // [!code ++]
				item3.Teleport(nearestPoint.GetNearestPoint(allowBlock: false, allowChara: false) ?? nearestPoint); // [!code ++]
			} // [!code ++]
			if (owner != null) // [!code ++]
			{ // [!code ++]
				owner.Teleport(nearestPoint); // [!code ++]
			} // [!code ++]
			yield return Success(); // [!code ++]
		} // [!code ++]
	} // [!code ++]
	if (EClass._zone.IsPCFaction)
	{
		Room room = owner.pos.cell.room;
```

## ActEffect

[`@@ -1267,15 +1267,15 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L1267-L1281)
```cs:line-numbers=1267
		{
			break;
		}
		int hex = 0; // [!code --]
		int hex2 = 0; // [!code ++]
		foreach (Condition condition4 in TC.conditions)
		{
			if (condition4.Type == ConditionType.Debuff)
			{
				hex++; // [!code --]
				hex2++; // [!code ++]
			}
		}
		if (hex == 0) // [!code --]
		if (hex2 == 0) // [!code ++]
		{
			CC.SayNothingHappans();
			break;
```

[`@@ -1299,7 +1299,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L1299-L1305)
```cs:line-numbers=1299
				{
					break;
				}
				int dmg2 = Dice.Create("SpShutterHex", power * hex, CC, (actRef.refThing != null) ? null : actRef.act).Roll(); // [!code --]
				int dmg2 = Dice.Create("SpShutterHex", power * hex2, CC, (actRef.refThing != null) ? null : actRef.act).Roll(); // [!code ++]
				item3.DamageHP(dmg2, 919, power, AttackSource.None, CC);
			}
		});
```

[`@@ -1337,7 +1337,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L1337-L1343)
```cs:line-numbers=1337
			break;
		}
		Thing thing6 = null;
		bool flag7 = actRef.n1 == "food"; // [!code --]
		bool flag9 = actRef.n1 == "food"; // [!code ++]
		if (actRef.n1 == "money")
		{
			int currency = TC.GetCurrency();
```

[`@@ -1351,11 +1351,11 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L1351-L1361)
```cs:line-numbers=1351
		else
		{
			Func<Thing, bool> func = (Thing t) => true;
			if (flag7) // [!code --]
			if (flag9) // [!code ++]
			{
				func = (Thing t) => t.IsFood;
			}
			List<Thing> list5 = TC.things.List(delegate(Thing t) // [!code --]
			List<Thing> list7 = TC.things.List(delegate(Thing t) // [!code ++]
			{
				if (t.parentCard?.trait is TraitChestMerchant || t.trait is TraitTool || t.IsThrownWeapon)
				{
```

[`@@ -1363,9 +1363,9 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L1363-L1371)
```cs:line-numbers=1363
				}
				return t.trait.CanBeDestroyed && t.things.Count == 0 && t.invY != 1 && t.trait.CanBeStolen && !t.trait.CanOnlyCarry && !t.IsUnique && !t.isEquipped && t.blessedState == BlessedState.Normal && func(t);
			}, onlyAccessible: true);
			if (list5.Count > 0) // [!code --]
			if (list7.Count > 0) // [!code ++]
			{
				thing6 = list5.RandomItem(); // [!code --]
				thing6 = list7.RandomItem(); // [!code ++]
				if (thing6.Num > 1)
				{
					thing6 = thing6.Split(1);
```

[`@@ -1411,7 +1411,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L1411-L1417)
```cs:line-numbers=1411
		{
			break;
		}
		List<Thing> list3 = TC.things.List(delegate(Thing t) // [!code --]
		List<Thing> list5 = TC.things.List(delegate(Thing t) // [!code ++]
		{
			if (!t.isEquipped || t.blessedState == BlessedState.Doomed || t.IsToolbelt)
			{
```

[`@@ -1419,15 +1419,15 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L1419-L1433)
```cs:line-numbers=1419
			}
			return (t.blessedState < BlessedState.Blessed || EClass.rnd(10) == 0) ? true : false;
		});
		if (list3.Count == 0) // [!code --]
		if (list5.Count == 0) // [!code ++]
		{
			CC.SayNothingHappans();
			break;
		}
		Thing thing4 = list3.RandomItem(); // [!code --]
		TC.Say("curse_hit", TC, thing4); // [!code --]
		thing4.SetBlessedState((thing4.blessedState == BlessedState.Cursed) ? BlessedState.Doomed : BlessedState.Cursed); // [!code --]
		LayerInventory.SetDirty(thing4); // [!code --]
		Thing thing5 = list5.RandomItem(); // [!code ++]
		TC.Say("curse_hit", TC, thing5); // [!code ++]
		thing5.SetBlessedState((thing5.blessedState == BlessedState.Cursed) ? BlessedState.Doomed : BlessedState.Cursed); // [!code ++]
		LayerInventory.SetDirty(thing5); // [!code ++]
		break;
	}
	case EffectId.UncurseEQ:
```

[`@@ -1532,14 +1532,14 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L1532-L1545)
```cs:line-numbers=1532
	case EffectId.KizuamiTrick:
	{
		EClass.game.religions.Trickery.Talk("ability");
		bool hex2 = CC.IsHostile(TC); // [!code --]
		List<SourceStat.Row> list6 = EClass.sources.stats.rows.Where((SourceStat.Row con) => con.tag.Contains("random") && con.group == (hex2 ? "Debuff" : "Buff")).ToList(); // [!code --]
		bool hex = CC.IsHostile(TC); // [!code ++]
		List<SourceStat.Row> list4 = EClass.sources.stats.rows.Where((SourceStat.Row con) => con.tag.Contains("random") && con.group == (hex ? "Debuff" : "Buff")).ToList(); // [!code ++]
		int power2 = power;
		for (int l = 0; l < 4 + EClass.rnd(2); l++) // [!code --]
		for (int k = 0; k < 4 + EClass.rnd(2); k++) // [!code ++]
		{
			SourceStat.Row row2 = list6.RandomItem(); // [!code --]
			list6.Remove(row2); // [!code --]
			Proc(hex2 ? EffectId.Debuff : EffectId.Buff, CC, TC, power2, new ActRef // [!code --]
			SourceStat.Row row2 = list4.RandomItem(); // [!code ++]
			list4.Remove(row2); // [!code ++]
			Proc(hex ? EffectId.Debuff : EffectId.Buff, CC, TC, power2, new ActRef // [!code ++]
			{
				n1 = row2.alias
			});
```

[`@@ -1555,14 +1555,18 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L1555-L1568)
```cs:line-numbers=1555
		CC.DoHostileAction(TC);
		bool isPowerful = TC.IsPowerful;
		string n = actRef.n1;
		if (n == "ConSuffocation") // [!code ++]
		{ // [!code ++]
			power = power * 2 / 3; // [!code ++]
		} // [!code ++]
		int a2 = power;
		int num7 = TC.WIL * (isPowerful ? 20 : 5); // [!code --]
		int num6 = TC.WIL * (isPowerful ? 20 : 5); // [!code ++]
		ConHolyVeil condition = TC.GetCondition<ConHolyVeil>();
		if (condition != null)
		{
			num7 += condition.power * 5; // [!code --]
			num6 += condition.power * 5; // [!code ++]
		}
		if (EClass.rnd(a2) < num7 / EClass.sources.stats.alias[n].hexPower && EClass.rnd(10) != 0) // [!code --]
		if (EClass.rnd(a2) < num6 / EClass.sources.stats.alias[n].hexPower && EClass.rnd(10) != 0) // [!code ++]
		{
			TC.Say("debuff_resist", TC);
			CC.DoHostileAction(TC);
```

[`@@ -1710,16 +1714,16 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L1710-L1725)
```cs:line-numbers=1710
		break;
	case EffectId.Revive:
	{
		List<KeyValuePair<int, Chara>> list7 = EClass.game.cards.globalCharas.Where((KeyValuePair<int, Chara> a) => a.Value.isDead && a.Value.faction == EClass.pc.faction && !a.Value.isSummon && a.Value.c_wasInPcParty).ToList(); // [!code --]
		List<KeyValuePair<int, Chara>> list6 = EClass.game.cards.globalCharas.Where((KeyValuePair<int, Chara> a) => a.Value.isDead && a.Value.faction == EClass.pc.faction && !a.Value.isSummon && a.Value.c_wasInPcParty).ToList(); // [!code ++]
		if (TC.IsPCFaction || TC.IsPCFactionMinion)
		{
			if (TC.IsPC && list7.Count == 0) // [!code --]
			if (TC.IsPC && list6.Count == 0) // [!code ++]
			{
				list7 = EClass.game.cards.globalCharas.Where((KeyValuePair<int, Chara> a) => a.Value.CanRevive() && a.Value.isDead && a.Value.faction == EClass.pc.faction && !a.Value.isSummon).ToList(); // [!code --]
				list6 = EClass.game.cards.globalCharas.Where((KeyValuePair<int, Chara> a) => a.Value.CanRevive() && a.Value.isDead && a.Value.faction == EClass.pc.faction && !a.Value.isSummon).ToList(); // [!code ++]
			}
			if (list7.Count > 0) // [!code --]
			if (list6.Count > 0) // [!code ++]
			{
				list7.RandomItem().Value.Chara.GetRevived(); // [!code --]
				list6.RandomItem().Value.Chara.GetRevived(); // [!code ++]
				break;
			}
		}
```

[`@@ -1732,24 +1736,24 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L1732-L1755)
```cs:line-numbers=1732
	case EffectId.DamageMindGreat:
	case EffectId.Weaken:
	{
		bool flag8 = id == EffectId.DamageBody || id == EffectId.DamageBodyGreat; // [!code --]
		bool flag7 = id == EffectId.DamageBody || id == EffectId.DamageBodyGreat; // [!code ++]
		bool mind = id == EffectId.DamageMind || id == EffectId.DamageMindGreat;
		int num6 = ((id == EffectId.DamageBody || id == EffectId.DamageMind) ? 1 : (4 + EClass.rnd(4))); // [!code --]
		int num7 = ((id == EffectId.DamageBody || id == EffectId.DamageMind) ? 1 : (4 + EClass.rnd(4))); // [!code ++]
		if (id == EffectId.Weaken)
		{
			flag8 = EClass.rnd(2) == 0; // [!code --]
			mind = !flag8; // [!code --]
			num6 = 1; // [!code --]
			flag7 = EClass.rnd(2) == 0; // [!code ++]
			mind = !flag7; // [!code ++]
			num7 = 1; // [!code ++]
		}
		else
		{
			TC.PlayEffect("debuff");
			TC.PlaySound("debuff");
		}
		TC.Say(flag8 ? "damageBody" : "damageMind", TC); // [!code --]
		for (int k = 0; k < num6; k++) // [!code --]
		TC.Say(flag7 ? "damageBody" : "damageMind", TC); // [!code ++]
		for (int l = 0; l < num7; l++) // [!code ++]
		{
			TC.DamageTempElements(power, flag8, mind); // [!code --]
			TC.DamageTempElements(power, flag7, mind); // [!code ++]
		}
		if (TC.IsPC)
		{
```

[`@@ -1762,15 +1766,15 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L1762-L1776)
```cs:line-numbers=1762
	case EffectId.EnhanceBodyGreat:
	case EffectId.EnhanceMindGreat:
	{
		bool flag9 = id == EffectId.EnhanceBody || id == EffectId.EnhanceBodyGreat; // [!code --]
		bool flag8 = id == EffectId.EnhanceBody || id == EffectId.EnhanceBodyGreat; // [!code ++]
		bool mind2 = id == EffectId.EnhanceMind || id == EffectId.EnhanceMindGreat;
		int num8 = ((id == EffectId.EnhanceBody || id == EffectId.EnhanceMind) ? 1 : (4 + EClass.rnd(4)));
		TC.Say(flag9 ? "enhanceBody" : "enhanceMind", TC); // [!code --]
		TC.Say(flag8 ? "enhanceBody" : "enhanceMind", TC); // [!code ++]
		TC.PlayEffect("buff");
		TC.PlaySound("buff");
		for (int m = 0; m < num8; m++)
		{
			TC.EnhanceTempElements(power, flag9, mind2); // [!code --]
			TC.EnhanceTempElements(power, flag8, mind2); // [!code ++]
		}
		break;
	}
```

[`@@ -1806,6 +1810,10 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L1806-L1811)
```cs:line-numbers=1806
		{
			EClass.game.religions.Healing.Talk("ability");
		}
		if (actRef.act != null) // [!code ++]
		{ // [!code ++]
			Debug.Log(actRef.act.id); // [!code ++]
		} // [!code ++]
		int num9 = Dice.Create((actRef.act != null && EClass.sources.calc.map.ContainsKey(actRef.act.ID)) ? actRef.act.ID : "SpHealLight", power, CC, (actRef.refThing != null) ? null : actRef.act).Roll();
		if (flag)
		{
```

[`@@ -2083,20 +2091,20 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActEffect.cs#L2083-L2102)
```cs:line-numbers=2083
		{
			power /= 4;
		}
		List<Thing> list4 = TC.things.List((Thing t) => (t.Num <= 1 && t.IsEquipmentOrRanged && !t.IsToolbelt && !t.IsLightsource && t.isEquipped) ? true : false); // [!code --]
		if (list4.Count != 0) // [!code --]
		List<Thing> list3 = TC.things.List((Thing t) => (t.Num <= 1 && t.IsEquipmentOrRanged && !t.IsToolbelt && !t.IsLightsource && t.isEquipped) ? true : false); // [!code ++]
		if (list3.Count != 0) // [!code ++]
		{
			Thing thing5 = list4.RandomItem(); // [!code --]
			Thing thing4 = list3.RandomItem(); // [!code ++]
			TC.Say("acid_hit", TC);
			if (thing5.isAcidproof) // [!code --]
			if (thing4.isAcidproof) // [!code ++]
			{
				TC.Say("acid_nullify", thing5); // [!code --]
				TC.Say("acid_nullify", thing4); // [!code ++]
			}
			else if (thing5.encLV > -5) // [!code --]
			else if (thing4.encLV > -5) // [!code ++]
			{
				TC.Say("acid_rust", TC, thing5); // [!code --]
				thing5.ModEncLv(-1); // [!code --]
				LayerInventory.SetDirty(thing5); // [!code --]
				TC.Say("acid_rust", TC, thing4); // [!code ++]
				thing4.ModEncLv(-1); // [!code ++]
				LayerInventory.SetDirty(thing4); // [!code ++]
			}
			if (TC.IsPCParty)
			{
```

## ActMelee

[`@@ -329,12 +329,15 @@ void Attack(Card _tc, Point _tp, float mtp, bool subAttack)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ActMelee.cs#L329-L340)
```cs:line-numbers=329
			{
				Act.TP.ForeachNeighbor(delegate(Point p)
				{
					if (p.Equals(Act.TP) || p.Equals(Act.CC.pos) || p.IsBlocked) // [!code --]
					if (p.Equals(Act.TP) || p.Equals(Act.CC.pos)) // [!code ++]
					{
						return;
					}
					p.PlayEffect("smoke_shockwave"); // [!code --]
					p.Copy().Animate(AnimeID.QuakeMini, animeBlock: true); // [!code --]
					if (!p.IsBlocked) // [!code ++]
					{ // [!code ++]
						p.PlayEffect("smoke_shockwave"); // [!code ++]
						p.Copy().Animate(AnimeID.QuakeMini, animeBlock: true); // [!code ++]
					} // [!code ++]
					foreach (Card item4 in p.ListCards())
					{
						if (item4.trait.CanBeAttacked || (item4.isChara && item4.Chara.IsHostile(Act.CC)))
```

## AttackProcess

[`@@ -648,7 +648,7 @@ public bool Perform(int count, bool hasHit, float dmgMulti = 1f, bool maxRoll =`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/AttackProcess.cs#L648-L654)
```cs:line-numbers=648
			{
				break;
			}
			if (item.source.categorySub == "eleAttack") // [!code --]
			if (item.IsActive(weapon) && item.source.categorySub == "eleAttack") // [!code ++]
			{
				int num10 = 25;
				int dmg = EClass.rnd(num * (100 + item.Value * 10) / 500 + 5);
```

## BaseTileMap

[`@@ -188,6 +188,8 @@ public enum ScreenHighlight`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/BaseTileMap.cs#L188-L193)
```cs:line-numbers=188

	public MeshPass passCharaL;

	public MeshPass passCharaLW; // [!code ++]
 // [!code ++]
	public MeshPass passCharaLL;

	public MeshPass passShore;
```

## CardFilter

[`@@ -98,6 +98,8 @@ public bool Pass(CardRow source)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/CardFilter.cs#L98-L103)
```cs:line-numbers=98
	{
		return false;
	}
	bool flag = false; // [!code ++]
	bool flag2 = false; // [!code ++]
	for (int i = 0; i < tags.Count; i++)
	{
		FilterItem filterItem = tags[i];
```

[`@@ -107,12 +109,18 @@ public bool Pass(CardRow source)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/CardFilter.cs#L107-L118)
```cs:line-numbers=107
			{
				return false;
			}
			continue; // [!code ++]
		}
		else if (!ContainsTag(source, filterItem.name)) // [!code --]
		flag2 = true; // [!code ++]
		if (!flag && ContainsTag(source, filterItem.name)) // [!code ++]
		{
			return false; // [!code --]
			flag = true; // [!code ++]
		}
	}
	if (flag2 && !flag) // [!code ++]
	{ // [!code ++]
		return false; // [!code ++]
	} // [!code ++]
	for (int j = 0; j < filters.Count; j++)
	{
		FilterItem filterItem2 = filters[j];
```

[`@@ -134,19 +142,19 @@ public bool Pass(CardRow source)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/CardFilter.cs#L134-L152)
```cs:line-numbers=134
	}
	if (categories.Count > 0)
	{
		bool flag = false; // [!code --]
		bool flag3 = false; // [!code ++]
		foreach (FilterCategory category in categories)
		{
			if ((!flag || category.exclude) && EClass.sources.categories.map[source.category].IsChildOf(category.row)) // [!code --]
			if ((!flag3 || category.exclude) && EClass.sources.categories.map[source.category].IsChildOf(category.row)) // [!code ++]
			{
				if (category.exclude)
				{
					return false;
				}
				flag = true; // [!code --]
				flag3 = true; // [!code ++]
			}
		}
		if (!flag) // [!code --]
		if (!flag3) // [!code ++]
		{
			return false;
		}
```

## CardRenderer

[`@@ -211,6 +211,10 @@ public override void Draw(RenderParam p, ref Vector3 v, bool drawShadow)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/CardRenderer.cs#L211-L216)
```cs:line-numbers=211
				}
				else
				{
					if (EClass.core.config.game.antiSpider && row.race == "spider" && row._tiles.Length > 1) // [!code ++]
					{ // [!code ++]
						owner.refVal = 1; // [!code ++]
					} // [!code ++]
					p.tile = row._tiles[owner.refVal % row._tiles.Length] * ((owner.dir % 2 == 0) ? 1 : (-1));
					p.matColor = traitFigure.GetMatColor();
					drawShadow = traitFigure.ShowShadow;
```

## Chara

[`@@ -2953,7 +2953,16 @@ public void TryPush(Point point)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/Chara.cs#L2953-L2959)
```cs:line-numbers=2953
					c.PlayEffect("push");
				}
				c.MoveByForce(newPoint, this, checkWall: true);
				if (IsPC && !c.IsPCParty && !c.IsUnique && c.IsHuman && EClass.rnd(5) == 0) // [!code --]
				if (!c.IsPC && c.trait is TraitRogue && EClass.rnd(3) == 0 && GetCurrency() > 20) // [!code ++]
				{ // [!code ++]
					int num = EClass.rndHalf(10 + Mathf.Min(GetCurrency() / 100, 1000)); // [!code ++]
					c.Talk("pushed"); // [!code ++]
					Say("pushed_money", this, c); // [!code ++]
					ModCurrency(-num); // [!code ++]
					c.ModCurrency(num); // [!code ++]
					c.PlaySound("steal_money"); // [!code ++]
				} // [!code ++]
				else if (IsPC && !c.IsPCParty && !c.IsUnique && c.IsHuman && EClass.rnd(5) == 0) // [!code ++]
				{
					c.Talk("pushed");
				}
```

[`@@ -3910,7 +3919,7 @@ public void PickOrDrop(Point p, Thing t, bool msg = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/Chara.cs#L3910-L3916)
```cs:line-numbers=3910

	public Thing Pick(Thing t, bool msg = true, bool tryStack = true)
	{
		if (t.trait is TraitCard && t.isNew && EClass.game.config.autoCollectCard) // [!code --]
		if (t.trait is TraitCard && t.isNew && EClass.game.config.autoCollectCard && !t.c_idRefCard.IsEmpty()) // [!code ++]
		{
			ContentCodex.Collect(t);
			return t;
```

[`@@ -5982,6 +5991,7 @@ public bool IsFriendOrAbove(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/Chara.cs#L5982-L5987)
```cs:line-numbers=5982

	public override CardRenderer _CreateRenderer()
	{
		CardRenderer cardRenderer = renderer; // [!code ++]
		CharaRenderer charaRenderer = new CharaRenderer();
		if (race.id == "spider" && source.tiles.Length > 1)
		{
```

[`@@ -6017,6 +6027,10 @@ public override CardRenderer _CreateRenderer()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/Chara.cs#L6017-L6022)
```cs:line-numbers=6017
		}
		renderer = charaRenderer;
		renderer.SetOwner(this);
		if (cardRenderer != null) // [!code ++]
		{ // [!code ++]
			renderer.SetFirst(first: false, cardRenderer.position); // [!code ++]
		} // [!code ++]
		return charaRenderer;
	}

```

## CodexCreature

[`@@ -85,9 +85,9 @@ public bool droppedCard`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/CodexCreature.cs#L85-L93)
```cs:line-numbers=85
		}
	}

	public void SetImage(Image image, bool nativeSize = false) // [!code --]
	public void SetImage(Image image, int idSkin = 0, bool nativeSize = true) // [!code ++]
	{
		source.SetImage(image, null, 0, nativeSize); // [!code --]
		source.SetImage(image, null, 0, nativeSize, 0, idSkin); // [!code ++]
		image.SetActive(enable: true);
	}

```

## ContentCodex

[`@@ -78,7 +78,8 @@ public void RefreshList()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ContentCodex.cs#L78-L84)
```cs:line-numbers=78
			{
				b.icon.transform.localScale = new Vector3(1f / EClass.core.uiScale, 1f / EClass.core.uiScale, 1f);
			}
			a.SetImage(b.icon, nativeSize: true); // [!code --]
			int idSkin = ((EClass.core.config.game.antiSpider && a.source.race == "spider" && a.source.tiles.Length > 1) ? 1 : 0); // [!code ++]
			a.SetImage(b.icon, idSkin); // [!code ++]
		},
		onList = delegate
		{
```

[`@@ -118,7 +119,8 @@ public void RefreshInfo()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ContentCodex.cs#L118-L124)
```cs:line-numbers=118
		SourceChara.Row source = codexCreature.source;
		uINote.Clear();
		UIItem uIItem = uINote.AddHeader("HeaderCodex", codexCreature.Name.Replace("『", Environment.NewLine + "『"));
		codexCreature.SetImage(uIItem.image1, nativeSize: true); // [!code --]
		int idSkin = ((EClass.core.config.game.antiSpider && codexCreature.source.race == "spider" && codexCreature.source.tiles.Length > 1) ? 1 : 0); // [!code ++]
		codexCreature.SetImage(uIItem.image1, idSkin); // [!code ++]
		uIItem.text2.text = "Lv." + source.LV + Environment.NewLine + EClass.sources.races.map[source.race].GetName().ToTitleCase(wholeText: true) + Environment.NewLine + EClass.sources.jobs.map[source.job].GetName().ToTitleCase(wholeText: true);
		uIItem.image1.rectTransform.pivot = pivot;
		uIItem.image1.rectTransform.localPosition = localPos;
```

## CoreDebug

[`@@ -537,6 +537,17 @@ public void QuickStart()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/CoreDebug.cs#L537-L542)
```cs:line-numbers=537
		}
		EClass.pc.AddCard(thing);
		thing.Dye("rubinus");
		thing = ThingGen.Create("backpack"); // [!code ++]
		foreach (SourceObj.Row row3 in EClass.sources.objs.rows) // [!code ++]
		{ // [!code ++]
			if (row3.tag.Contains("seed")) // [!code ++]
			{ // [!code ++]
				Thing c = TraitSeed.MakeSeed(row3).SetNum(100); // [!code ++]
				thing.AddCard(c); // [!code ++]
			} // [!code ++]
		} // [!code ++]
		EClass.pc.AddCard(thing); // [!code ++]
		thing.Dye("silver"); // [!code ++]
		thing = ThingGen.Create("pouch");
		for (int num4 = 0; num4 < 30; num4++)
		{
```

## DOMAIN

[`@@ -2,42 +2,42 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/DOMAIN.cs#L2-L43)
```cs:line-numbers=2

public class DOMAIN
{
	public const int domEyth = 814; // [!code --]
	public const int domEarth = 812; // [!code ++]

	public const int domHealing = 811;

	public const int domEyth = 814; // [!code ++]
 // [!code ++]
	public const int domOblivion = 813;

	public const int domTest = 800;

	public const int domEarth = 812; // [!code --]
 // [!code --]
	public const int domSurvival = 801; // [!code --]
 // [!code --]
	public const int domHarvest = 808; // [!code --]
	public const int domElement = 806; // [!code ++]

	public const int domMiracle = 803; // [!code --]
	public const int domFaith = 802; // [!code ++]

	public const int domLuck = 810;

	public const int domMachine = 809;

	public const int domWind = 807; // [!code --]
	public const int domHarvest = 808; // [!code ++]

	public const int domElement = 806; // [!code --]
	public const int domWind = 807; // [!code ++]

	public const int domComm = 805;

	public const int domFaith = 802; // [!code --]
	public const int domArcane = 804; // [!code ++]
 // [!code ++]
	public const int domMiracle = 803; // [!code ++]

	public const int domHarmony = 815;

	public const int domArcane = 804; // [!code --]
	public const int domSurvival = 801; // [!code ++]

	public static readonly int[] IDS = new int[16]
	{
		814, 811, 813, 800, 812, 801, 808, 803, 810, 809, // [!code --]
		807, 806, 805, 802, 815, 804 // [!code --]
		812, 811, 814, 813, 800, 806, 802, 810, 809, 808, // [!code ++]
		807, 805, 804, 803, 815, 801 // [!code ++]
	};
}
public class Domain : EClass
```

## ELEMENT

[`@@ -5,9 +5,11 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ELEMENT.cs#L5-L13)
```cs:line-numbers=5

public class ELEMENT
{
	public const int antidote = 753; // [!code --]
	public const int rare = 751; // [!code ++]

	public const int comfort = 750; // [!code --]
	public const int cute = 752; // [!code ++]
 // [!code ++]
	public const int antidote = 753; // [!code ++]

	public const int nerve = 754;

```

[`@@ -17,9 +19,7 @@ public class ELEMENT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ELEMENT.cs#L17-L25)
```cs:line-numbers=17

	public const int purity = 759;

	public const int cute = 752; // [!code --]
 // [!code --]
	public const int rare = 751; // [!code --]
	public const int comfort = 750; // [!code ++]

	public const int _void = 0;

```

[`@@ -69,7 +69,7 @@ public class ELEMENT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ELEMENT.cs#L69-L75)
```cs:line-numbers=69

	public static readonly int[] IDS = new int[31]
	{
		753, 750, 754, 755, 756, 759, 752, 751, 0, 2, // [!code --]
		751, 752, 753, 754, 755, 756, 759, 750, 0, 2, // [!code ++]
		1, 3, 5, 10, 11, 12, 13, 14, 16, 17,
		18, 15, 21, 22, 23, 24, 25, 26, 29, 85,
		20
```

[`@@ -440,6 +440,15 @@ public virtual Sprite GetIcon(string suffix = "")`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ELEMENT.cs#L440-L445)
```cs:line-numbers=440
		return SpriteSheet.Get("Media/Graphics/Icon/Element/icon_elements", "ele_" + source.alias + suffix) ?? SpriteSheet.Get("Media/Graphics/Icon/Element/icon_elements", "ele_" + source.aliasParent + suffix) ?? SpriteSheet.Get("Media/Graphics/Icon/Element/icon_elements", "cat_" + source.category);
	}

	public bool IsActive(Card c) // [!code ++]
	{ // [!code ++]
		if (IsGlobalElement && c != null && !c.c_idDeity.IsEmpty() && c.c_idDeity != EClass.pc.idFaith) // [!code ++]
		{ // [!code ++]
			return false; // [!code ++]
		} // [!code ++]
		return Value != 0; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public int SortVal(bool charaSheet = false)
	{
		int num = ((source.sort != 0) ? source.sort : id);
```

## ENC

[`@@ -54,7 +54,7 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ENC.cs#L54-L60)
```cs:line-numbers=54

	public const int mod_scatter = 607;

	public const int bane_animal = 463; // [!code --]
	public const int slowCorruption = 412; // [!code ++]

	public const int mod_precision = 605;

```

[`@@ -68,7 +68,7 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ENC.cs#L68-L74)
```cs:line-numbers=68

	public const int negateConfusion = 425;

	public const int mod_drill = 606; // [!code --]
	public const int negateSleep = 424; // [!code ++]

	public const int negateFear = 423;

```

[`@@ -82,8 +82,6 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ENC.cs#L82-L89)
```cs:line-numbers=82

	public const int invisibility = 415;

	public const int sustain_STR = 440; // [!code --]
 // [!code --]
	public const int encHit = 414;

	public const int encSpell = 411;
```

[`@@ -96,7 +94,7 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ENC.cs#L96-L102)
```cs:line-numbers=96

	public const int travelSpeed = 407;

	public const int resMutation = 406; // [!code --]
	public const int mod_drill = 606; // [!code ++]

	public const int slowDecay = 405;

```

[`@@ -110,24 +108,20 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ENC.cs#L110-L133)
```cs:line-numbers=110

	public const int negateTeleport = 400;

	public const int slowCorruption = 412; // [!code --]
	public const int sustain_STR = 440; // [!code ++]

	public const int sustain_END = 441;

	public const int negateSleep = 424; // [!code --]
	public const int resMutation = 406; // [!code ++]

	public const int slot_rune = 484;

	public const int mod_ammo_recover = 604; // [!code --]
 // [!code --]
	public const int mod_ammo_knockback = 603; // [!code --]
 // [!code --]
	public const int mod_rapid = 602; // [!code --]
 // [!code --]
	public const int mod_reload = 601;

	public const int mod_ammo = 600;

	public const int mod_ammo_recover = 604; // [!code ++]
 // [!code ++]
	public const int optimizeMana = 483;

	public const int force_weapon = 482;
```

[`@@ -140,40 +134,46 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ENC.cs#L140-L179)
```cs:line-numbers=140

	public const int bane_fish = 467;

	public const int bane_god = 466; // [!code ++]
 // [!code ++]
	public const int bane_machine = 465;

	public const int bane_man = 464; // [!code --]
	public const int mod_rapid = 602; // [!code ++]

	public const int bane_god = 466; // [!code --]
	public const int bane_man = 464; // [!code ++]

	public const int bane_fairy = 462;

	public const int sustain_DEX = 442; // [!code --]
	public const int bane_undead = 461; // [!code ++]

	public const int sustain_PER = 443; // [!code --]
	public const int bane_dragon = 460; // [!code ++]

	public const int sustain_WIL = 445; // [!code --]
	public const int sustain_CHA = 447; // [!code ++]

	public const int sustain_MAG = 446;

	public const int sustain_WIL = 445; // [!code ++]
 // [!code ++]
	public const int sustain_LER = 444;

	public const int bane_dragon = 460; // [!code --]
	public const int sustain_PER = 443; // [!code ++]

	public const int bane_undead = 461; // [!code --]
	public const int sustain_DEX = 442; // [!code ++]

	public const int sustain_CHA = 447; // [!code --]
	public const int bane_animal = 463; // [!code ++]
 // [!code ++]
	public const int mod_ammo_knockback = 603; // [!code ++]

	public static readonly int[] IDS = new int[82]
	{
		652, 651, 650, 641, 640, 621, 620, 623, 622, 653,
		624, 654, 851, 656, 660, 661, 662, 663, 664, 665,
		666, 850, 608, 865, 852, 655, 607, 463, 605, 429, // [!code --]
		428, 427, 426, 425, 606, 423, 422, 421, 420, 416, // [!code --]
		415, 440, 414, 411, 410, 409, 408, 407, 406, 405, // [!code --]
		404, 403, 402, 401, 400, 412, 441, 424, 484, 604, // [!code --]
		603, 602, 601, 600, 483, 482, 481, 480, 468, 467, // [!code --]
		465, 464, 466, 462, 442, 443, 445, 446, 444, 460, // [!code --]
		461, 447 // [!code --]
		666, 850, 608, 865, 852, 655, 607, 412, 605, 429, // [!code ++]
		428, 427, 426, 425, 424, 423, 422, 421, 420, 416, // [!code ++]
		415, 414, 411, 410, 409, 408, 407, 606, 405, 404, // [!code ++]
		403, 402, 401, 400, 440, 441, 406, 484, 601, 600, // [!code ++]
		604, 483, 482, 481, 480, 468, 467, 466, 465, 602, // [!code ++]
		464, 462, 461, 460, 447, 446, 445, 444, 443, 442, // [!code ++]
		463, 603 // [!code ++]
	};
}
```

## ElementContainer

[`@@ -781,7 +781,7 @@ public void AddNote(UINote n, Func<Element, bool> isValid = null, Action onAdd =`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ElementContainer.cs#L781-L787)
```cs:line-numbers=781
			if (e.IsGlobalElement)
			{
				text = text + " " + (e.IsFactionWideElement ? "_factionWide" : "_partyWide").lang();
				if (Card != null && !Card.c_idDeity.IsEmpty() && Card.c_idDeity != EClass.pc.idFaith) // [!code --]
				if (!e.IsActive(Card)) // [!code ++]
				{
					continue;
				}
```

## FACTION

[`@@ -4,31 +4,31 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/FACTION.cs#L4-L34)
```cs:line-numbers=4

public class FACTION
{
	public const int bfSea = 3605; // [!code --]
	public const int bfHill = 3603; // [!code ++]

	public const int bfFertile = 3700; // [!code --]
	public const int bfSnow = 3602; // [!code ++]

	public const int bfHill = 3603; // [!code --]
	public const int bfForest = 3601; // [!code ++]

	public const int bfBeach = 3604; // [!code --]
	public const int bfPlain = 3600; // [!code ++]

	public const int fRation = 2207; // [!code --]
	public const int bfSea = 3605; // [!code ++]

	public const int bfGeyser = 3701; // [!code --]
	public const int bfCave = 3500; // [!code ++]

	public const int bfRuin = 3702; // [!code --]
	public const int bfFertile = 3700; // [!code ++]

	public const int bfSnow = 3602; // [!code --]
	public const int bfGeyser = 3701; // [!code ++]

	public const int bfForest = 3601; // [!code --]
	public const int bfRuin = 3702; // [!code ++]

	public const int bfPlain = 3600; // [!code --]
	public const int bfBeach = 3604; // [!code ++]

	public const int bfCave = 3500; // [!code --]
	public const int fRation = 2207; // [!code ++]

	public const int fAttraction = 2206; // [!code --]
	public const int actBuildRecipe = 4005; // [!code ++]

	public const int fLoyal = 2117; // [!code --]
	public const int fSafety = 2205; // [!code ++]

	public const int fFood = 2204;

```

[`@@ -40,39 +40,35 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/FACTION.cs#L40-L78)
```cs:line-numbers=40

	public const int fSoil = 2200;

	public const int fLuck = 2118; // [!code --]
 // [!code --]
	public const int fConstruction = 2003; // [!code --]
	public const int bfTranquil = 3703; // [!code ++]

	public const int fHeirloom = 2120;

	public const int fTaxEvasion = 2119;

	public const int fAdmin = 2115; // [!code --]
	public const int fLuck = 2118; // [!code ++]

	public const int fEducation = 2116; // [!code --]
	public const int fLoyal = 2117; // [!code ++]

	public const int fSafety = 2205; // [!code --]
	public const int fAttraction = 2206; // [!code ++]

	public const int bfTranquil = 3703; // [!code --]
	public const int bfVolcano = 3704; // [!code ++]

	public const int bfHunt = 3705; // [!code --]
	public const int bfMushroom = 3801; // [!code ++]

	public const int bfFish = 3706;

	public const int actBuildInspect = 4006;

	public const int actBuildRecipe = 4005; // [!code --]
 // [!code --]
	public const int actBuildCollect = 4004; // [!code --]
 // [!code --]
	public const int actBuildAnywhere = 4003;

	public const int actBuildTerrain = 4002;

	public const int fEducation = 2116; // [!code ++]
 // [!code ++]
	public const int actBuildMine = 4001;

	public const int bfVolcano = 3704; // [!code --]
	public const int actBuildCut = 4000; // [!code ++]

	public const int bfStart = 3900;

```

[`@@ -82,40 +78,44 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/FACTION.cs#L82-L121)
```cs:line-numbers=82

	public const int bfGum = 3803;

	public const int actBuildCut = 4000; // [!code --]
 // [!code --]
	public const int bfMushroom = 3801; // [!code --]
	public const int bfHunt = 3705; // [!code ++]

	public const int bfSilica = 3802;

	public const int bfFreshAir = 3708; // [!code --]
	public const int bfCoal = 3800; // [!code ++]

	public const int bfBasin = 3709; // [!code --]
	public const int bfLandmark5 = 3784; // [!code ++]

	public const int bfBreed = 3710; // [!code --]
	public const int bfLandmark4 = 3783; // [!code ++]
 // [!code ++]
	public const int bfLandmark3 = 3782; // [!code ++]
 // [!code ++]
	public const int bfLandmark2 = 3781; // [!code ++]

	public const int bfLandmark1 = 3780;

	public const int bfMonster = 3707; // [!code --]
	public const int bfBreed = 3710; // [!code ++]

	public const int bfLandmark3 = 3782; // [!code --]
	public const int bfBasin = 3709; // [!code ++]

	public const int bfLandmark4 = 3783; // [!code --]
	public const int bfFreshAir = 3708; // [!code ++]

	public const int bfLandmark5 = 3784; // [!code --]
	public const int bfMonster = 3707; // [!code ++]

	public const int bfCoal = 3800; // [!code --]
	public const int actBuildCollect = 4004; // [!code ++]

	public const int bfLandmark2 = 3781; // [!code --]
	public const int fAdmin = 2115; // [!code ++]
 // [!code ++]
	public const int fConstruction = 2003; // [!code ++]

	public static readonly int[] IDS = new int[52]
	{
		3605, 3700, 3603, 3604, 2207, 3701, 3702, 3602, 3601, 3600, // [!code --]
		3500, 2206, 2117, 2204, 2203, 2202, 2201, 2200, 2118, 2003, // [!code --]
		2120, 2119, 2115, 2116, 2205, 3703, 3705, 3706, 4006, 4005, // [!code --]
		4004, 4003, 4002, 4001, 3704, 3900, 3805, 3804, 3803, 4000, // [!code --]
		3801, 3802, 3708, 3709, 3710, 3780, 3707, 3782, 3783, 3784, // [!code --]
		3800, 3781 // [!code --]
		3603, 3602, 3601, 3600, 3605, 3500, 3700, 3701, 3702, 3604, // [!code ++]
		2207, 4005, 2205, 2204, 2203, 2202, 2201, 2200, 3703, 2120, // [!code ++]
		2119, 2118, 2117, 2206, 3704, 3801, 3706, 4006, 4003, 4002, // [!code ++]
		2116, 4001, 4000, 3900, 3805, 3804, 3803, 3705, 3802, 3800, // [!code ++]
		3784, 3783, 3782, 3781, 3780, 3710, 3709, 3708, 3707, 4004, // [!code ++]
		2115, 2003 // [!code ++]
	};
}
public class Faction : EClass
```

[`@@ -511,7 +511,12 @@ public int GetBaseTax(bool evasion)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/FACTION.cs#L511-L517)
```cs:line-numbers=511
	public int GetFameTax(bool evasion)
	{
		int v = EClass.curve(EClass.player.fame * 2, 10000, 2000, 80);
		return EvadeTax(v, evasion); // [!code --]
		v = EvadeTax(v, evasion); // [!code ++]
		if (v < 0) // [!code ++]
		{ // [!code ++]
			v = 50000; // [!code ++]
		} // [!code ++]
		return v; // [!code ++]
	}

	public int EvadeTax(int v, bool evasion)
```

[`@@ -525,7 +530,7 @@ public int EvadeTax(int v, bool evasion)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/FACTION.cs#L525-L531)
```cs:line-numbers=525
		{
			num += child.Evalue(2119);
		}
		return (int)((float)(v * 100) / (100f + Mathf.Sqrt(num * 5))); // [!code --]
		return (int)(long)((float)(v * 100) / (100f + Mathf.Sqrt(num * 5))); // [!code ++]
	}

	public void SetTaxTooltip(UINote n)
```

## FEAT

[`@@ -3,13 +3,33 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/FEAT.cs#L3-L15)
```cs:line-numbers=3

public class FEAT
{
	public const int featSnail = 1211; // [!code ++]
 // [!code ++]
	public const int featFaith = 1636; // [!code ++]
 // [!code ++]
	public const int featMartial = 1635; // [!code ++]
 // [!code ++]
	public const int featNegotiate = 1634; // [!code ++]
 // [!code ++]
	public const int featSpotting = 1633; // [!code ++]
 // [!code ++]
	public const int featEvade = 1632; // [!code ++]
 // [!code ++]
	public const int featDefense = 1631; // [!code ++]
 // [!code ++]
	public const int featHardy = 1630; // [!code ++]
 // [!code ++]
	public const int featSPD = 1629; // [!code ++]
 // [!code ++]
	public const int featLuck = 1628; // [!code ++]
 // [!code ++]
	public const int featCHA = 1627;

	public const int featWIL = 1626;

	public const int featMAG = 1625; // [!code --]
	public const int featAnimalLover = 1640; // [!code ++]

	public const int featLER = 1624; // [!code --]
	public const int featMAG = 1625; // [!code ++]

	public const int featPER = 1623;

```

[`@@ -23,7 +43,7 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/FEAT.cs#L23-L29)
```cs:line-numbers=23

	public const int featMana = 1611;

	public const int featEarthStrength = 1411; // [!code --]
	public const int featLife = 1610; // [!code ++]

	public const int featManaMeat = 1421;

```

[`@@ -33,31 +53,37 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/FEAT.cs#L33-L63)
```cs:line-numbers=33

	public const int featSwordsage = 1418;

	public const int featWitch = 1417; // [!code --]
	public const int featLER = 1624; // [!code ++]

	public const int featInquisitor = 1416; // [!code --]
	public const int featResCurse = 1641; // [!code ++]

	public const int featFoxMaid = 1415; // [!code --]
	public const int featSleeper = 1642; // [!code ++]

	public const int featWhiteVixen = 1414; // [!code --]
	public const int featSorter = 1643; // [!code ++]

	public const int featFairysan = 1413; // [!code --]
	public const int featUndead = 1210; // [!code ++]

	public const int featLuckyCat = 1412; // [!code --]
	public const int featSlowFood = 1200; // [!code ++]

	public const int featLuck = 1628; // [!code --]
	public const int featManaBond = 1201; // [!code ++]

	public const int featLife = 1610; // [!code --]
	public const int featFastLearner = 1202; // [!code ++]

	public const int featSPD = 1629; // [!code --]
	public const int featGrowParts = 1203; // [!code ++]

	public const int featParty = 1645; // [!code --]
	public const int featFairyWeak = 1204; // [!code ++]

	public const int featDefense = 1631; // [!code --]
	public const int featCannibalism = 1205; // [!code ++]

	public const int featReboot = 1410; // [!code --]
	public const int featMelilithCurse = 1206; // [!code ++]

	public const int featManaCost = 1657; // [!code --]
	public const int featFoxBless = 1207; // [!code ++]
 // [!code ++]
	public const int featFoxLearn = 1208; // [!code ++]
 // [!code ++]
	public const int featFluffyTail = 1209; // [!code ++]
 // [!code ++]
	public const int featChef = 1658; // [!code ++]

	public const int featScavenger = 1656;

```

[`@@ -81,53 +107,17 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/FEAT.cs#L81-L133)
```cs:line-numbers=81

	public const int featLonelySoul = 1646;

	public const int featBodyParts = 1644; // [!code --]
 // [!code --]
	public const int featSorter = 1643; // [!code --]
 // [!code --]
	public const int featSleeper = 1642; // [!code --]
 // [!code --]
	public const int featResCurse = 1641; // [!code --]
 // [!code --]
	public const int featAnimalLover = 1640; // [!code --]
 // [!code --]
	public const int featFaith = 1636; // [!code --]
 // [!code --]
	public const int featMartial = 1635; // [!code --]
 // [!code --]
	public const int featNegotiate = 1634; // [!code --]
 // [!code --]
	public const int featSpotting = 1633; // [!code --]
 // [!code --]
	public const int featEvade = 1632; // [!code --]
 // [!code --]
	public const int featHardy = 1630; // [!code --]
 // [!code --]
	public const int featBoost = 1409; // [!code --]
 // [!code --]
	public const int featChef = 1658; // [!code --]
 // [!code --]
	public const int featPaladin = 1407; // [!code --]
 // [!code --]
	public const int featShiva = 1224; // [!code --]
 // [!code --]
	public const int featLoyal = 1225; // [!code --]
 // [!code --]
	public const int featUnderground = 1226; // [!code --]
 // [!code --]
	public const int featServant = 1227; // [!code --]
 // [!code --]
	public const int featDemigod = 1228; // [!code --]
	public const int featParty = 1645; // [!code ++]

	public const int featLittleOne = 1229; // [!code --]
	public const int featBodyParts = 1644; // [!code ++]

	public const int featAdam = 1230; // [!code --]
	public const int featWitch = 1417; // [!code ++]

	public const int featNirvana = 1231; // [!code --]
	public const int featInquisitor = 1416; // [!code ++]

	public const int featCosmicHorror = 1233; // [!code --]
	public const int featManaCost = 1657; // [!code ++]

	public const int featHeavyEater = 1234; // [!code --]
	public const int featWhiteVixen = 1414; // [!code ++]

	public const int featLightEater = 1235;

```

[`@@ -143,49 +133,41 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/FEAT.cs#L143-L191)
```cs:line-numbers=143

	public const int featGod_earth1 = 1305;

	public const int featGod_wind1 = 1310; // [!code --]
 // [!code --]
	public const int featGod_machine1 = 1315;

	public const int featGod_healing1 = 1320;

	public const int featGod_harvest1 = 1325; // [!code --]
 // [!code --]
	public const int featAcidBody = 1223; // [!code --]
 // [!code --]
	public const int featGod_luck1 = 1330; // [!code --]
 // [!code --]
	public const int featSplit = 1222; // [!code --]
	public const int featHeavyEater = 1234; // [!code ++]

	public const int featFate = 1220; // [!code --]
	public const int featGod_harvest1 = 1325; // [!code ++]

	public const int featPaladin2 = 1408; // [!code --]
	public const int featGod_harmony1 = 1335; // [!code ++]

	public const int featSlowFood = 1200; // [!code --]
	public const int featGod_oblivion1 = 1340; // [!code ++]

	public const int featManaBond = 1201; // [!code --]
	public const int featGod_trickery1 = 1345; // [!code ++]

	public const int featFastLearner = 1202; // [!code --]
	public const int featGod_moonshadow1 = 1350; // [!code ++]

	public const int featGrowParts = 1203; // [!code --]
	public const int featGod_strife1 = 1355; // [!code ++]

	public const int featFairyWeak = 1204; // [!code --]
	public const int featWarrior = 1400; // [!code ++]

	public const int featCannibalism = 1205; // [!code --]
	public const int featThief = 1401; // [!code ++]

	public const int featMelilithCurse = 1206; // [!code --]
	public const int featWizard = 1402; // [!code ++]

	public const int featFoxBless = 1207; // [!code --]
	public const int featFarmer = 1403; // [!code ++]

	public const int featFoxLearn = 1208; // [!code --]
	public const int featGod_luck1 = 1330; // [!code ++]

	public const int featFluffyTail = 1209; // [!code --]
	public const int featArcher = 1404; // [!code ++]

	public const int featUndead = 1210; // [!code --]
	public const int featCosmicHorror = 1233; // [!code ++]

	public const int featSnail = 1211; // [!code --]
	public const int featNirvana = 1231; // [!code ++]

	public const int featFairyResist = 1212; // [!code --]
	public const int featFoxMaid = 1415; // [!code ++]

	public const int featElea = 1213;

```

[`@@ -201,48 +183,66 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/FEAT.cs#L201-L248)
```cs:line-numbers=201

	public const int featElderCrab = 1219;

	public const int featFate = 1220; // [!code ++]
 // [!code ++]
	public const int featBaby = 1232; // [!code ++]
 // [!code ++]
	public const int featSpike = 1221;

	public const int featGod_harmony1 = 1335; // [!code --]
	public const int featAcidBody = 1223; // [!code ++]

	public const int featBaby = 1232; // [!code --]
	public const int featFairyResist = 1212; // [!code ++]

	public const int featGod_trickery1 = 1345; // [!code --]
	public const int featShiva = 1224; // [!code ++]

	public const int featGod_oblivion1 = 1340; // [!code --]
	public const int featLoyal = 1225; // [!code ++]

	public const int featGod_moonshadow1 = 1350; // [!code --]
	public const int featUnderground = 1226; // [!code ++]

	public const int featGod_strife1 = 1355; // [!code --]
	public const int featServant = 1227; // [!code ++]

	public const int featWarrior = 1400; // [!code --]
	public const int featDemigod = 1228; // [!code ++]

	public const int featWizard = 1402; // [!code --]
	public const int featLittleOne = 1229; // [!code ++]

	public const int featFarmer = 1403; // [!code --]
	public const int featAdam = 1230; // [!code ++]

	public const int featArcher = 1404; // [!code --]
	public const int featSplit = 1222; // [!code ++]

	public const int featPianist = 1405;

	public const int featThief = 1401; // [!code --]
	public const int featGod_wind1 = 1310; // [!code ++]
 // [!code ++]
	public const int featPaladin = 1407; // [!code ++]

	public const int featTourist = 1406;

	public const int featBoost = 1409; // [!code ++]
 // [!code ++]
	public const int featEarthStrength = 1411; // [!code ++]
 // [!code ++]
	public const int featLuckyCat = 1412; // [!code ++]
 // [!code ++]
	public const int featReboot = 1410; // [!code ++]
 // [!code ++]
	public const int featFairysan = 1413; // [!code ++]
 // [!code ++]
	public const int featPaladin2 = 1408; // [!code ++]
 // [!code ++]
	public static readonly int[] IDS = new int[113]
	{
		1627, 1626, 1625, 1624, 1623, 1622, 1621, 1620, 1612, 1611, // [!code --]
		1411, 1421, 1420, 1419, 1418, 1417, 1416, 1415, 1414, 1413, // [!code --]
		1412, 1628, 1610, 1629, 1645, 1631, 1410, 1657, 1656, 1655, // [!code --]
		1654, 1653, 1652, 1651, 1650, 1649, 1648, 1647, 1646, 1644, // [!code --]
		1643, 1642, 1641, 1640, 1636, 1635, 1634, 1633, 1632, 1630, // [!code --]
		1409, 1658, 1407, 1224, 1225, 1226, 1227, 1228, 1229, 1230, // [!code --]
		1231, 1233, 1234, 1235, 1236, 1237, 1238, 1239, 1300, 1305, // [!code --]
		1310, 1315, 1320, 1325, 1223, 1330, 1222, 1220, 1408, 1200, // [!code --]
		1201, 1202, 1203, 1204, 1205, 1206, 1207, 1208, 1209, 1210, // [!code --]
		1211, 1212, 1213, 1214, 1215, 1216, 1217, 1218, 1219, 1221, // [!code --]
		1335, 1232, 1345, 1340, 1350, 1355, 1400, 1402, 1403, 1404, // [!code --]
		1405, 1401, 1406 // [!code --]
		1211, 1636, 1635, 1634, 1633, 1632, 1631, 1630, 1629, 1628, // [!code ++]
		1627, 1626, 1640, 1625, 1623, 1622, 1621, 1620, 1612, 1611, // [!code ++]
		1610, 1421, 1420, 1419, 1418, 1624, 1641, 1642, 1643, 1210, // [!code ++]
		1200, 1201, 1202, 1203, 1204, 1205, 1206, 1207, 1208, 1209, // [!code ++]
		1658, 1656, 1655, 1654, 1653, 1652, 1651, 1650, 1649, 1648, // [!code ++]
		1647, 1646, 1645, 1644, 1417, 1416, 1657, 1414, 1235, 1236, // [!code ++]
		1237, 1238, 1239, 1300, 1305, 1315, 1320, 1234, 1325, 1335, // [!code ++]
		1340, 1345, 1350, 1355, 1400, 1401, 1402, 1403, 1330, 1404, // [!code ++]
		1233, 1231, 1415, 1213, 1214, 1215, 1216, 1217, 1218, 1219, // [!code ++]
		1220, 1232, 1221, 1223, 1212, 1224, 1225, 1226, 1227, 1228, // [!code ++]
		1229, 1230, 1222, 1405, 1310, 1407, 1406, 1409, 1411, 1412, // [!code ++]
		1410, 1413, 1408 // [!code ++]
	};
}
public class Feat : Element
```

## FOOD

[`@@ -1,22 +1,22 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/FOOD.cs#L1-L22)
```cs:line-numbers=1
public class FOOD
{
	public const int food_CHA = 700; // [!code --]
 // [!code --]
	public const int food_cat = 701; // [!code --]
	public const int gainWeight = 705; // [!code ++]

	public const int food_god = 758; // [!code --]
	public const int food_bug = 704; // [!code ++]

	public const int justcooked = 757; // [!code --]
	public const int food_love = 703; // [!code ++]

	public const int food_poison = 702;

	public const int gainWeight = 705; // [!code --]
	public const int food_cat = 701; // [!code ++]

	public const int food_bug = 704; // [!code --]
	public const int justcooked = 757; // [!code ++]

	public const int food_love = 703; // [!code --]
	public const int food_god = 758; // [!code ++]

	public const int loseWeight = 706;

	public static readonly int[] IDS = new int[9] { 700, 701, 758, 757, 702, 705, 704, 703, 706 }; // [!code --]
	public const int food_CHA = 700; // [!code ++]
 // [!code ++]
	public static readonly int[] IDS = new int[9] { 705, 704, 703, 702, 701, 757, 758, 706, 700 }; // [!code ++]
}
```

## Game

[`@@ -462,6 +462,14 @@ public void OnLoad()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/Game.cs#L462-L467)
```cs:line-numbers=462
		}
	}
	TryAddQuest("into_darkness", "exile_kettle");
	if (version.IsBelow(0, 23, 100)) // [!code ++]
	{ // [!code ++]
		int num = player.recipes.knownRecipes.TryGetValue("trainingDummy_heavy", 0); // [!code ++]
		if (num != 0) // [!code ++]
		{ // [!code ++]
			player.recipes.knownRecipes["trainingDummy_heavy1"] = num; // [!code ++]
		} // [!code ++]
	} // [!code ++]
	if (version.IsBelow(0, 23, 96))
	{
		EClass.game.principal = IO.DeepCopy(EClass.setting.start.principals[0]);
```

## GrowSystem

[`@@ -80,6 +80,8 @@ public int Convert(int tile)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/GrowSystem.cs#L80-L85)
```cs:line-numbers=80

	protected virtual bool CanRegrow => true;

	public virtual bool CanLevelSeed => true; // [!code ++]
 // [!code ++]
	public virtual int ShadowStage => 1;

	public virtual bool IsTree => false;
```

## +GrowSystemDeco

::: details File Created
```cs
public class GrowSystemDeco : GrowSystem
{
	public override bool CanLevelSeed => false;

	protected override bool WitherOnLastStage => false;

	protected override bool UseGenericFirstStageTile => false;

	public override int StageLength => 2;

	public override void OnExceedLastStage()
	{
		SetStage(1);
	}

	public override int GetStageTile()
	{
		return source._tiles[GrowSystem.cell.objDir % source._tiles.Length];
	}
}
```

:::
## HotItemHeld

[`@@ -221,6 +221,10 @@ public override bool TrySetAct(ActPlan p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/HotItemHeld.cs#L221-L226)
```cs:line-numbers=221
	{
		flag = false;
	}
	if (thing.trait is TraitTent && EClass._zone is Zone_Tent) // [!code ++]
	{ // [!code ++]
		flag = false; // [!code ++]
	} // [!code ++]
	Chara tg;
	if (flag)
	{
```

## ItemGeneral

[`@@ -36,7 +36,7 @@ public void SetChara(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/ItemGeneral.cs#L36-L42)
```cs:line-numbers=36
	{
		c2 = FontColor.Good;
	}
	else if (c.hp < c.MaxHP / 2) // [!code --]
	else if (c.hp < c.MaxHP / 2 && c.currentZone == EClass._zone) // [!code ++]
	{
		c2 = FontColor.Warning;
	}
```

## MUTATION

[`@@ -1,32 +1,40 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/MUTATION.cs#L1-L32)
```cs:line-numbers=1
public class MUTATION
{
	public const int mutationRegen = 1516; // [!code --]
	public const int mutationSpeedN = 1519; // [!code ++]

	public const int etherPoisonHand = 1565; // [!code --]
	public const int mutationSpeed = 1518; // [!code ++]

	public const int mutationSkin = 1510; // [!code --]
	public const int mutationRegenN = 1517; // [!code ++]
 // [!code ++]
	public const int mutationRegen = 1516; // [!code ++]

	public const int mutationSkinN = 1511;

	public const int mutationDex = 1514; // [!code ++]
 // [!code ++]
	public const int mutationEye = 1512;

	public const int mutationEyeN = 1513; // [!code --]
	public const int mutationSkin = 1510; // [!code ++]

	public const int mutationDex = 1514; // [!code --]
	public const int mutationStr = 1520; // [!code ++]

	public const int mutationDexN = 1515;

	public const int mutationRegenN = 1517; // [!code --]
	public const int mutationStrN = 1521; // [!code ++]

	public const int etherManaBattery = 1564; // [!code --]
	public const int mutationEyeN = 1513; // [!code ++]

	public const int mutationSpeedN = 1519; // [!code --]
	public const int mutationChaN = 1523; // [!code ++]
 // [!code ++]
	public const int etherPoisonHand = 1565; // [!code ++]
 // [!code ++]
	public const int mutationCha = 1522; // [!code ++]

	public const int etherProvoke = 1563;

	public const int etherArmor = 1562;

	public const int mutationSpeed = 1518; // [!code --]
	public const int etherStupid = 1561; // [!code ++]

	public const int etherWeak = 1560;

```

[`@@ -42,46 +50,38 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/MUTATION.cs#L42-L87)
```cs:line-numbers=42

	public const int etherWing = 1554;

	public const int etherEye = 1553; // [!code --]
 // [!code --]
	public const int etherFeet = 1552; // [!code --]
 // [!code --]
	public const int etherUgly = 1551; // [!code --]
 // [!code --]
	public const int etherStupid = 1561; // [!code --]
 // [!code --]
	public const int mutationStrN = 1521; // [!code --]
 // [!code --]
	public const int mutationStr = 1520; // [!code --]
 // [!code --]
	public const int mutationCha = 1522; // [!code --]
	public const int etherManaBattery = 1564; // [!code ++]

	public const int mutationChaN = 1523; // [!code --]
	public const int etherEye = 1553; // [!code ++]

	public const int mutationBrainN = 1525; // [!code --]
	public const int mutationBrain = 1524; // [!code ++]

	public const int mutationCold = 1526;

	public const int mutationBrain = 1524; // [!code --]
	public const int mutationColdN = 1527; // [!code ++]

	public const int mutationLightning = 1528;

	public const int mutationLightningN = 1529;

	public const int mutationBody = 1530; // [!code --]
	public const int mutationBrainN = 1525; // [!code ++]

	public const int mutationBodyN = 1531;

	public const int mutationColdN = 1527; // [!code --]
 // [!code --]
	public const int etherGravity = 1550;

	public const int etherUgly = 1551; // [!code ++]
 // [!code ++]
	public const int etherFeet = 1552; // [!code ++]
 // [!code ++]
	public const int mutationBody = 1530; // [!code ++]
 // [!code ++]
	public static readonly int[] IDS = new int[38]
	{
		1516, 1565, 1510, 1511, 1512, 1513, 1514, 1515, 1517, 1564, // [!code --]
		1519, 1563, 1562, 1518, 1560, 1559, 1558, 1557, 1556, 1555, // [!code --]
		1554, 1553, 1552, 1551, 1561, 1521, 1520, 1522, 1523, 1525, // [!code --]
		1526, 1524, 1528, 1529, 1530, 1531, 1527, 1550 // [!code --]
		1519, 1518, 1517, 1516, 1511, 1514, 1512, 1510, 1520, 1515, // [!code ++]
		1521, 1513, 1523, 1565, 1522, 1563, 1562, 1561, 1560, 1559, // [!code ++]
		1558, 1557, 1556, 1555, 1554, 1564, 1553, 1524, 1526, 1527, // [!code ++]
		1528, 1529, 1525, 1531, 1550, 1551, 1552, 1530 // [!code ++]
	};
}
public class Mutation : Feat
```

## POLICY

[`@@ -3,29 +3,27 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/POLICY.cs#L3-L31)
```cs:line-numbers=3

public class POLICY
{
	public const int bed_quality = 2812; // [!code --]
 // [!code --]
	public const int platinum_ticket = 2815; // [!code --]
 // [!code --]
	public const int mass_exhibition = 2814; // [!code --]
	public const int store_ripoff = 2816; // [!code ++]

	public const int suite_room = 2813; // [!code --]
	public const int livestock_priv = 2715; // [!code ++]

	public const int forcePanty = 2712; // [!code --]
	public const int home_discount = 2800; // [!code ++]

	public const int open_business = 2810;

	public const int home_discount = 2800; // [!code --]
	public const int tourist_safety = 2811; // [!code ++]

	public const int livestock_priv = 2715; // [!code --]
	public const int bed_quality = 2812; // [!code ++]

	public const int store_ripoff = 2816; // [!code --]
	public const int suite_room = 2813; // [!code ++]

	public const int tourist_safety = 2811; // [!code --]
	public const int mass_exhibition = 2814; // [!code ++]
 // [!code ++]
	public const int platinum_ticket = 2815; // [!code ++]

	public const int store_premium = 2817;

	public const int license_stolen = 2824; // [!code --]
	public const int celeb = 2822; // [!code ++]

	public const int license_furniture = 2819;

```

[`@@ -33,10 +31,12 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/POLICY.cs#L33-L42)
```cs:line-numbers=33

	public const int legendary_heirloom = 2821;

	public const int celeb = 2822; // [!code --]
	public const int forcePanty = 2712; // [!code ++]

	public const int legendary_exhibition = 2823;

	public const int license_stolen = 2824; // [!code ++]
 // [!code ++]
	public const int milk_fan = 2825;

	public const int egg_fan = 2826;
```

[`@@ -49,14 +49,16 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/POLICY.cs#L49-L62)
```cs:line-numbers=49

	public const int incomeTransfer = 2711;

	public const int nocturnal_life = 2508; // [!code --]
	public const int self_sufficient = 2511; // [!code ++]

	public const int noAnimal = 2709;

	public const int prohibition = 2503; // [!code --]
 // [!code --]
	public const int noMother = 2710;

	public const int wealth_tax = 2500; // [!code ++]
 // [!code ++]
	public const int prohibition = 2503; // [!code ++]
 // [!code ++]
	public const int food_for_people = 2502;

	public const int faith_tax = 2501;
```

[`@@ -65,23 +67,21 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/POLICY.cs#L65-L87)
```cs:line-numbers=65

	public const int legal_drug = 2505;

	public const int human_right = 2506; // [!code --]
	public const int inquisition = 2507; // [!code ++]

	public const int wealth_tax = 2500; // [!code --]
	public const int nocturnal_life = 2508; // [!code ++]

	public const int vaccination = 2509;

	public const int ban_radio = 2510;

	public const int self_sufficient = 2511; // [!code --]
 // [!code --]
	public const int resident_tax = 2512;

	public const int inquisition = 2507; // [!code --]
	public const int human_right = 2506; // [!code ++]

	public const int taxfree = 2514;

	public const int noDM = 2708; // [!code --]
	public const int auto_farm = 2707; // [!code ++]

	public const int resident_wanted = 2513;

```

[`@@ -89,7 +89,7 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/POLICY.cs#L89-L95)
```cs:line-numbers=89

	public const int taxTransfer = 2705;

	public const int auto_farm = 2707; // [!code --]
	public const int noDM = 2708; // [!code ++]

	public const int weed_no = 2703;

```

[`@@ -107,11 +107,11 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/POLICY.cs#L107-L117)
```cs:line-numbers=107

	public static readonly int[] IDS = new int[51]
	{
		2812, 2815, 2814, 2813, 2712, 2810, 2800, 2715, 2816, 2811, // [!code --]
		2817, 2824, 2819, 2820, 2821, 2822, 2823, 2825, 2826, 2827, // [!code --]
		2828, 2818, 2711, 2508, 2709, 2503, 2710, 2502, 2501, 2504, // [!code --]
		2505, 2506, 2500, 2509, 2510, 2511, 2512, 2507, 2514, 2708, // [!code --]
		2513, 2706, 2705, 2707, 2703, 2704, 2701, 2700, 2516, 2515, // [!code --]
		2816, 2715, 2800, 2810, 2811, 2812, 2813, 2814, 2815, 2817, // [!code ++]
		2822, 2819, 2820, 2821, 2712, 2823, 2824, 2825, 2826, 2827, // [!code ++]
		2828, 2818, 2711, 2511, 2709, 2710, 2500, 2503, 2502, 2501, // [!code ++]
		2504, 2505, 2507, 2508, 2509, 2510, 2512, 2506, 2514, 2707, // [!code ++]
		2513, 2706, 2705, 2708, 2703, 2704, 2701, 2700, 2516, 2515, // [!code ++]
		2702
	};
}
```

## Point

[`@@ -1181,12 +1181,12 @@ public List<Chara> ListCharasInNeighbor(Func<Chara, bool> func)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/Point.cs#L1181-L1192)
```cs:line-numbers=1181
		return listChara;
	}

	public List<Chara> ListCharasInRadius(Chara cc, int dist, Func<Chara, bool> func) // [!code --]
	public List<Chara> ListCharasInRadius(Chara cc, int dist, Func<Chara, bool> func, bool onlyVisible = true) // [!code ++]
	{
		listChara.Clear();
		foreach (Chara chara in EClass._map.charas)
		{
			if (func(chara) && chara.Dist(cc) < dist && Los.IsVisible(chara, cc)) // [!code --]
			if (func(chara) && chara.Dist(cc) < dist && (!onlyVisible || Los.IsVisible(chara, cc))) // [!code ++]
			{
				listChara.Add(chara);
			}
```

## PostEffectProfile

[`@@ -60,11 +60,13 @@ public void Apply(Camera cam)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/PostEffectProfile.cs#L60-L70)
```cs:line-numbers=60
		{
			EClass.scene.screenElin.tileMap.passChara.mat.EnableKeyword("AA_ON");
			EClass.scene.screenElin.tileMap.passCharaL.mat.EnableKeyword("AA_ON");
			EClass.scene.screenElin.tileMap.passCharaLW.mat.EnableKeyword("AA_ON"); // [!code ++]
		}
		else
		{
			EClass.scene.screenElin.tileMap.passChara.mat.DisableKeyword("AA_ON");
			EClass.scene.screenElin.tileMap.passCharaL.mat.DisableKeyword("AA_ON");
			EClass.scene.screenElin.tileMap.passCharaLW.mat.DisableKeyword("AA_ON"); // [!code ++]
		}
	}
}
```

## SKILL

[`@@ -8,19 +8,21 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/SKILL.cs#L8-L26)
```cs:line-numbers=8

	public const int armorHeavy = 122;

	public const int fireproof = 50; // [!code --]
	public const int armorLight = 120; // [!code ++]

	public const int weaponBlunt = 111; // [!code --]
	public const int acidproof = 51; // [!code ++]

	public const int weaponScythe = 110;

	public const int weaponCrossbow = 109;

	public const int acidproof = 51; // [!code --]
	public const int fireproof = 50; // [!code ++]
 // [!code ++]
	public const int PDR = 55; // [!code ++]

	public const int tactics = 132;

	public const int armorLight = 120; // [!code --]
	public const int weaponBlunt = 111; // [!code ++]

	public const int marksman = 133;

```

[`@@ -42,13 +44,11 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/SKILL.cs#L42-L54)
```cs:line-numbers=42

	public const int parasite = 227;

	public const int eyeofmind = 134; // [!code --]
 // [!code --]
	public const int PDR = 55; // [!code --]
	public const int lumberjack = 225; // [!code ++]

	public const int mining = 220;

	public const int spotting = 210; // [!code --]
	public const int fishing = 245; // [!code ++]

	public const int weightlifting = 207;

```

[`@@ -60,15 +60,15 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/SKILL.cs#L60-L74)
```cs:line-numbers=60

	public const int evasion = 150;

	public const int lumberjack = 225; // [!code --]
	public const int eyeofmind = 134; // [!code ++]

	public const int EDR = 56;

	public const int weaponSword = 101;

	public const int life = 60; // [!code --]
	public const int throwing = 108; // [!code ++]

	public const int fishing = 245; // [!code --]
	public const int life = 60; // [!code ++]

	public const int mana = 61;

```

[`@@ -114,6 +114,8 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/SKILL.cs#L114-L119)
```cs:line-numbers=114

	public const int antiMagic = 93;

	public const int martial = 100; // [!code ++]
 // [!code ++]
	public const int weaponAxe = 102;

	public const int weaponStaff = 103;
```

[`@@ -126,13 +128,11 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/SKILL.cs#L126-L138)
```cs:line-numbers=126

	public const int weaponDagger = 107;

	public const int throwing = 108; // [!code --]
 // [!code --]
	public const int CHA = 77;

	public const int gathering = 250;

	public const int martial = 100; // [!code --]
	public const int spotting = 210; // [!code ++]

	public const int blacksmith = 256;

```

[`@@ -268,13 +268,13 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/SKILL.cs#L268-L280)
```cs:line-numbers=268

	public static readonly int[] IDS = new int[133]
	{
		131, 130, 123, 122, 50, 111, 110, 109, 51, 132, // [!code --]
		120, 133, 226, 135, 242, 241, 240, 237, 235, 230, // [!code --]
		227, 134, 55, 220, 210, 207, 200, 152, 151, 150, // [!code --]
		225, 56, 101, 60, 245, 61, 62, 64, 65, 66, // [!code --]
		131, 130, 123, 122, 120, 51, 110, 109, 50, 55, // [!code ++]
		132, 111, 133, 226, 135, 242, 241, 240, 237, 235, // [!code ++]
		230, 227, 225, 220, 245, 207, 200, 152, 151, 150, // [!code ++]
		134, 56, 101, 108, 60, 61, 62, 64, 65, 66, // [!code ++]
		67, 68, 70, 71, 72, 73, 74, 75, 57, 76,
		78, 79, 80, 90, 91, 92, 93, 102, 103, 104, // [!code --]
		105, 106, 107, 108, 77, 250, 100, 256, 916, 917, // [!code --]
		78, 79, 80, 90, 91, 92, 93, 100, 102, 103, // [!code ++]
		104, 105, 106, 107, 77, 250, 210, 256, 916, 917, // [!code ++]
		918, 919, 920, 921, 922, 923, 924, 925, 926, 950,
		951, 952, 915, 953, 955, 956, 957, 958, 959, 960,
		961, 962, 963, 964, 965, 970, 972, 255, 954, 914,
```

## TCOrbitChara

[`@@ -132,7 +132,7 @@ public void RefreshAll()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/TCOrbitChara.cs#L132-L138)
```cs:line-numbers=132
	showHP = num < 0.9f && (owner.IsPCParty || owner.IsHostile() || (owner.enemy != null && owner.enemy.IsPCParty));
	if (showHP)
	{
		barHP.transform.SetLocalScaleX(num); // [!code --]
		barHP.transform.SetLocalScaleX(Mathf.Max(0f, num)); // [!code ++]
		barHP.SetActive(enable: true);
		bgHP.SetActive(enable: true);
	}
```

[`@@ -147,7 +147,7 @@ public void RefreshAll()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/TCOrbitChara.cs#L147-L153)
```cs:line-numbers=147
		showHP2 = num2 < 0.9f;
		if (showHP2)
		{
			barHP2.transform.SetLocalScaleX(num2); // [!code --]
			barHP2.transform.SetLocalScaleX(Mathf.Max(0f, num2)); // [!code ++]
			barHP2.SetActive(enable: true);
			bgHP2.SetActive(enable: true);
		}
```

## TextureManager

[`@@ -43,6 +43,7 @@ public void Init()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/TextureManager.cs#L43-L48)
```cs:line-numbers=43
	Add(tileMap.passAutoTileWater, textureData.floor);
	Add(tileMap.passFloorMarker, textureData.floor);
	Add(tileMap.passCharaL, textureData.objs_C);
	Add(tileMap.passCharaLW, textureData.objs_C); // [!code ++]
	Add(tileMap.passIcon, textureData.objs_S);
	AddList(textureData.world, "world.png");
	AddList(textureData.bird, "bird1.png");
```

## Thing

[`@@ -1032,7 +1032,7 @@ public override void WriteNote(UINote n, Action<UINote> onWriteNote = null, IIns`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/Thing.cs#L1032-L1038)
```cs:line-numbers=1032
	}
	if (base.isDyed)
	{
		AddText("isDyed".lang(), FontColor.Default); // [!code --]
		AddText("isDyed".lang(base.DyeMat.GetName() ?? ""), FontColor.Default); // [!code ++]
	}
	if (base.IsEquipment)
	{
```

## TraitDrink

[`@@ -28,6 +28,8 @@ public virtual int IdEle`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/TraitDrink.cs#L28-L33)
```cs:line-numbers=28
		}
	}

	public virtual SourceElement.Row source => null; // [!code ++]
 // [!code ++]
	public virtual string AliasEle => N1;

	public virtual string N1 => GetParam(3);
```

[`@@ -153,7 +155,8 @@ public override void OnDrink(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/TraitDrink.cs#L153-L159)
```cs:line-numbers=153
		{
			n1 = N1,
			isPerfume = (this is TraitPerfume),
			refThing = owner.Thing // [!code --]
			refThing = owner.Thing, // [!code ++]
			act = ((source != null) ? ACT.Create(source) : null) // [!code ++]
		});
	}

```

## TraitPerfume

[`@@ -8,7 +8,7 @@ public class TraitPerfume : TraitPotionRandom`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/TraitPerfume.cs#L8-L14)
```cs:line-numbers=8

	public override int GetValue()
	{
		return base.source.value * 1200 / 100; // [!code --]
		return source.value * 1200 / 100; // [!code ++]
	}

	public override void OnCreate(int lv)
```

[`@@ -18,6 +18,6 @@ public override void OnCreate(int lv)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/TraitPerfume.cs#L18-L23)
```cs:line-numbers=18

	public override string GetName()
	{
		return Lang.TryGet("perfume_" + base.source.alias) ?? "perfume_".lang(base.source.GetName().ToLower()); // [!code --]
		return Lang.TryGet("perfume_" + source.alias) ?? "perfume_".lang(source.GetName().ToLower()); // [!code ++]
	}
}
```

## TraitPlamoBox

[`@@ -15,7 +15,7 @@ public override bool OnUse(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/TraitPlamoBox.cs#L15-L21)
```cs:line-numbers=15
		return false;
	}
	EClass.pc.Say("openDoor", EClass.pc, owner);
	Thing thing = ThingGen.Create("plamo"); // [!code --]
	Thing thing = ThingGen.Create((EClass.rnd(5) == 0) ? "plamo_stand" : ((EClass.rnd(4) == 0) ? "plamo_bird" : "plamo")); // [!code ++]
	thing.DyeRandom();
	EClass.pc.Pick(thing);
	owner.ModNum(-1);
```

## TraitPotionRandom

[`@@ -6,7 +6,7 @@ public class TraitPotionRandom : TraitPotion`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/TraitPotionRandom.cs#L6-L12)
```cs:line-numbers=6
		lvMod = 10
	};

	public SourceElement.Row source => EClass.sources.elements.map[owner.refVal]; // [!code --]
	public override SourceElement.Row source => EClass.sources.elements.map[owner.refVal]; // [!code ++]

	public override string AliasEle => source.aliasRef;

```

## +TraitRogue

::: details File Created
```cs
public class TraitRogue : TraitCitizen
{
}
```

:::
## TraitSeed

[`@@ -50,6 +50,10 @@ public override void WriteNote(UINote n, bool identified)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/TraitSeed.cs#L50-L55)
```cs:line-numbers=50
		{
			n.AddText("isNeedSun");
		}
		if (row.growth == null || !row.growth.CanLevelSeed) // [!code ++]
		{ // [!code ++]
			n.AddText("isDecoSeed", FontColor.Warning); // [!code ++]
		} // [!code ++]
	}

	public void TrySprout(bool force = false, bool sucker = false, VirtualDate date = null)
```

[`@@ -57,7 +61,7 @@ public void TrySprout(bool force = false, bool sucker = false, VirtualDate date`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/TraitSeed.cs#L57-L63)
```cs:line-numbers=57
	Point pos = owner.pos;
	if (!pos.HasObj && pos.cell.CanGrow(row, date ?? new VirtualDate()))
	{
		pos.SetObj(row.id); // [!code --]
		pos.SetObj(row.id, 1, owner.dir); // [!code ++]
		EClass._map.AddPlant(pos, owner.Thing);
		if (sucker)
		{
```

[`@@ -79,7 +83,7 @@ public static Thing MakeSeed(SourceObj.Row obj, PlantData plant = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/TraitSeed.cs#L79-L85)
```cs:line-numbers=79
	}
	Thing thing2 = ThingGen.Create("seed");
	ApplySeed(thing2, obj.id);
	if (thing != null) // [!code --]
	if (thing != null && obj.growth != null && obj.growth.CanLevelSeed) // [!code ++]
	{
		foreach (Element value in thing.elements.dict.Values)
		{
```

[`@@ -124,6 +128,10 @@ public static Thing MakeSeed(SourceObj.Row obj, PlantData plant = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/TraitSeed.cs#L124-L129)
```cs:line-numbers=124

	public static void LevelSeed(Thing t, SourceObj.Row obj, int num)
	{
		if (obj == null || obj.growth == null || !obj.growth.CanLevelSeed) // [!code ++]
		{ // [!code ++]
			return; // [!code ++]
		} // [!code ++]
		for (int i = 0; i < num; i++)
		{
			if (obj == null || obj.objType == "crop")
```

## UIInventory

[`@@ -333,7 +333,7 @@ public void SwitchTab(Tab tab)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/UIInventory.cs#L333-L339)
```cs:line-numbers=333
	}
	if ((bool)layer.uiCurrency)
	{
		tab.owner.BuildUICurrency(layer.uiCurrency, tab.owner.owner.trait.CostRerollShop != 0); // [!code --]
		tab.owner.BuildUICurrency(layer.uiCurrency, tab.owner.owner.trait.CostRerollShop != 0 || EMono.debug.enable); // [!code ++]
	}
	layer.TryShowHint("h_inv" + tab.mode);
	if ((bool)headerRow)
```

## Zone

[`@@ -2583,6 +2583,8 @@ public Chara SpawnMob(Point pos = null, SpawnSetting setting = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/Zone.cs#L2583-L2588)
```cs:line-numbers=2583
		num = ((dangerLv - 1) % 50 + 5) * 150 / 100;
	}
	CardRow cardRow = (setting.id.IsEmpty() ? spawnList.Select(num, setting.levelRange) : EClass.sources.cards.map[setting.id]);
	Debug.Log(cardRow); // [!code ++]
	Debug.Log(cardRow.id); // [!code ++]
	int num2 = ((setting.fixedLv == -1) ? cardRow.LV : setting.fixedLv);
	if (ScaleMonsterLevel)
	{
```

## Zone_RandomDungeon

[`@@ -10,17 +10,7 @@ public class Zone_RandomDungeon : Zone_Dungeon`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/1d5cab4aa24a0a1c7eeac0b12099cb229575d4a1/Elin/Zone_RandomDungeon.cs#L10-L26)
```cs:line-numbers=10

	public override int MinLv => LvBoss;

	public override bool ScaleMonsterLevel // [!code --]
	{ // [!code --]
		get // [!code --]
		{ // [!code --]
			if (!EClass.player.flags.KilledBossInVoid || DangerLv < 50) // [!code --]
			{ // [!code --]
				return DangerLv >= 200; // [!code --]
			} // [!code --]
			return true; // [!code --]
		} // [!code --]
	} // [!code --]
	public override bool ScaleMonsterLevel => DangerLv >= 200; // [!code ++]

	public override string IDPlayList
	{
```
