---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 36 files modified. 1 new file created.
version: EA 23.117 Patch 1
changes: ActEffect/ActMelee/+ActSword/AttackSource/BaseTileMap/Card/Chara/ConStrife/CoreDebug/ELEMENT/ENC/EffectId/FACTION/FEAT/FOOD/MUTATION/POLICY/Player/QuestDebt/RenderRow/SKILL/SLOT/SPELL/SourceElement/ThingGen/Trait/TraitBaseSpellbook/TraitDemitas/TraitDrink/TraitPotion/TraitPotionRandom/TraitRod/TraitRodRandom/TraitSalesTag/TraitScroll/TraitSpellbook/TraitWrench
---

# EA 23.117 Patch 1

March 31, 2025

36 files modified. 1 new file created.

## Important Changes

Possible breaking changes. Click the filename to view the chunk.
### [Card (1)](#card)
```cs:no-line-numbers
public void SetHidden(bool hide = true) // [!code --]
public Card SetHidden(bool hide = true) // [!code ++]
```
### [ThingGen (2)](#thinggen)
```cs:no-line-numbers
public static Thing CreateSkillbook(int ele, int num = 1) // [!code --]
public static Thing CreateSpellbook(int ele, int num = 1) // [!code ++]
```
```cs:no-line-numbers
public static Thing CreateSpellbook(int ele, int num = 1) // [!code --]
public static Thing CreateSkillbook(int ele, int num = 1) // [!code ++]
```
## ActEffect

[`@@ -60,6 +60,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActEffect.cs#L60-L65)
```cs:line-numbers=60
	foreach (Point p in points)
	{
		bool flag2 = true;
		AttackSource attackSource = AttackSource.None; // [!code ++]
		switch (id)
		{
		case EffectId.Explosive:
```

[`@@ -191,13 +192,17 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActEffect.cs#L191-L203)
```cs:line-numbers=191
			{
				continue;
			}
			if ((uint)(id - 250) <= 1u && c.isChara && CC.isChara) // [!code --]
			if (((uint)(id - 250) <= 1u || id == EffectId.Sword) && c.isChara && CC.isChara) // [!code ++]
			{
				c.Chara.RequestProtection(CC.Chara, delegate(Chara a)
				{
					c = a;
				});
			}
			if (id == EffectId.Sword) // [!code ++]
			{ // [!code ++]
				attackSource = AttackSource.MagicSword; // [!code ++]
			} // [!code ++]
			int num4 = 0;
			bool isChara = CC.isChara;
			if (id == EffectId.Suicide)
```

[`@@ -217,8 +222,9 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActEffect.cs#L217-L224)
```cs:line-numbers=217
					Debug.Log(text2);
				}
				num4 = dice.Roll();
				if (id == EffectId.Earthquake) // [!code --]
				switch (id) // [!code ++]
				{
				case EffectId.Earthquake: // [!code ++]
					if (c.HasCondition<ConGravity>())
					{
						num4 = dice.RollMax() * 2;
```

[`@@ -227,12 +233,21 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActEffect.cs#L227-L238)
```cs:line-numbers=227
					{
						num4 /= 2;
					}
					break; // [!code ++]
				case EffectId.Sword: // [!code ++]
					num4 = num4 * (int)Mathf.Min(70f + Mathf.Sqrt(CC.Evalue(101)) * 3f, 200f) / 100; // [!code ++]
					break; // [!code ++]
				}
				if (id == EffectId.Ball || id == EffectId.BallBubble || id == EffectId.Explosive)
				{
					num4 = num4 * 100 / (90 + point.Distance(p) * 10);
				}
			}
			if (id == EffectId.Sword) // [!code ++]
			{ // [!code ++]
				c.PlaySound("ab_magicsword"); // [!code ++]
				c.PlayEffect("hit_slash"); // [!code ++]
			} // [!code ++]
			if ((actref.noFriendlyFire && !CC.Chara.IsHostile(c as Chara)) || (flag && c == CC))
			{
				continue;
```

[`@@ -306,7 +321,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActEffect.cs#L306-L312)
```cs:line-numbers=306
				num4 = num4 * 100 / (100 + RapidCount * 50);
			}
			num4 = num4 * Act.powerMod / 100;
			c.DamageHP(num4, e.id, power * num / 100, AttackSource.None, chara ?? CC); // [!code --]
			c.DamageHP(num4, e.id, power * num / 100, attackSource, chara ?? CC); // [!code ++]
			if (c.IsAliveInCurrentZone && CC.IsAliveInCurrentZone && id == EffectId.DrainMana && c.isChara && CC.isChara && c.Chara.mana.value > 0)
			{
				int num6 = num4 * num / 100;
```

[`@@ -408,10 +423,10 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActEffect.cs#L408-L417)
```cs:line-numbers=408
	{
	case EffectId.Earthquake:
	{
		List<Point> list4 = EClass._map.ListPointsInCircle(CC.pos, 12f, mustBeWalkable: false); // [!code --]
		if (list4.Count == 0) // [!code --]
		List<Point> list3 = EClass._map.ListPointsInCircle(CC.pos, 12f, mustBeWalkable: false); // [!code ++]
		if (list3.Count == 0) // [!code ++]
		{
			list4.Add(CC.pos.Copy()); // [!code --]
			list3.Add(CC.pos.Copy()); // [!code ++]
		}
		CC.Say("spell_earthquake", CC, element.Name.ToLower());
		TryDelay(delegate
```

[`@@ -423,7 +438,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActEffect.cs#L423-L429)
```cs:line-numbers=423
			Shaker.ShakeCam("ball");
		}
		EClass.Wait(1f, CC);
		DamageEle(CC, id, power, element, list4, actRef, "spell_earthquake"); // [!code --]
		DamageEle(CC, id, power, element, list3, actRef, "spell_earthquake"); // [!code ++]
		break;
	}
	case EffectId.Meteor:
```

[`@@ -431,10 +446,10 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActEffect.cs#L431-L440)
```cs:line-numbers=431
		EffectMeteor.Create(cc.pos, 6, 10, delegate
		{
		});
		List<Point> list3 = EClass._map.ListPointsInCircle(CC.pos, 10f); // [!code --]
		if (list3.Count == 0) // [!code --]
		List<Point> list4 = EClass._map.ListPointsInCircle(CC.pos, 10f); // [!code ++]
		if (list4.Count == 0) // [!code ++]
		{
			list3.Add(CC.pos.Copy()); // [!code --]
			list4.Add(CC.pos.Copy()); // [!code ++]
		}
		CC.Say("spell_ball", CC, element.Name.ToLower());
		TryDelay(delegate
```

[`@@ -446,12 +461,13 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActEffect.cs#L446-L457)
```cs:line-numbers=446
			Shaker.ShakeCam("ball");
		}
		EClass.Wait(1f, CC);
		DamageEle(CC, id, power, element, list3, actRef, "spell_ball"); // [!code --]
		DamageEle(CC, id, power, element, list4, actRef, "spell_ball"); // [!code ++]
		return;
	}
	case EffectId.Hand:
	case EffectId.DrainBlood:
	case EffectId.DrainMana:
	case EffectId.Sword: // [!code ++]
	{
		List<Point> list5 = new List<Point>();
		list5.Add(tp.Copy());
```

[`@@ -460,7 +476,25 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActEffect.cs#L460-L466)
```cs:line-numbers=460
		{
			CC.PlaySound("spell_hand");
		});
		if (!DamageEle(CC, id, power, element, list5, actRef, (id == EffectId.DrainBlood || id == EffectId.DrainMana) ? "" : "spell_hand")) // [!code --]
		Chara cC = CC; // [!code ++]
		EffectId id3 = id; // [!code ++]
		Element e = element; // [!code ++]
		ActRef actref = actRef; // [!code ++]
		object lang; // [!code ++]
		switch (id) // [!code ++]
		{ // [!code ++]
		default: // [!code ++]
			lang = "spell_hand"; // [!code ++]
			break; // [!code ++]
		case EffectId.Sword: // [!code ++]
			lang = "spell_sword"; // [!code ++]
			break; // [!code ++]
		case EffectId.DrainBlood: // [!code ++]
		case EffectId.DrainMana: // [!code ++]
			lang = ""; // [!code ++]
			break; // [!code ++]
		} // [!code ++]
		if (!DamageEle(cC, id3, power, e, list5, actref, (string)lang)) // [!code ++]
		{
			CC.Say("spell_hand_miss", CC, element.Name.ToLower());
		}
```

[`@@ -487,7 +521,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActEffect.cs#L487-L493)
```cs:line-numbers=487
			CC.Say("summon_ally_fail", CC);
			return;
		}
		string id3 = actRef.n1; // [!code --]
		string id4 = actRef.n1; // [!code ++]
		int num3 = 1;
		int num4 = -1;
		int radius = 3;
```

[`@@ -504,7 +538,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActEffect.cs#L504-L510)
```cs:line-numbers=504
			num3 = 1 + EClass.rnd(2);
			break;
		case "special_force":
			id3 = "army_palmia"; // [!code --]
			id4 = "army_palmia"; // [!code ++]
			num3 = 4 + EClass.rnd(2);
			num5 = EClass._zone.DangerLv;
			break;
```

[`@@ -540,7 +574,7 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActEffect.cs#L540-L546)
```cs:line-numbers=540
				"monster" => CharaGen.CreateFromFilter("c_dungeon", power / 10), 
				"animal" => CharaGen.CreateFromFilter("c_animal", power / 15), 
				"fire" => CharaGen.CreateFromElement("Fire", power / 10), 
				_ => CharaGen.Create(id3, power / 10),  // [!code --]
				_ => CharaGen.Create(id4, power / 10),  // [!code ++]
			};
			if (chara2 == null)
			{
```

## ActMelee

[`@@ -286,6 +286,8 @@ void Attack(Card _tc, Point _tp, float mtp, bool subAttack)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ActMelee.cs#L286-L291)
```cs:line-numbers=286
					break;
				}
			}
			Act.TC = _tc; // [!code ++]
			Act.TP = _tp; // [!code ++]
			if (w != null && w.c_ammo > 0 && !Act.CC.HasCondition<ConReload>())
			{
				bool flag2 = true;
```

## +ActSword

::: details File Created
```cs
public class ActSword : ActHand
{
}
```

:::
## AttackSource

[`@@ -18,5 +18,6 @@ public enum AttackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/AttackSource.cs#L18-L22)
```cs:line-numbers=18
	Wrath,
	ManaBackfire,
	DeathSentense,
	Shockwave // [!code --]
	Shockwave, // [!code ++]
	MagicSword // [!code ++]
}
```

## BaseTileMap

[`@@ -1660,17 +1660,24 @@ public virtual void DrawTile()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/BaseTileMap.cs#L1660-L1676)
```cs:line-numbers=1660
			else
			{
				param.liquidLv = liquidLv;
				if (chara.Pref.Float && liquidLv > 0 && !hasBridge && !flag) // [!code --]
				{ // [!code --]
					float num16 = ((this.cell._bridge != 0) ? sourceBridge.tileType.FloorHeight : sourceFloor.tileType.FloorHeight); // [!code --]
					orgY += 0.01f * floatY - num16; // [!code --]
					_actorPos.y += 0.01f * floatY - num16; // [!code --]
					int num17 = TileType.FloorWaterShallow.LiquidLV * 10; // [!code --]
					num17 -= (int)(floatY * 0.5f); // [!code --]
					param.liquidLv = num17; // [!code --]
				} // [!code --]
				if (param.liquidLv > 0) // [!code --]
				if (liquidLv > 0) // [!code ++]
				{
					if (chara.Pref.Float && !flag && !hasBridge) // [!code ++]
					{ // [!code ++]
						if (liquidLv > 20) // [!code ++]
						{ // [!code ++]
							float num16 = ((this.cell._bridge != 0) ? sourceBridge.tileType.FloorHeight : sourceFloor.tileType.FloorHeight); // [!code ++]
							orgY += 0.01f * floatY - num16; // [!code ++]
							_actorPos.y += 0.01f * floatY - num16; // [!code ++]
							int num17 = TileType.FloorWaterShallow.LiquidLV * 10; // [!code ++]
							num17 -= (int)(floatY * 0.5f); // [!code ++]
							param.liquidLv = num17; // [!code ++]
						} // [!code ++]
						else // [!code ++]
						{ // [!code ++]
							param.liquidLv -= 20; // [!code ++]
						} // [!code ++]
					} // [!code ++]
					param.liquidLv += chara.Pref.liquidMod;
					if (param.liquidLv < 1)
					{
```

## Card

[`@@ -3059,11 +3059,11 @@ public void RemoveThings()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L3059-L3069)
```cs:line-numbers=3059

	public void RemoveThing(Thing thing)
	{
		if ((GetRootCard() as Chara)?.held == thing) // [!code --]
		Card rootCard = GetRootCard(); // [!code ++]
		if (rootCard != null && rootCard.isChara && (rootCard.Chara.held == thing || (rootCard.IsPC && thing.things.Find((Thing t) => EClass.pc.held == t) != null))) // [!code ++]
		{
			Chara obj = GetRootCard() as Chara; // [!code --]
			obj.held = null; // [!code --]
			if (obj.IsPC) // [!code --]
			rootCard.Chara.held = null; // [!code ++]
			if (rootCard.IsPC) // [!code ++]
			{
				WidgetCurrentTool instance = WidgetCurrentTool.Instance;
				if ((bool)instance && instance.selected != -1 && instance.selectedButton.card != null && instance.selectedButton.card == thing)
```

[`@@ -3761,7 +3761,12 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L3761-L3767)
```cs:line-numbers=3761
		}
		if (!e.source.aliasRef.IsEmpty() && attackSource != AttackSource.ManaBackfire)
		{
			dmg = Element.GetResistDamage(dmg, Evalue(e.source.aliasRef), (origin != null) ? origin.Evalue(1238) : 0); // [!code --]
			int num = ((origin != null) ? origin.Evalue(1238) : 0); // [!code ++]
			if (attackSource == AttackSource.MagicSword) // [!code ++]
			{ // [!code ++]
				num += 2; // [!code ++]
			} // [!code ++]
			dmg = Element.GetResistDamage(dmg, Evalue(e.source.aliasRef), num); // [!code ++]
			dmg = dmg * 100 / (100 + Mathf.Clamp(Evalue(961) * 5, -50, 200));
			dmg = dmg * Mathf.Max(100 - Evalue(93), 10) / 100;
		}
```

[`@@ -3799,10 +3804,10 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L3799-L3808)
```cs:line-numbers=3799
		}
		if (EClass.game.principal.enableDamageReduction && IsPCFaction)
		{
			int num = ((origin != null) ? origin.LV : EClass._zone.DangerLv); // [!code --]
			if (num > 50) // [!code --]
			int num2 = ((origin != null) ? origin.LV : EClass._zone.DangerLv); // [!code ++]
			if (num2 > 50) // [!code ++]
			{
				dmg = dmg * (100 - (int)Mathf.Min(95f, Mathf.Sqrt(num - 50))) / 100; // [!code --]
				dmg = dmg * (100 - (int)Mathf.Min(95f, Mathf.Sqrt(num2 - 50))) / 100; // [!code ++]
			}
		}
		dmg = dmg * Mathf.Max(0, 100 - Evalue((e == Element.Void || e.id == 926) ? 55 : 56)) / 100;
```

[`@@ -3824,26 +3829,26 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L3824-L3849)
```cs:line-numbers=3824
		}
		if (EClass.pc.HasElement(1207) && isChara)
		{
			int num2 = 0; // [!code --]
			int num3 = 0;
			int num4 = 0; // [!code ++]
			foreach (Condition condition2 in Chara.conditions)
			{
				if (condition2.Type == ConditionType.Buff)
				{
					num2++; // [!code --]
					num3++; // [!code ++]
				}
				else if (condition2.Type == ConditionType.Debuff)
				{
					num3++; // [!code --]
					num4++; // [!code ++]
				}
			}
			if (IsPCParty)
			{
				dmg = dmg * 100 / Mathf.Min(100 + num2 * 5, 120); // [!code --]
				dmg = dmg * 100 / Mathf.Min(100 + num3 * 5, 120); // [!code ++]
			}
			else
			{
				dmg = dmg * Mathf.Min(100 + num3 * 5, 120) / 100; // [!code --]
				dmg = dmg * Mathf.Min(100 + num4 * 5, 120) / 100; // [!code ++]
			}
		}
		if (IsPCParty && EClass.pc.ai is GoalAutoCombat)
```

[`@@ -3860,10 +3865,10 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L3860-L3869)
```cs:line-numbers=3860
		}
		if (dmg >= MaxHP / 10 && Evalue(68) > 0)
		{
			int num4 = MaxHP / 10; // [!code --]
			int num5 = dmg - num4; // [!code --]
			num5 = num5 * 100 / (200 + Evalue(68) * 10); // [!code --]
			dmg = num4 + num5; // [!code --]
			int num5 = MaxHP / 10; // [!code ++]
			int num6 = dmg - num5; // [!code ++]
			num6 = num6 * 100 / (200 + Evalue(68) * 10); // [!code ++]
			dmg = num5 + num6; // [!code ++]
		}
	}
	if (origin != null && origin.IsPC && EClass.pc.Evalue(654) > 0)
```

[`@@ -3874,19 +3879,19 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L3874-L3892)
```cs:line-numbers=3874
	{
		dmg = 0;
	}
	int num6 = Mathf.Clamp(dmg * 6 / MaxHP, 0, 4) + ((dmg > 0) ? 1 : 0); // [!code --]
	int num7 = Mathf.Clamp(dmg * 6 / MaxHP, 0, 4) + ((dmg > 0) ? 1 : 0); // [!code ++]
	if (Evalue(1421) > 0)
	{
		int num7 = 0; // [!code --]
		int num8 = dmg; // [!code --]
		int num8 = 0; // [!code ++]
		int num9 = dmg; // [!code ++]
		if (hp > 0)
		{
			num8 = dmg - hp; // [!code --]
			num9 = dmg - hp; // [!code ++]
			hp -= dmg;
			num7 += dmg; // [!code --]
			num8 += dmg; // [!code ++]
			if (hp < 0 && Chara.mana.value >= 0)
			{
				num7 += hp; // [!code --]
				num8 += hp; // [!code ++]
				hp = 0;
			}
		}
```

[`@@ -3894,22 +3899,22 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L3894-L3915)
```cs:line-numbers=3894
		{
			if (Evalue(1421) >= 2)
			{
				num8 /= 2; // [!code --]
				num9 /= 2; // [!code ++]
			}
			dmg = num8; // [!code --]
			dmg = num9; // [!code ++]
			if (Chara.mana.value > 0)
			{
				num8 -= Chara.mana.value; // [!code --]
				num9 -= Chara.mana.value; // [!code ++]
				Chara.mana.value -= dmg;
				num7 += dmg; // [!code --]
				num8 += dmg; // [!code ++]
			}
			if (Chara.mana.value <= 0)
			{
				hp -= num8; // [!code --]
				num7 += num8; // [!code --]
				hp -= num9; // [!code ++]
				num8 += num9; // [!code ++]
			}
		}
		dmg = num7; // [!code --]
		dmg = num8; // [!code ++]
	}
	else
	{
```

[`@@ -3929,9 +3934,9 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L3929-L3937)
```cs:line-numbers=3929
				if (e != Element.Void)
				{
					c2 = EClass.Colors.elementColors.TryGetValue(e.source.alias);
					float num15 = (c2.r + c2.g + c2.b) / 3f; // [!code --]
					num15 = ((num15 > 0.5f) ? 0f : (0.6f - num15)); // [!code --]
					c2 = new Color(c2.r + num15, c2.g + num15, c2.b + num15, 1f); // [!code --]
					float num16 = (c2.r + c2.g + c2.b) / 3f; // [!code ++]
					num16 = ((num16 > 0.5f) ? 0f : (0.6f - num16)); // [!code ++]
					c2 = new Color(c2.r + num16, c2.g + num16, c2.b + num16, 1f); // [!code ++]
				}
				popper.SetText(dmg.ToString() ?? "", c2);
			}
```

[`@@ -3999,7 +4004,7 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L3999-L4005)
```cs:line-numbers=3999
					if (EClass.player.invlunerable)
					{
						EvadeDeath();
						goto IL_0b19; // [!code --]
						goto IL_0b2d; // [!code ++]
					}
				}
				if (IsPC && Evalue(1220) > 0 && Chara.stamina.value >= Chara.stamina.max / 2)
```

[`@@ -4011,8 +4016,8 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L4011-L4018)
```cs:line-numbers=4011
			}
		}
	}
	goto IL_0b19; // [!code --]
	IL_0b19: // [!code --]
	goto IL_0b2d; // [!code ++]
	IL_0b2d: // [!code ++]
	if (trait.CanBeAttacked)
	{
		renderer.PlayAnime(AnimeID.HitObj);
```

[`@@ -4115,13 +4120,11 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L4115-L4127)
```cs:line-numbers=4115
		}
		if (!isDestroyed)
		{
			Debug.Log(EClass.player.invlunerable); // [!code --]
			Debug.Log(EClass.pc.ai?.ToString() + "/" + EClass.pc.ai.IsRunning); // [!code --]
			Die(e, origin, attackSource);
			if (trait.CanBeSmashedToDeath)
			{
				Rand.SetSeed(uid);
				if (EClass.rnd(3) == 0) // [!code --]
				if (EClass.rnd(3) == 0 && !isCrafted && !isCopy) // [!code ++]
				{
					string text2 = new int[18]
					{
```

[`@@ -4148,22 +4151,18 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L4148-L4169)
```cs:line-numbers=4148
					{
						text2 = "money2";
					}
					if (EClass.rnd(20) == 0) // [!code --]
					if (EClass.rnd(20) == 0 || EClass.debug.enable) // [!code ++]
					{
						text2 = "medal";
					}
					EClass._zone.AddCard(ThingGen.Create(text2).SetNum((!(text2 == "money")) ? 1 : EClass.rndHalf(100)), pos); // [!code --]
					EClass._zone.AddCard(ThingGen.Create(text2).SetNum((!(text2 == "money")) ? 1 : EClass.rndHalf(100)).SetHidden(hide: false), pos); // [!code ++]
				}
				Rand.SetSeed();
			}
			ProcAbsorb();
			if (EClass.pc.Evalue(1355) > 0 && (IsPCFactionOrMinion || (origin != null && origin.IsPCParty))) // [!code --]
			if (EClass.pc.Evalue(1355) > 0 && isChara && (IsPCFactionOrMinion || (origin != null && origin.IsPCParty))) // [!code ++]
			{
				ConStrife conStrife = (EClass.pc.AddCondition<ConStrife>() as ConStrife) ?? EClass.pc.GetCondition<ConStrife>(); // [!code --]
				if (conStrife != null && isChara) // [!code --]
				{ // [!code --]
					conStrife.AddKill(Chara); // [!code --]
				} // [!code --]
				((EClass.pc.AddCondition<ConStrife>() as ConStrife) ?? EClass.pc.GetCondition<ConStrife>())?.AddKill(Chara); // [!code ++]
			}
		}
		if (origin != null && origin.isChara)
```

[`@@ -4197,20 +4196,20 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L4197-L4216)
```cs:line-numbers=4197
	}
	else if ((attackSource == AttackSource.Melee || attackSource == AttackSource.Range) && origin != null)
	{
		(IsPC ? EClass.pc : origin).Say("dmgMelee" + num6 + (IsPC ? "pc" : ""), origin, this); // [!code --]
		(IsPC ? EClass.pc : origin).Say("dmgMelee" + num7 + (IsPC ? "pc" : ""), origin, this); // [!code ++]
	}
	else if (isChara)
	{
		int num9 = ((attackSource != AttackSource.Condition && attackSource != AttackSource.WeaponEnchant) ? 1 : 2); // [!code --]
		if (num6 >= num9) // [!code --]
		int num10 = ((attackSource != AttackSource.Condition && attackSource != AttackSource.WeaponEnchant) ? 1 : 2); // [!code ++]
		if (num7 >= num10) // [!code ++]
		{
			if (e != Element.Void)
			{
				Say("dmg_" + e.source.alias, this);
			}
			if (e == Element.Void || num6 >= 2) // [!code --]
			if (e == Element.Void || num7 >= 2) // [!code ++]
			{
				Say("dmg" + num6, this); // [!code --]
				Say("dmg" + num7, this); // [!code ++]
			}
		}
	}
```

[`@@ -4255,15 +4254,15 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L4255-L4269)
```cs:line-numbers=4255
			elements.ModExp(123, a3);
		}
	}
	int num10 = ((EClass.rnd(2) == 0) ? 1 : 0); // [!code --]
	int num11 = ((EClass.rnd(2) == 0) ? 1 : 0); // [!code ++]
	if (attackSource == AttackSource.Condition)
	{
		num10 = 1 + EClass.rnd(2); // [!code --]
		num11 = 1 + EClass.rnd(2); // [!code ++]
	}
	if (num10 > 0) // [!code --]
	if (num11 > 0) // [!code ++]
	{
		bool flag = Chara.HasCondition<ConPoison>() || ((e.id == 915 || e.id == 923) && ResistLv(Evalue(955)) < 4);
		AddBlood(num10, flag ? 6 : (-1)); // [!code --]
		AddBlood(num11, flag ? 6 : (-1)); // [!code ++]
	}
	bool flag2 = true;
	switch (e.id)
```

[`@@ -4415,14 +4414,14 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L4415-L4428)
```cs:line-numbers=4415
	}
	if (IsPC)
	{
		float num11 = (float)hp / (float)MaxHP; // [!code --]
		float num12 = (float)hp / (float)MaxHP; // [!code ++]
		if (Evalue(1421) > 0)
		{
			num11 = (float)Chara.mana.value / (float)Chara.mana.max; // [!code --]
			num12 = (float)Chara.mana.value / (float)Chara.mana.max; // [!code ++]
		}
		if (num11 < 0.3f) // [!code --]
		if (num12 < 0.3f) // [!code ++]
		{
			PlaySound("heartbeat", 1f - num11 * 2f); // [!code --]
			PlaySound("heartbeat", 1f - num12 * 2f); // [!code ++]
		}
	}
	if (!IsPC && hp < MaxHP / 5 && Evalue(423) <= 0 && dmg * 100 / MaxHP + 10 > EClass.rnd(IsPowerful ? 400 : 150) && !HasCondition<ConFear>())
```

[`@@ -4495,29 +4494,29 @@ void ProcAbsorb()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L4495-L4523)
```cs:line-numbers=4495
			int valueOrDefault2 = (origin.Evalue(661) + weapon?.Evalue(661, ignoreGlobalElement: true)).GetValueOrDefault();
			if (valueOrDefault > 0 && attackSource == AttackSource.Melee && origin.isChara && !origin.Chara.ignoreSPAbsorb && Chara.IsHostile(origin as Chara))
			{
				int num12 = EClass.rnd(3 + Mathf.Clamp(dmg / 100, 0, valueOrDefault / 10)); // [!code --]
				origin.Chara.stamina.Mod(num12); // [!code --]
				int num13 = EClass.rnd(3 + Mathf.Clamp(dmg / 100, 0, valueOrDefault / 10)); // [!code ++]
				origin.Chara.stamina.Mod(num13); // [!code ++]
				if (IsAliveInCurrentZone)
				{
					Chara.stamina.Mod(-num12); // [!code --]
					Chara.stamina.Mod(-num13); // [!code ++]
				}
			}
			if (origin.HasElement(1350) && attackSource == AttackSource.Melee)
			{
				int num13 = EClass.rndHalf(2 + Mathf.Clamp(dmg / 10, 0, origin.Chara.GetPietyValue() + 10)); // [!code --]
				origin.Chara.mana.Mod(num13); // [!code --]
				int num14 = EClass.rndHalf(2 + Mathf.Clamp(dmg / 10, 0, origin.Chara.GetPietyValue() + 10)); // [!code ++]
				origin.Chara.mana.Mod(num14); // [!code ++]
				if (IsAliveInCurrentZone)
				{
					Chara.mana.Mod(-num13); // [!code --]
					Chara.mana.Mod(-num14); // [!code ++]
				}
			}
			if (valueOrDefault2 > 0 && attackSource == AttackSource.Melee)
			{
				int num14 = EClass.rnd(2 + Mathf.Clamp(dmg / 10, 0, valueOrDefault2 + 10)); // [!code --]
				origin.Chara.mana.Mod(num14); // [!code --]
				int num15 = EClass.rnd(2 + Mathf.Clamp(dmg / 10, 0, valueOrDefault2 + 10)); // [!code ++]
				origin.Chara.mana.Mod(num15); // [!code ++]
				if (IsAliveInCurrentZone)
				{
					Chara.mana.Mod(-num14); // [!code --]
					Chara.mana.Mod(-num15); // [!code ++]
				}
			}
		}
```

[`@@ -5191,10 +5190,11 @@ public void MakeRefFrom(Card c1, Card c2 = null)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L5191-L5200)
```cs:line-numbers=5191
		c_extraNameRef = (c1.IsPC ? EClass.pc.c_altName : c1.c_extraNameRef);
	}

	public void SetHidden(bool hide = true) // [!code --]
	public Card SetHidden(bool hide = true) // [!code ++]
	{
		isHidden = hide;
		pos.cell.Refresh();
		return this; // [!code ++]
	}

	public virtual MoveResult _Move(Point p, MoveType type = MoveType.Walk)
```

[`@@ -6702,9 +6702,16 @@ public virtual int GetPrice(CurrencyType currency = CurrencyType.Money, bool sel`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Card.cs#L6702-L6710)
```cs:line-numbers=6702
		{
			p *= 0.5;
		}
		if ((uint)(priceType - 1) <= 1u && (category.IsChildOf("vegi") || category.IsChildOf("fruit"))) // [!code --]
		if ((uint)(priceType - 1) <= 1u) // [!code ++]
		{
			p *= ((EClass.pc.faith == EClass.game.religions.Harvest) ? 3f : 2f); // [!code --]
			if (category.IsChildOf("fish")) // [!code ++]
			{ // [!code ++]
				p *= ((EClass.pc.faith == EClass.game.religions.Luck) ? 1.5f : 1f); // [!code ++]
			} // [!code ++]
			if (category.IsChildOf("vegi") || category.IsChildOf("fruit")) // [!code ++]
			{ // [!code ++]
				p *= ((EClass.pc.faith == EClass.game.religions.Harvest) ? 3f : 2f); // [!code ++]
			} // [!code ++]
		}
	}
	if (id == "rod_wish")
```

## Chara

[`@@ -1246,7 +1246,7 @@ public void OnBanish()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Chara.cs#L1246-L1252)
```cs:line-numbers=1246
		return;
	}
	memberType = FactionMemberType.Default;
	foreach (Thing item in things.List((Thing a) => a.HasTag(CTAG.godArtifact))) // [!code --]
	foreach (Thing item in things.List((Thing a) => a.HasTag(CTAG.godArtifact)).ToList()) // [!code ++]
	{
		EClass.pc.PickOrDrop(EClass.pc.pos, item);
	}
```

[`@@ -6445,7 +6445,7 @@ public void ShowDialog()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Chara.cs#L6445-L6451)
```cs:line-numbers=6445
			if (questDebt != null && questDebt.paid)
			{
				questDebt.stage++;
				if (questDebt.stage > 6) // [!code --]
				if (questDebt.stage > 7) // [!code ++]
				{
					questDebt.stage = 1;
				}
```

## ConStrife

[`@@ -26,10 +26,6 @@ public override bool CanStack(Condition c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ConStrife.cs#L26-L35)
```cs:line-numbers=26

	public void AddKill(Chara c)
	{
		if (c == null) // [!code --]
		{ // [!code --]
			return; // [!code --]
		} // [!code --]
		if (c.IsPCFactionOrMinion)
		{
			if (c.IsMinion)
```

## CoreDebug

[`@@ -924,6 +924,9 @@ public void UpdateInput()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/CoreDebug.cs#L924-L929)
```cs:line-numbers=924
	}
	if (Input.GetKeyDown(KeyCode.F2))
	{
		EClass.pc.Pick(ThingGen.CreateSpellbook(8550)); // [!code ++]
		EClass.pc.Pick(ThingGen.CreatePotion(8550)); // [!code ++]
		EClass.pc.Pick(ThingGen.CreateSpellbook(9004)); // [!code ++]
		Chara targetChara = EClass.scene.mouseTarget.TargetChara;
		if (targetChara != null)
		{
```

## ELEMENT

[`@@ -1116,13 +1116,16 @@ public static int GetResistLv(int v)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ELEMENT.cs#L1116-L1128)
```cs:line-numbers=1116

	public static int GetResistDamage(int dmg, int v, int power = 0)
	{
		int resistLv = GetResistLv(v); // [!code --]
		resistLv -= power; // [!code --]
		if (resistLv >= 4) // [!code --]
		int num = GetResistLv(v); // [!code ++]
		if (power > 0 && num > 0) // [!code ++]
		{ // [!code ++]
			num = Mathf.Max(num - power, 0); // [!code ++]
		} // [!code ++]
		if (num >= 4) // [!code ++]
		{
			return 0;
		}
		return resistLv switch // [!code --]
		return num switch // [!code ++]
		{
			3 => dmg / 4, 
			2 => dmg / 3, 
```

## ENC

[`@@ -50,7 +50,7 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ENC.cs#L50-L56)
```cs:line-numbers=50

	public const int mod_chaser = 620;

	public const int bane_machine = 465; // [!code --]
	public const int loving = 417; // [!code ++]

	public const int mod_splash = 608;

```

[`@@ -70,17 +70,17 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ENC.cs#L70-L86)
```cs:line-numbers=70

	public const int negateBlind = 421;

	public const int innocence = 418; // [!code --]
	public const int negatePoison = 420; // [!code ++]

	public const int loving = 417; // [!code --]
	public const int innocence = 418; // [!code ++]

	public const int seeInvisible = 416;

	public const int invisibility = 415;

	public const int encHit = 414; // [!code --]
	public const int breathing = 429; // [!code ++]

	public const int slowCorruption = 412; // [!code --]
	public const int encHit = 414; // [!code ++]

	public const int encSpell = 411;

```

[`@@ -92,7 +92,7 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ENC.cs#L92-L98)
```cs:line-numbers=92

	public const int travelSpeed = 407;

	public const int resMutation = 406; // [!code --]
	public const int mod_talisman = 609; // [!code ++]

	public const int slowDecay = 405;

```

[`@@ -106,16 +106,16 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ENC.cs#L106-L121)
```cs:line-numbers=106

	public const int negateTeleport = 400;

	public const int mod_talisman = 609; // [!code --]
 // [!code --]
	public const int breathing = 429; // [!code --]
	public const int slowCorruption = 412; // [!code ++]

	public const int sustain_STR = 440;

	public const int negatePoison = 420; // [!code --]
	public const int resMutation = 406; // [!code ++]

	public const int sustain_DEX = 442;

	public const int sustain_END = 441; // [!code ++]
 // [!code ++]
	public const int mod_scatter = 607;

	public const int mod_drill = 606;
```

[`@@ -124,8 +124,6 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ENC.cs#L124-L131)
```cs:line-numbers=124

	public const int mod_ammo_recover = 604;

	public const int sustain_END = 441; // [!code --]
 // [!code --]
	public const int mod_rapid = 602;

	public const int mod_reload = 601;
```

[`@@ -148,38 +146,40 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ENC.cs#L148-L185)
```cs:line-numbers=148

	public const int mod_ammo_knockback = 603;

	public const int sustain_WIL = 445; // [!code --]
	public const int sustain_MAG = 446; // [!code ++]

	public const int bane_man = 464; // [!code --]
	public const int bane_god = 466; // [!code ++]

	public const int bane_animal = 463; // [!code --]
	public const int sustain_LER = 444; // [!code ++]

	public const int bane_fairy = 462; // [!code --]
	public const int sustain_WIL = 445; // [!code ++]

	public const int bane_undead = 461; // [!code --]
	public const int sustain_CHA = 447; // [!code ++]

	public const int bane_dragon = 460;

	public const int sustain_CHA = 447; // [!code --]
	public const int sustain_PER = 443; // [!code ++]

	public const int sustain_MAG = 446; // [!code --]
	public const int bane_fairy = 462; // [!code ++]

	public const int bane_god = 466; // [!code --]
	public const int bane_animal = 463; // [!code ++]

	public const int sustain_LER = 444; // [!code --]
	public const int bane_man = 464; // [!code ++]

	public const int sustain_PER = 443; // [!code --]
	public const int bane_machine = 465; // [!code ++]
 // [!code ++]
	public const int bane_undead = 461; // [!code ++]

	public static readonly int[] IDS = new int[85]
	{
		653, 652, 651, 650, 624, 622, 623, 640, 654, 641,
		655, 851, 660, 661, 662, 663, 664, 665, 666, 850,
		621, 865, 852, 656, 620, 465, 608, 428, 427, 426, // [!code --]
		425, 424, 423, 422, 421, 418, 417, 416, 415, 414, // [!code --]
		412, 411, 410, 409, 408, 407, 406, 405, 404, 403, // [!code --]
		402, 401, 400, 609, 429, 440, 420, 442, 607, 606, // [!code --]
		605, 604, 441, 602, 601, 600, 484, 483, 482, 481, // [!code --]
		480, 468, 467, 603, 445, 464, 463, 462, 461, 460, // [!code --]
		447, 446, 466, 444, 443 // [!code --]
		621, 865, 852, 656, 620, 417, 608, 428, 427, 426, // [!code ++]
		425, 424, 423, 422, 421, 420, 418, 416, 415, 429, // [!code ++]
		414, 411, 410, 409, 408, 407, 609, 405, 404, 403, // [!code ++]
		402, 401, 400, 412, 440, 406, 442, 441, 607, 606, // [!code ++]
		605, 604, 602, 601, 600, 484, 483, 482, 481, 480, // [!code ++]
		468, 467, 603, 446, 466, 444, 445, 447, 460, 443, // [!code ++]
		462, 463, 464, 465, 461 // [!code ++]
	};
}
```

## EffectId

[`@@ -114,5 +114,6 @@ public enum EffectId`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/EffectId.cs#L114-L118)
```cs:line-numbers=114
	DropMine = 290,
	ThrowPotion = 291,
	DrainMana = 292,
	Swarm = 293 // [!code --]
	Swarm = 293, // [!code ++]
	Sword = 294 // [!code ++]
}
```

## FACTION

[`@@ -4,66 +4,64 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/FACTION.cs#L4-L69)
```cs:line-numbers=4

public class FACTION
{
	public const int bfCave = 3500; // [!code --]
	public const int bfRuin = 3702; // [!code ++]

	public const int bfPlain = 3600; // [!code --]
	public const int bfGeyser = 3701; // [!code ++]

	public const int bfForest = 3601; // [!code --]
	public const int bfFertile = 3700; // [!code ++]

	public const int bfSnow = 3602; // [!code --]
	public const int bfCave = 3500; // [!code ++]

	public const int fConstruction = 2003; // [!code --]
	public const int bfSea = 3605; // [!code ++]

	public const int bfBeach = 3604;

	public const int fRation = 2207; // [!code --]
	public const int bfHill = 3603; // [!code ++]

	public const int bfSea = 3605; // [!code --]
	public const int bfSnow = 3602; // [!code ++]

	public const int bfFertile = 3700; // [!code --]
	public const int bfForest = 3601; // [!code ++]

	public const int bfGeyser = 3701; // [!code --]
	public const int bfPlain = 3600; // [!code ++]

	public const int bfHill = 3603; // [!code --]
	public const int fTaxEvasion = 2119; // [!code ++]
 // [!code ++]
	public const int fPromo = 2202; // [!code ++]

	public const int fAttraction = 2206;

	public const int fElec = 2201; // [!code --]
	public const int fSafety = 2205; // [!code ++]

	public const int fFood = 2204;

	public const int fMoral = 2203;

	public const int fPromo = 2202; // [!code --]
	public const int fElec = 2201; // [!code ++]

	public const int fSoil = 2200;

	public const int fHeirloom = 2120;

	public const int fTaxEvasion = 2119; // [!code --]
 // [!code --]
	public const int fLuck = 2118; // [!code --]
 // [!code --]
	public const int fLoyal = 2117;

	public const int fAdmin = 2115; // [!code --]
 // [!code --]
	public const int fEducation = 2116; // [!code --]
	public const int bfTranquil = 3703; // [!code ++]

	public const int bfRuin = 3702; // [!code --]
	public const int fLuck = 2118; // [!code ++]

	public const int fSafety = 2205; // [!code --]
	public const int fRation = 2207; // [!code ++]

	public const int bfTranquil = 3703; // [!code --]
	public const int bfVolcano = 3704; // [!code ++]

	public const int bfBasin = 3709; // [!code --]
	public const int bfGum = 3803; // [!code ++]

	public const int bfHunt = 3705; // [!code --]
	public const int bfFish = 3706; // [!code ++]

	public const int bfVolcano = 3704; // [!code --]
	public const int actBuildInspect = 4006; // [!code ++]

	public const int actBuildRecipe = 4005;

	public const int fEducation = 2116; // [!code ++]
 // [!code ++]
	public const int actBuildCollect = 4004;

	public const int actBuildAnywhere = 4003;
```

[`@@ -80,9 +78,7 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/FACTION.cs#L80-L88)
```cs:line-numbers=80

	public const int bfIce = 3804;

	public const int bfGum = 3803; // [!code --]
 // [!code --]
	public const int actBuildInspect = 4006; // [!code --]
	public const int bfSilica = 3802; // [!code ++]

	public const int bfMushroom = 3801;

```

[`@@ -100,22 +96,26 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/FACTION.cs#L100-L121)
```cs:line-numbers=100

	public const int bfBreed = 3710;

	public const int bfBasin = 3709; // [!code ++]
 // [!code ++]
	public const int bfFreshAir = 3708;

	public const int bfMonster = 3707;

	public const int bfFish = 3706; // [!code --]
	public const int bfHunt = 3705; // [!code ++]

	public const int bfSilica = 3802; // [!code --]
	public const int fAdmin = 2115; // [!code ++]
 // [!code ++]
	public const int fConstruction = 2003; // [!code ++]

	public static readonly int[] IDS = new int[52]
	{
		3500, 3600, 3601, 3602, 2003, 3604, 2207, 3605, 3700, 3701, // [!code --]
		3603, 2206, 2201, 2204, 2203, 2202, 2200, 2120, 2119, 2118, // [!code --]
		2117, 2115, 2116, 3702, 2205, 3703, 3709, 3705, 3704, 4005, // [!code --]
		4004, 4003, 4002, 4001, 4000, 3900, 3805, 3804, 3803, 4006, // [!code --]
		3801, 3800, 3784, 3783, 3782, 3781, 3780, 3710, 3708, 3707, // [!code --]
		3706, 3802 // [!code --]
		3702, 3701, 3700, 3500, 3605, 3604, 3603, 3602, 3601, 3600, // [!code ++]
		2119, 2202, 2206, 2205, 2204, 2203, 2201, 2200, 2120, 2117, // [!code ++]
		3703, 2118, 2207, 3704, 3803, 3706, 4006, 4005, 2116, 4004, // [!code ++]
		4003, 4002, 4001, 4000, 3900, 3805, 3804, 3802, 3801, 3800, // [!code ++]
		3784, 3783, 3782, 3781, 3780, 3710, 3709, 3708, 3707, 3705, // [!code ++]
		2115, 2003 // [!code ++]
	};
}
public class Faction : EClass
```

## FEAT

[`@@ -3,131 +3,121 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/FEAT.cs#L3-L133)
```cs:line-numbers=3

public class FEAT
{
	public const int featSTR = 1620; // [!code --]
 // [!code --]
	public const int featDEX = 1621; // [!code --]
 // [!code --]
	public const int featEND = 1622; // [!code --]
 // [!code --]
	public const int featLuck = 1628; // [!code --]
 // [!code --]
	public const int featLER = 1624; // [!code --]
 // [!code --]
	public const int featMAG = 1625; // [!code --]
	public const int featManaPrecision = 1214; // [!code ++]

	public const int featWIL = 1626; // [!code --]
	public const int featSleeper = 1642; // [!code ++]

	public const int featCHA = 1627; // [!code --]
	public const int featResCurse = 1641; // [!code ++]

	public const int featPER = 1623; // [!code --]
	public const int featAnimalLover = 1640; // [!code ++]

	public const int featStamina = 1612; // [!code --]
	public const int featFaith = 1636; // [!code ++]

	public const int featMilitant = 1419; // [!code --]
	public const int featMartial = 1635; // [!code ++]

	public const int featLife = 1610; // [!code --]
	public const int featNegotiate = 1634; // [!code ++]

	public const int featManaMeat = 1421; // [!code --]
	public const int featSpotting = 1633; // [!code ++]

	public const int featExecutioner = 1420; // [!code --]
	public const int featEvade = 1632; // [!code ++]

	public const int featSwordsage = 1418; // [!code --]
	public const int featDefense = 1631; // [!code ++]

	public const int featWitch = 1417; // [!code --]
	public const int featHardy = 1630; // [!code ++]

	public const int featInquisitor = 1416; // [!code --]
	public const int featSPD = 1629; // [!code ++]

	public const int featFoxMaid = 1415; // [!code --]
	public const int featSorter = 1643; // [!code ++]

	public const int featWhiteVixen = 1414; // [!code --]
	public const int featLuck = 1628; // [!code ++]

	public const int featFairysan = 1413; // [!code --]
	public const int featWIL = 1626; // [!code ++]

	public const int featSPD = 1629; // [!code --]
	public const int featMAG = 1625; // [!code ++]

	public const int featMana = 1611; // [!code --]
	public const int featLER = 1624; // [!code ++]

	public const int featHardy = 1630; // [!code --]
	public const int featPER = 1623; // [!code ++]

	public const int featLonelySoul = 1646; // [!code --]
	public const int featEND = 1622; // [!code ++]

	public const int featEvade = 1632; // [!code --]
	public const int featDEX = 1621; // [!code ++]

	public const int featLuckyCat = 1412; // [!code --]
	public const int featSTR = 1620; // [!code ++]

	public const int featManaCost = 1657; // [!code --]
	public const int featStamina = 1612; // [!code ++]

	public const int featScavenger = 1656; // [!code --]
	public const int featMana = 1611; // [!code ++]

	public const int featModelBeliever = 1655; // [!code --]
	public const int featLife = 1610; // [!code ++]

	public const int featHeavyCasting = 1654; // [!code --]
	public const int featManaMeat = 1421; // [!code ++]

	public const int featDreamWaker = 1653; // [!code --]
	public const int featCHA = 1627; // [!code ++]

	public const int featRapidArrow = 1652; // [!code --]
	public const int featBodyParts = 1644; // [!code ++]

	public const int featMagicManner = 1651; // [!code --]
	public const int featParty = 1645; // [!code ++]

	public const int featGourmet = 1650; // [!code --]
	public const int featLonelySoul = 1646; // [!code ++]

	public const int featDefender = 1649; // [!code --]
	public const int featElea = 1213; // [!code ++]

	public const int featDefense = 1631; // [!code --]
	public const int featSlowFood = 1200; // [!code ++]

	public const int featRapidMagic = 1648; // [!code --]
	public const int featManaBond = 1201; // [!code ++]

	public const int featParty = 1645; // [!code --]
	public const int featFastLearner = 1202; // [!code ++]

	public const int featBodyParts = 1644; // [!code --]
	public const int featGrowParts = 1203; // [!code ++]

	public const int featSorter = 1643; // [!code --]
	public const int featFairyWeak = 1204; // [!code ++]

	public const int featSleeper = 1642; // [!code --]
	public const int featCannibalism = 1205; // [!code ++]

	public const int featResCurse = 1641; // [!code --]
	public const int featMelilithCurse = 1206; // [!code ++]

	public const int featAnimalLover = 1640; // [!code --]
	public const int featFoxBless = 1207; // [!code ++]

	public const int featFaith = 1636; // [!code --]
	public const int featFoxLearn = 1208; // [!code ++]

	public const int featMartial = 1635; // [!code --]
	public const int featFluffyTail = 1209; // [!code ++]

	public const int featNegotiate = 1634; // [!code --]
	public const int featUndead = 1210; // [!code ++]

	public const int featSpotting = 1633; // [!code --]
	public const int featSnail = 1211; // [!code ++]

	public const int featSummoner = 1647; // [!code --]
	public const int featChef = 1658; // [!code ++]

	public const int featEarthStrength = 1411; // [!code --]
	public const int featManaCost = 1657; // [!code ++]

	public const int featChef = 1658; // [!code --]
	public const int featScavenger = 1656; // [!code ++]

	public const int featBoost = 1409; // [!code --]
	public const int featModelBeliever = 1655; // [!code ++]

	public const int featLoyal = 1225; // [!code --]
	public const int featHeavyCasting = 1654; // [!code ++]

	public const int featUnderground = 1226; // [!code --]
	public const int featDreamWaker = 1653; // [!code ++]

	public const int featServant = 1227; // [!code --]
	public const int featRapidArrow = 1652; // [!code ++]

	public const int featDemigod = 1228; // [!code --]
	public const int featMagicManner = 1651; // [!code ++]

	public const int featLittleOne = 1229; // [!code --]
	public const int featGourmet = 1650; // [!code ++]

	public const int featAdam = 1230; // [!code --]
	public const int featDefender = 1649; // [!code ++]

	public const int featNirvana = 1231; // [!code --]
	public const int featRapidMagic = 1648; // [!code ++]

	public const int featBaby = 1232; // [!code --]
	public const int featSummoner = 1647; // [!code ++]

	public const int featCosmicHorror = 1233; // [!code --]
	public const int featExecutioner = 1420; // [!code ++]

	public const int featLightEater = 1235; // [!code --]
	public const int featMilitant = 1419; // [!code ++]

	public const int featNorland = 1236; // [!code --]
	public const int featFairyResist = 1212; // [!code ++]

	public const int featRoran = 1237; // [!code --]
	public const int featWitch = 1417; // [!code ++]

	public const int featElder = 1238;

```

[`@@ -145,49 +135,39 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/FEAT.cs#L145-L193)
```cs:line-numbers=145

	public const int featGod_harvest1 = 1325;

	public const int featGod_luck1 = 1330; // [!code --]
 // [!code --]
	public const int featShiva = 1224; // [!code --]
 // [!code --]
	public const int featAcidBody = 1223; // [!code --]
 // [!code --]
	public const int featSplit = 1222; // [!code --]
 // [!code --]
	public const int featSpike = 1221; // [!code --]
 // [!code --]
	public const int featReboot = 1410; // [!code --]
	public const int featGod_harmony1 = 1335; // [!code ++]

	public const int featSlowFood = 1200; // [!code --]
	public const int featRoran = 1237; // [!code ++]

	public const int featManaBond = 1201; // [!code --]
	public const int featGod_oblivion1 = 1340; // [!code ++]

	public const int featFastLearner = 1202; // [!code --]
	public const int featGod_moonshadow1 = 1350; // [!code ++]

	public const int featGrowParts = 1203; // [!code --]
	public const int featGod_strife1 = 1355; // [!code ++]

	public const int featFairyWeak = 1204; // [!code --]
	public const int featWarrior = 1400; // [!code ++]

	public const int featCannibalism = 1205; // [!code --]
	public const int featThief = 1401; // [!code ++]

	public const int featMelilithCurse = 1206; // [!code --]
	public const int featWizard = 1402; // [!code ++]

	public const int featFoxBless = 1207; // [!code --]
	public const int featFarmer = 1403; // [!code ++]

	public const int featFoxLearn = 1208; // [!code --]
	public const int featArcher = 1404; // [!code ++]

	public const int featGod_harmony1 = 1335; // [!code --]
	public const int featPianist = 1405; // [!code ++]

	public const int featFluffyTail = 1209; // [!code --]
	public const int featTourist = 1406; // [!code ++]

	public const int featSnail = 1211; // [!code --]
	public const int featGod_trickery1 = 1345; // [!code ++]

	public const int featFairyResist = 1212; // [!code --]
	public const int featPaladin = 1407; // [!code ++]

	public const int featElea = 1213; // [!code --]
	public const int featNorland = 1236; // [!code ++]

	public const int featManaPrecision = 1214; // [!code --]
	public const int featHeavyEater = 1234; // [!code ++]

	public const int featDwarf = 1215; // [!code --]
	public const int featSwordsage = 1418; // [!code ++]

	public const int featSuccubus = 1216;

```

[`@@ -199,50 +179,70 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/FEAT.cs#L199-L248)
```cs:line-numbers=199

	public const int featFate = 1220;

	public const int featUndead = 1210; // [!code --]
	public const int featSpike = 1221; // [!code ++]

	public const int featGod_oblivion1 = 1340; // [!code --]
	public const int featSplit = 1222; // [!code ++]

	public const int featHeavyEater = 1234; // [!code --]
	public const int featAcidBody = 1223; // [!code ++]

	public const int featGod_moonshadow1 = 1350; // [!code --]
	public const int featLightEater = 1235; // [!code ++]

	public const int featGod_trickery1 = 1345; // [!code --]
	public const int featShiva = 1224; // [!code ++]

	public const int featWarrior = 1400; // [!code --]
	public const int featUnderground = 1226; // [!code ++]

	public const int featThief = 1401; // [!code --]
	public const int featServant = 1227; // [!code ++]

	public const int featWizard = 1402; // [!code --]
	public const int featDwarf = 1215; // [!code ++]

	public const int featFarmer = 1403; // [!code --]
	public const int featDemigod = 1228; // [!code ++]

	public const int featPianist = 1405; // [!code --]
	public const int featLittleOne = 1229; // [!code ++]

	public const int featTourist = 1406; // [!code --]
	public const int featAdam = 1230; // [!code ++]

	public const int featPaladin = 1407; // [!code --]
	public const int featNirvana = 1231; // [!code ++]

	public const int featArcher = 1404; // [!code --]
	public const int featBaby = 1232; // [!code ++]
 // [!code ++]
	public const int featCosmicHorror = 1233; // [!code ++]
 // [!code ++]
	public const int featLoyal = 1225; // [!code ++]

	public const int featPaladin2 = 1408;

	public const int featGod_strife1 = 1355; // [!code --]
	public const int featGod_luck1 = 1330; // [!code ++]
 // [!code ++]
	public const int featReboot = 1410; // [!code ++]
 // [!code ++]
	public const int featBoost = 1409; // [!code ++]
 // [!code ++]
	public const int featInquisitor = 1416; // [!code ++]
 // [!code ++]
	public const int featWhiteVixen = 1414; // [!code ++]
 // [!code ++]
	public const int featFoxMaid = 1415; // [!code ++]
 // [!code ++]
	public const int featLuckyCat = 1412; // [!code ++]
 // [!code ++]
	public const int featFairysan = 1413; // [!code ++]
 // [!code ++]
	public const int featEarthStrength = 1411; // [!code ++]

	public static readonly int[] IDS = new int[113]
	{
		1620, 1621, 1622, 1628, 1624, 1625, 1626, 1627, 1623, 1612, // [!code --]
		1419, 1610, 1421, 1420, 1418, 1417, 1416, 1415, 1414, 1413, // [!code --]
		1629, 1611, 1630, 1646, 1632, 1412, 1657, 1656, 1655, 1654, // [!code --]
		1653, 1652, 1651, 1650, 1649, 1631, 1648, 1645, 1644, 1643, // [!code --]
		1642, 1641, 1640, 1636, 1635, 1634, 1633, 1647, 1411, 1658, // [!code --]
		1409, 1225, 1226, 1227, 1228, 1229, 1230, 1231, 1232, 1233, // [!code --]
		1235, 1236, 1237, 1238, 1239, 1300, 1305, 1310, 1315, 1320, // [!code --]
		1325, 1330, 1224, 1223, 1222, 1221, 1410, 1200, 1201, 1202, // [!code --]
		1203, 1204, 1205, 1206, 1207, 1208, 1335, 1209, 1211, 1212, // [!code --]
		1213, 1214, 1215, 1216, 1217, 1218, 1219, 1220, 1210, 1340, // [!code --]
		1234, 1350, 1345, 1400, 1401, 1402, 1403, 1405, 1406, 1407, // [!code --]
		1404, 1408, 1355 // [!code --]
		1214, 1642, 1641, 1640, 1636, 1635, 1634, 1633, 1632, 1631, // [!code ++]
		1630, 1629, 1643, 1628, 1626, 1625, 1624, 1623, 1622, 1621, // [!code ++]
		1620, 1612, 1611, 1610, 1421, 1627, 1644, 1645, 1646, 1213, // [!code ++]
		1200, 1201, 1202, 1203, 1204, 1205, 1206, 1207, 1208, 1209, // [!code ++]
		1210, 1211, 1658, 1657, 1656, 1655, 1654, 1653, 1652, 1651, // [!code ++]
		1650, 1649, 1648, 1647, 1420, 1419, 1212, 1417, 1238, 1239, // [!code ++]
		1300, 1305, 1310, 1315, 1320, 1325, 1335, 1237, 1340, 1350, // [!code ++]
		1355, 1400, 1401, 1402, 1403, 1404, 1405, 1406, 1345, 1407, // [!code ++]
		1236, 1234, 1418, 1216, 1217, 1218, 1219, 1220, 1221, 1222, // [!code ++]
		1223, 1235, 1224, 1226, 1227, 1215, 1228, 1229, 1230, 1231, // [!code ++]
		1232, 1233, 1225, 1408, 1330, 1410, 1409, 1416, 1414, 1415, // [!code ++]
		1412, 1413, 1411 // [!code ++]
	};
}
public class Feat : Element
```

## FOOD

[`@@ -1,22 +1,22 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/FOOD.cs#L1-L22)
```cs:line-numbers=1
public class FOOD
{
	public const int food_cat = 701; // [!code --]
	public const int food_god = 758; // [!code ++]

	public const int food_love = 703; // [!code --]
	public const int justcooked = 757; // [!code ++]

	public const int food_bug = 704; // [!code --]
	public const int loseWeight = 706; // [!code ++]

	public const int gainWeight = 705;

	public const int loseWeight = 706; // [!code --]
 // [!code --]
	public const int justcooked = 757; // [!code --]
	public const int food_bug = 704; // [!code ++]

	public const int food_god = 758; // [!code --]
	public const int food_love = 703; // [!code ++]

	public const int food_poison = 702;

	public const int food_cat = 701; // [!code ++]
 // [!code ++]
	public const int food_CHA = 700;

	public static readonly int[] IDS = new int[9] { 701, 703, 704, 705, 706, 757, 758, 702, 700 }; // [!code --]
	public static readonly int[] IDS = new int[9] { 758, 757, 706, 705, 704, 703, 702, 701, 700 }; // [!code ++]
}
```

## MUTATION

[`@@ -1,34 +1,42 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/MUTATION.cs#L1-L34)
```cs:line-numbers=1
public class MUTATION
{
	public const int mutationRegenN = 1517; // [!code --]
	public const int mutationStrN = 1521; // [!code ++]

	public const int mutationRegen = 1516; // [!code --]
	public const int mutationStr = 1520; // [!code ++]
 // [!code ++]
	public const int mutationSpeedN = 1519; // [!code ++]
 // [!code ++]
	public const int mutationSpeed = 1518; // [!code ++]
 // [!code ++]
	public const int mutationEye = 1512; // [!code ++]

	public const int mutationDexN = 1515;

	public const int mutationSkin = 1510; // [!code --]
	public const int mutationDex = 1514; // [!code ++]

	public const int mutationEyeN = 1513;

	public const int mutationSkinN = 1511;

	public const int mutationSpeed = 1518; // [!code --]
	public const int mutationSkin = 1510; // [!code ++]

	public const int mutationDex = 1514; // [!code --]
	public const int mutationCha = 1522; // [!code ++]

	public const int mutationSpeedN = 1519; // [!code --]
	public const int mutationRegen = 1516; // [!code ++]

	public const int mutationEye = 1512; // [!code --]
	public const int mutationChaN = 1523; // [!code ++]

	public const int mutationStrN = 1521; // [!code --]
	public const int mutationRegenN = 1517; // [!code ++]
 // [!code ++]
	public const int mutationBrainN = 1525; // [!code ++]

	public const int etherPoisonHand = 1565;

	public const int etherManaBattery = 1564; // [!code --]
	public const int mutationBrain = 1524; // [!code ++]

	public const int etherProvoke = 1563;

	public const int mutationStr = 1520; // [!code --]
	public const int etherArmor = 1562; // [!code ++]

	public const int etherStupid = 1561;

```

[`@@ -44,44 +52,36 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/MUTATION.cs#L44-L87)
```cs:line-numbers=44

	public const int etherNeck = 1555;

	public const int etherWing = 1554; // [!code --]
	public const int etherManaBattery = 1564; // [!code ++]

	public const int etherEye = 1553;

	public const int etherArmor = 1562; // [!code --]
 // [!code --]
	public const int mutationChaN = 1523; // [!code --]
 // [!code --]
	public const int mutationCha = 1522; // [!code --]
 // [!code --]
	public const int mutationBrain = 1524; // [!code --]
 // [!code --]
	public const int mutationBrainN = 1525; // [!code --]
	public const int mutationCold = 1526; // [!code ++]

	public const int mutationColdN = 1527; // [!code --]
	public const int etherWing = 1554; // [!code ++]

	public const int mutationLightning = 1528;

	public const int mutationCold = 1526; // [!code --]
	public const int mutationLightningN = 1529; // [!code ++]

	public const int mutationBody = 1530;

	public const int mutationBodyN = 1531; // [!code --]
	public const int mutationColdN = 1527; // [!code ++]

	public const int etherGravity = 1550;

	public const int etherUgly = 1551;

	public const int mutationLightningN = 1529; // [!code --]
 // [!code --]
	public const int etherFeet = 1552;

	public const int mutationBodyN = 1531; // [!code ++]
 // [!code ++]
	public static readonly int[] IDS = new int[38]
	{
		1517, 1516, 1515, 1510, 1513, 1511, 1518, 1514, 1519, 1512, // [!code --]
		1521, 1565, 1564, 1563, 1520, 1561, 1560, 1559, 1558, 1557, // [!code --]
		1556, 1555, 1554, 1553, 1562, 1523, 1522, 1524, 1525, 1527, // [!code --]
		1528, 1526, 1530, 1531, 1550, 1551, 1529, 1552 // [!code --]
		1521, 1520, 1519, 1518, 1512, 1515, 1514, 1513, 1511, 1510, // [!code ++]
		1522, 1516, 1523, 1517, 1525, 1565, 1524, 1563, 1562, 1561, // [!code ++]
		1560, 1559, 1558, 1557, 1556, 1555, 1564, 1553, 1526, 1554, // [!code ++]
		1528, 1529, 1530, 1527, 1550, 1551, 1552, 1531 // [!code ++]
	};
}
public class Mutation : Feat
```

## POLICY

[`@@ -3,27 +3,25 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/POLICY.cs#L3-L29)
```cs:line-numbers=3

public class POLICY
{
	public const int suite_room = 2813; // [!code --]
	public const int store_premium = 2817; // [!code ++]

	public const int store_ripoff = 2816; // [!code --]
	public const int tourist_safety = 2811; // [!code ++]

	public const int platinum_ticket = 2815; // [!code --]
	public const int bed_quality = 2812; // [!code ++]

	public const int mass_exhibition = 2814; // [!code --]
	public const int suite_room = 2813; // [!code ++]

	public const int home_discount = 2800; // [!code --]
	public const int mass_exhibition = 2814; // [!code ++]

	public const int tourist_safety = 2811; // [!code --]
	public const int platinum_ticket = 2815; // [!code ++]

	public const int open_business = 2810;

	public const int store_premium = 2817; // [!code --]
 // [!code --]
	public const int bed_quality = 2812; // [!code --]
	public const int store_ripoff = 2816; // [!code ++]

	public const int license_food = 2818;

	public const int milk_fan = 2825; // [!code --]
	public const int legendary_exhibition = 2823; // [!code ++]

	public const int license_general = 2820;

```

[`@@ -31,39 +29,41 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/POLICY.cs#L31-L69)
```cs:line-numbers=31

	public const int celeb = 2822;

	public const int legendary_exhibition = 2823; // [!code --]
 // [!code --]
	public const int license_stolen = 2824;

	public const int milk_fan = 2825; // [!code ++]
 // [!code ++]
	public const int egg_fan = 2826;

	public const int breed_season = 2827;

	public const int license_slaver = 2828;

	public const int home_discount = 2800; // [!code ++]
 // [!code ++]
	public const int license_furniture = 2819;

	public const int livestock_priv = 2715;

	public const int self_sufficient = 2511; // [!code --]
	public const int taxfree = 2514; // [!code ++]

	public const int incomeTransfer = 2711;

	public const int wealth_tax = 2500; // [!code --]
	public const int human_right = 2506; // [!code ++]

	public const int faith_tax = 2501; // [!code --]
	public const int prohibition = 2503; // [!code ++]

	public const int food_for_people = 2502;

	public const int prohibition = 2503; // [!code --]
	public const int faith_tax = 2501; // [!code ++]

	public const int impressment = 2504; // [!code --]
	public const int wealth_tax = 2500; // [!code ++]

	public const int legal_drug = 2505; // [!code --]
	public const int forcePanty = 2712; // [!code ++]

	public const int human_right = 2506; // [!code --]
	public const int legal_drug = 2505; // [!code ++]

	public const int forcePanty = 2712; // [!code --]
	public const int inquisition = 2507; // [!code ++]

	public const int nocturnal_life = 2508;

```

[`@@ -71,48 +71,48 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/POLICY.cs#L71-L118)
```cs:line-numbers=71

	public const int ban_radio = 2510;

	public const int resident_tax = 2512; // [!code --]
	public const int self_sufficient = 2511; // [!code ++]

	public const int resident_wanted = 2513; // [!code --]
	public const int resident_tax = 2512; // [!code ++]

	public const int inquisition = 2507; // [!code --]
	public const int impressment = 2504; // [!code ++]

	public const int stop_growth = 2515;

	public const int border_watch = 2704;

	public const int auto_farm = 2707; // [!code --]
	public const int resident_wanted = 2513; // [!code ++]

	public const int taxfree = 2514; // [!code --]
	public const int demon_invocation = 2706; // [!code ++]

	public const int noDM = 2708; // [!code --]
	public const int auto_farm = 2707; // [!code ++]
 // [!code ++]
	public const int taxTransfer = 2705; // [!code ++]

	public const int noAnimal = 2709;

	public const int noMother = 2710; // [!code --]
	public const int noDM = 2708; // [!code ++]

	public const int weed_no = 2703;

	public const int taxTransfer = 2705; // [!code --]
 // [!code --]
	public const int demon_invocation = 2706; // [!code --]
	public const int trash_no = 2702; // [!code ++]

	public const int speed_growth = 2516; // [!code --]
	public const int trash_sort = 2701; // [!code ++]

	public const int energy_conservation = 2700;

	public const int trash_sort = 2701; // [!code --]
	public const int speed_growth = 2516; // [!code ++]

	public const int trash_no = 2702; // [!code --]
	public const int noMother = 2710; // [!code ++]

	public static readonly int[] IDS = new int[51]
	{
		2813, 2816, 2815, 2814, 2800, 2811, 2810, 2817, 2812, 2818, // [!code --]
		2825, 2820, 2821, 2822, 2823, 2824, 2826, 2827, 2828, 2819, // [!code --]
		2715, 2511, 2711, 2500, 2501, 2502, 2503, 2504, 2505, 2506, // [!code --]
		2712, 2508, 2509, 2510, 2512, 2513, 2507, 2515, 2704, 2707, // [!code --]
		2514, 2708, 2709, 2710, 2703, 2705, 2706, 2516, 2700, 2701, // [!code --]
		2702 // [!code --]
		2817, 2811, 2812, 2813, 2814, 2815, 2810, 2816, 2818, 2823, // [!code ++]
		2820, 2821, 2822, 2824, 2825, 2826, 2827, 2828, 2800, 2819, // [!code ++]
		2715, 2514, 2711, 2506, 2503, 2502, 2501, 2500, 2712, 2505, // [!code ++]
		2507, 2508, 2509, 2510, 2511, 2512, 2504, 2515, 2704, 2513, // [!code ++]
		2706, 2707, 2705, 2709, 2708, 2703, 2702, 2701, 2700, 2516, // [!code ++]
		2710 // [!code ++]
	};
}
public class Policy : EClass
```

## Player

[`@@ -1586,6 +1586,7 @@ public void DreamSpell()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Player.cs#L1586-L1591)
```cs:line-numbers=1586
				case "weapon":
				case "funnel":
				case "miasma":
				case "sword": // [!code ++]
					flag = true;
					break;
				}
```

## QuestDebt

[`@@ -41,7 +41,7 @@ public override string GetTextProgress()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/QuestDebt.cs#L41-L47)
```cs:line-numbers=41

	public bool CanGiveBill()
	{
		return stage < 6; // [!code --]
		return stage < 7; // [!code ++]
	}

	public int GetBillAmount()
```

[`@@ -89,6 +89,10 @@ public void GiveReward()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/QuestDebt.cs#L89-L94)
```cs:line-numbers=89
			EClass.player.flags.loytelMartLv = 1;
			Msg.Say("upgradeLoytelMart");
			break;
		case 7: // [!code ++]
			EClass.player.flags.loytelMartLv = 2; // [!code ++]
			Msg.Say("upgradeLoytelMart"); // [!code ++]
			break; // [!code ++]
		}
	}

```

## RenderRow

[`@@ -273,7 +273,6 @@ public Sprite GetSprite(int dir = 0, int skin = 0, bool snow = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/RenderRow.cs#L273-L279)
```cs:line-numbers=273
	{
		dir = skin;
		skin = 0;
		Debug.Log(idString + "/" + dir + "/" + skin); // [!code --]
	}
	if (skin != 0 && skin >= sprites.GetLength(0))
	{
```

## SKILL

[`@@ -1,68 +1,70 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SKILL.cs#L1-L68)
```cs:line-numbers=1
public class SKILL
{
	public const int digging = 230; // [!code --]
	public const int twohand = 130; // [!code ++]

	public const int climbing = 242; // [!code --]
	public const int shield = 123; // [!code ++]

	public const int music = 241; // [!code --]
	public const int armorHeavy = 122; // [!code ++]

	public const int acidproof = 51; // [!code --]
	public const int armorLight = 120; // [!code ++]

	public const int fireproof = 50; // [!code --]
	public const int fishing = 245; // [!code ++]
 // [!code ++]
	public const int weaponScythe = 110; // [!code ++]

	public const int weaponCrossbow = 109;

	public const int travel = 240; // [!code --]
	public const int twowield = 131; // [!code ++]

	public const int weaponScythe = 110; // [!code --]
	public const int acidproof = 51; // [!code ++]

	public const int weaponBlunt = 111;

	public const int armorLight = 120; // [!code --]
	public const int tactics = 132; // [!code ++]

	public const int armorHeavy = 122; // [!code --]
	public const int evasion = 150; // [!code ++]

	public const int shield = 123; // [!code --]
	public const int eyeofmind = 134; // [!code ++]

	public const int twohand = 130; // [!code --]
	public const int climbing = 242; // [!code ++]

	public const int twowield = 131; // [!code --]
	public const int music = 241; // [!code ++]
 // [!code ++]
	public const int travel = 240; // [!code ++]
 // [!code ++]
	public const int taming = 237; // [!code ++]
 // [!code ++]
	public const int milking = 235; // [!code ++]
 // [!code ++]
	public const int digging = 230; // [!code ++]

	public const int parasite = 227;

	public const int riding = 226;

	public const int lumberjack = 225; // [!code --]
 // [!code --]
	public const int mining = 220;

	public const int spotting = 210;

	public const int weightlifting = 207; // [!code --]
 // [!code --]
	public const int milking = 235; // [!code --]
	public const int fireproof = 50; // [!code ++]

	public const int swimming = 200;

	public const int evasionPlus = 151; // [!code --]
 // [!code --]
	public const int evasion = 150; // [!code --]
	public const int stealth = 152; // [!code ++]

	public const int taming = 237; // [!code --]
	public const int evasionPlus = 151; // [!code ++]

	public const int eyeofmind = 134; // [!code --]
	public const int strategy = 135; // [!code ++]

	public const int marksman = 133;

	public const int tactics = 132; // [!code --]
 // [!code --]
	public const int stealth = 152; // [!code --]
	public const int lumberjack = 225; // [!code ++]

	public const int strategy = 135; // [!code --]
	public const int martial = 100; // [!code ++]

	public const int weaponDagger = 107;

	public const int weaponPolearm = 106; // [!code --]
	public const int DEX = 72; // [!code ++]

	public const int END = 71;

```

[`@@ -74,11 +76,11 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SKILL.cs#L74-L84)
```cs:line-numbers=74

	public const int HIT = 66;

	public const int PV = 65; // [!code --]
	public const int PER = 73; // [!code ++]

	public const int DEX = 72; // [!code --]
	public const int PV = 65; // [!code ++]

	public const int DV = 64; // [!code --]
	public const int vigor = 62; // [!code ++]

	public const int mana = 61;

```

[`@@ -90,15 +92,15 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SKILL.cs#L90-L104)
```cs:line-numbers=90

	public const int PDR = 55;

	public const int fishing = 245; // [!code --]
 // [!code --]
	public const int vigor = 62; // [!code --]
	public const int DV = 64; // [!code ++]

	public const int throwing = 108;

	public const int PER = 73; // [!code --]
	public const int LER = 74; // [!code ++]

	public const int WIL = 75; // [!code --]
	public const int MAG = 76; // [!code ++]
 // [!code ++]
	public const int weaponPolearm = 106; // [!code ++]

	public const int weaponGun = 105;

```

[`@@ -110,11 +112,11 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SKILL.cs#L110-L120)
```cs:line-numbers=110

	public const int weaponSword = 101;

	public const int antiMagic = 93; // [!code --]
	public const int WIL = 75; // [!code ++]

	public const int LER = 74; // [!code --]
	public const int antiMagic = 93; // [!code ++]

	public const int penetration = 92; // [!code --]
	public const int vopal = 91; // [!code ++]

	public const int critical = 90;

```

[`@@ -126,13 +128,11 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SKILL.cs#L126-L138)
```cs:line-numbers=126

	public const int CHA = 77;

	public const int MAG = 76; // [!code --]
 // [!code --]
	public const int vopal = 91; // [!code --]
	public const int penetration = 92; // [!code ++]

	public const int gathering = 250;

	public const int martial = 100; // [!code --]
	public const int weightlifting = 207; // [!code ++]

	public const int blacksmith = 256;

```

[`@@ -204,7 +204,7 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SKILL.cs#L204-L210)
```cs:line-numbers=204

	public const int eleLightning = 912;

	public const int alchemy = 257; // [!code --]
	public const int eleDarkness = 913; // [!code ++]

	public const int sculpture = 258;

```

[`@@ -222,7 +222,7 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SKILL.cs#L222-L228)
```cs:line-numbers=222

	public const int farming = 286;

	public const int eleDarkness = 913; // [!code --]
	public const int cooking = 287; // [!code ++]

	public const int building = 288;

```

[`@@ -234,23 +234,23 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SKILL.cs#L234-L256)
```cs:line-numbers=234

	public const int investing = 292;

	public const int cooking = 287; // [!code --]
	public const int alchemy = 257; // [!code ++]

	public const int regeneration = 300;

	public const int eleFire = 910; // [!code --]
	public const int eleCold = 911; // [!code ++]

	public const int disarmTrap = 293; // [!code --]
	public const int eleFire = 910; // [!code ++]

	public const int env = 313;

	public const int fun = 312; // [!code --]
	public const int bladder = 311; // [!code ++]

	public const int hygine = 310;

	public const int memorization = 307;

	public const int bladder = 311; // [!code --]
	public const int fun = 312; // [!code ++]

	public const int magicDevice = 305;

```

[`@@ -264,24 +264,24 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SKILL.cs#L264-L287)
```cs:line-numbers=264

	public const int faith = 306;

	public const int eleCold = 911; // [!code --]
	public const int disarmTrap = 293; // [!code ++]

	public static readonly int[] IDS = new int[133]
	{
		230, 242, 241, 51, 50, 109, 240, 110, 111, 120, // [!code --]
		122, 123, 130, 131, 227, 226, 225, 220, 210, 207, // [!code --]
		235, 200, 151, 150, 237, 134, 133, 132, 152, 135, // [!code --]
		107, 106, 71, 70, 68, 67, 66, 65, 72, 64, // [!code --]
		61, 60, 57, 56, 55, 245, 62, 108, 73, 75, // [!code --]
		105, 104, 103, 102, 101, 93, 74, 92, 90, 80, // [!code --]
		79, 78, 77, 76, 91, 250, 100, 256, 916, 917, // [!code --]
		130, 123, 122, 120, 245, 110, 109, 131, 51, 111, // [!code ++]
		132, 150, 134, 242, 241, 240, 237, 235, 230, 227, // [!code ++]
		226, 220, 210, 50, 200, 152, 151, 135, 133, 225, // [!code ++]
		100, 107, 72, 71, 70, 68, 67, 66, 73, 65, // [!code ++]
		62, 61, 60, 57, 56, 55, 64, 108, 74, 76, // [!code ++]
		106, 105, 104, 103, 102, 101, 75, 93, 91, 90, // [!code ++]
		80, 79, 78, 77, 92, 250, 207, 256, 916, 917, // [!code ++]
		918, 919, 920, 921, 922, 923, 924, 925, 926, 950,
		951, 952, 915, 953, 955, 956, 957, 958, 959, 960,
		961, 962, 963, 964, 965, 970, 972, 255, 954, 914,
		971, 912, 257, 258, 259, 260, 261, 280, 281, 285, // [!code --]
		286, 913, 288, 289, 290, 291, 292, 287, 300, 910, // [!code --]
		293, 313, 312, 310, 307, 311, 305, 304, 303, 302, // [!code --]
		301, 306, 911 // [!code --]
		971, 912, 913, 258, 259, 260, 261, 280, 281, 285, // [!code ++]
		286, 287, 288, 289, 290, 291, 292, 257, 300, 911, // [!code ++]
		910, 313, 311, 310, 307, 312, 305, 304, 303, 302, // [!code ++]
		301, 306, 293 // [!code ++]
	};
}
public class Skill : Element
```

## SLOT

[`@@ -1,40 +1,40 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SLOT.cs#L1-L40)
```cs:line-numbers=1
public class SLOT
{
	public const int back = 33; // [!code --]
 // [!code --]
	public const int tool = 40; // [!code --]
 // [!code --]
	public const int torso = 32; // [!code --]
	public const int range = 41; // [!code ++]

	public const int lightsource = 45;

	public const int finger = 36; // [!code --]
	public const int leg = 38; // [!code ++]

	public const int arm = 34;

	public const int leg = 38; // [!code --]
	public const int neck = 31; // [!code ++]

	public const int hand = 35; // [!code --]
	public const int toolbelt = 44; // [!code ++]

	public const int waist = 37; // [!code --]
	public const int hand = 35; // [!code ++]

	public const int foot = 39; // [!code --]
	public const int back = 33; // [!code ++]

	public const int neck = 31; // [!code --]
	public const int waist = 37; // [!code ++]

	public const int toolbelt = 44; // [!code --]
	public const int head = 30; // [!code ++]

	public const int range = 41; // [!code --]
	public const int tool = 40; // [!code ++]

	public const int token = 43;

	public const int head = 30; // [!code --]
	public const int foot = 39; // [!code ++]

	public const int ammo = 42;

	public const int finger = 36; // [!code ++]
 // [!code ++]
	public const int torso = 32; // [!code ++]
 // [!code ++]
	public static readonly int[] IDS = new int[16]
	{
		33, 40, 32, 45, 36, 34, 38, 35, 37, 39, // [!code --]
		31, 44, 41, 43, 30, 42 // [!code --]
		41, 45, 38, 34, 31, 44, 35, 33, 37, 30, // [!code ++]
		40, 43, 39, 42, 36, 32 // [!code ++]
	};
}
```

## SPELL

[`@@ -1,16 +1,20 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L1-L16)
```cs:line-numbers=1
public class SPELL
{
	public const int hand_Poison = 50405; // [!code --]
	public const int funnel_Sound = 50607; // [!code ++]

	public const int arrow_Mind = 50504; // [!code --]
	public const int hand_Sound = 50407; // [!code ++]
 // [!code ++]
	public const int miasma_Sound = 50707; // [!code ++]
 // [!code ++]
	public const int bolt_Sound = 50307; // [!code ++]

	public const int weapon_Sound = 50807;

	public const int puddle_Sound = 50907;

	public const int ball_Nerve = 50108; // [!code --]
	public const int arrow_Sound = 50507; // [!code ++]

	public const int hand_Mind = 50404; // [!code --]
	public const int miasma_Nerve = 50708; // [!code ++]

	public const int bolt_Nerve = 50308;

```

[`@@ -20,10 +24,6 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L20-L29)
```cs:line-numbers=20

	public const int funnel_Nerve = 50608;

	public const int bolt_Mind = 50304; // [!code --]
 // [!code --]
	public const int miasma_Nerve = 50708; // [!code --]
 // [!code --]
	public const int weapon_Nerve = 50808;

	public const int puddle_Nerve = 50908;
```

[`@@ -32,25 +32,39 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L32-L56)
```cs:line-numbers=32

	public const int bolt_Holy = 50309;

	public const int arrow_Holy = 50509; // [!code ++]
 // [!code ++]
	public const int ball_Nerve = 50108; // [!code ++]
 // [!code ++]
	public const int hand_Holy = 50409;

	public const int arrow_Holy = 50509; // [!code --]
	public const int hand_Poison = 50405; // [!code ++]
 // [!code ++]
	public const int puddle_Nether = 50906; // [!code ++]

	public const int funnel_Holy = 50609;

	public const int miasma_Sound = 50707; // [!code --]
	public const int bolt_Mind = 50304; // [!code ++]

	public const int funnel_Sound = 50607; // [!code --]
	public const int hand_Mind = 50404; // [!code ++]

	public const int hand_Sound = 50407; // [!code --]
	public const int arrow_Mind = 50504; // [!code ++]

	public const int bolt_Poison = 50305; // [!code --]
	public const int funnel_Mind = 50604; // [!code ++]
 // [!code ++]
	public const int miasma_Mind = 50704; // [!code ++]
 // [!code ++]
	public const int weapon_Mind = 50804; // [!code ++]
 // [!code ++]
	public const int puddle_Mind = 50904; // [!code ++]

	public const int ball_Poison = 50105;

	public const int arrow_Poison = 50505; // [!code --]
	public const int bolt_Poison = 50305; // [!code ++]

	public const int funnel_Poison = 50605; // [!code --]
	public const int ball_Sound = 50107; // [!code ++]
 // [!code ++]
	public const int arrow_Poison = 50505; // [!code ++]

	public const int miasma_Poison = 50705;

```

[`@@ -60,12 +74,6 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L60-L71)
```cs:line-numbers=60

	public const int ball_Nether = 50106;

	public const int puddle_Mind = 50904; // [!code --]
 // [!code --]
	public const int weapon_Mind = 50804; // [!code --]
 // [!code --]
	public const int arrow_Sound = 50507; // [!code --]
 // [!code --]
	public const int bolt_Nether = 50306;

	public const int hand_Nether = 50406;
```

[`@@ -78,15 +86,7 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L78-L92)
```cs:line-numbers=78

	public const int weapon_Nether = 50806;

	public const int puddle_Nether = 50906; // [!code --]
 // [!code --]
	public const int funnel_Mind = 50604; // [!code --]
 // [!code --]
	public const int ball_Sound = 50107; // [!code --]
 // [!code --]
	public const int bolt_Sound = 50307; // [!code --]
 // [!code --]
	public const int miasma_Mind = 50704; // [!code --]
	public const int funnel_Poison = 50605; // [!code ++]

	public const int miasma_Holy = 50709;

```

[`@@ -206,10 +206,12 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L206-L215)
```cs:line-numbers=206

	public const int puddle_Darkness = 50903;

	public const int weapon_Void = 50816; // [!code --]
	public const int ball_Fire = 50100; // [!code ++]

	public const int miasma_Darkness = 50703;

	public const int SpMutation = 8380; // [!code ++]
 // [!code ++]
	public const int SpWish = 8390;

	public const int SpHealLight = 8400;
```

[`@@ -258,16 +260,14 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L258-L273)
```cs:line-numbers=258

	public const int SpSilence = 8700;

	public const int SpWeakness = 8702; // [!code --]
 // [!code --]
	public const int SpMutation = 8380; // [!code --]
 // [!code --]
	public const int SpLevitate = 8300;

	public const int SpReconstruction = 8288;

	public const int SpChangeMaterialG = 8286;

	public const int SpChangeMaterial = 8285; // [!code ++]
 // [!code ++]
	public const int ball_ = 7001;

	public const int bolt_ = 7002;
```

[`@@ -282,6 +282,8 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L282-L287)
```cs:line-numbers=282

	public const int weapon_ = 7007;

	public const int sword_ = 7008; // [!code ++]
 // [!code ++]
	public const int puddle_ = 7800;

	public const int SpTeleport = 8200;
```

[`@@ -290,11 +292,11 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L290-L300)
```cs:line-numbers=290

	public const int SpGate = 8202;

	public const int SpReturn = 8220; // [!code --]
	public const int SpWeakness = 8702; // [!code ++]

	public const int SpWeakResEle = 8704; // [!code --]
	public const int SpReturn = 8220; // [!code ++]

	public const int SpEvac = 8221; // [!code --]
	public const int SpIdentify = 8230; // [!code ++]

	public const int SpIdentifyG = 8232;

```

[`@@ -318,15 +320,15 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L318-L332)
```cs:line-numbers=318

	public const int SpChangeMaterialLesser = 8284;

	public const int SpChangeMaterial = 8285; // [!code --]
 // [!code --]
	public const int SpIdentify = 8230; // [!code --]
	public const int SpEvac = 8221; // [!code ++]

	public const int weapon_Darkness = 50803; // [!code --]
	public const int SpWeakResEle = 8704; // [!code ++]

	public const int SpNightmare = 8705;

	public const int SpGravity = 8708; // [!code --]
	public const int SpBane = 8706; // [!code ++]
 // [!code ++]
	public const int arrow_Fire = 50500; // [!code ++]

	public const int funnel_Fire = 50600;

```

[`@@ -350,9 +352,9 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L350-L358)
```cs:line-numbers=350

	public const int weapon_Cold = 50801;

	public const int puddle_Cold = 50901; // [!code --]
	public const int hand_Fire = 50400; // [!code ++]

	public const int ball_Lightning = 50102; // [!code --]
	public const int puddle_Cold = 50901; // [!code ++]

	public const int bolt_Lightning = 50302;

```

[`@@ -378,13 +380,15 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L378-L390)
```cs:line-numbers=378

	public const int funnel_Darkness = 50603;

	public const int arrow_Fire = 50500; // [!code --]
	public const int ball_Lightning = 50102; // [!code ++]

	public const int hand_Fire = 50400; // [!code --]
	public const int weapon_Darkness = 50803; // [!code ++]

	public const int bolt_Fire = 50300;

	public const int ball_Fire = 50100; // [!code --]
	public const int SpDrawBacker = 9503; // [!code ++]
 // [!code ++]
	public const int SpGravity = 8708; // [!code ++]

	public const int SpSpeedDown = 8710;

```

[`@@ -408,11 +412,11 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L408-L418)
```cs:line-numbers=408

	public const int SpSummonUndeadSister = 9001;

	public const int SpSummonFire = 9002; // [!code --]
	public const int weapon_Void = 50816; // [!code ++]

	public const int SpBane = 8706; // [!code --]
	public const int SpSummonFire = 9002; // [!code ++]

	public const int SpSummonTentacle = 9003; // [!code --]
	public const int SpSummonMonster = 9004; // [!code ++]

	public const int SpSummonPawn = 9005;

```

[`@@ -436,37 +440,35 @@ public class SPELL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SPELL.cs#L436-L472)
```cs:line-numbers=436

	public const int SpDrawMetal = 9502;

	public const int SpDrawBacker = 9503; // [!code --]
 // [!code --]
	public const int SpSummonMonster = 9004; // [!code --]
	public const int SpSummonTentacle = 9003; // [!code ++]

	public const int puddle_Void = 50916;

	public static readonly int[] IDS = new int[221] // [!code --]
	public static readonly int[] IDS = new int[222] // [!code ++]
	{
		50405, 50504, 50807, 50907, 50108, 50404, 50308, 50408, 50508, 50608, // [!code --]
		50304, 50708, 50808, 50908, 50109, 50309, 50409, 50509, 50609, 50707, // [!code --]
		50607, 50407, 50305, 50105, 50505, 50605, 50705, 50805, 50905, 50106, // [!code --]
		50904, 50804, 50507, 50306, 50406, 50506, 50606, 50706, 50806, 50906, // [!code --]
		50604, 50107, 50307, 50704, 50709, 50713, 50909, 50104, 50813, 50913, // [!code --]
		50607, 50407, 50707, 50307, 50807, 50907, 50507, 50708, 50308, 50408, // [!code ++]
		50508, 50608, 50808, 50908, 50109, 50309, 50509, 50108, 50409, 50405, // [!code ++]
		50906, 50609, 50304, 50404, 50504, 50604, 50704, 50804, 50904, 50105, // [!code ++]
		50305, 50107, 50505, 50705, 50805, 50905, 50106, 50306, 50406, 50506, // [!code ++]
		50606, 50706, 50806, 50605, 50709, 50713, 50909, 50104, 50813, 50913, // [!code ++]
		50114, 50314, 50414, 50514, 50614, 50714, 50814, 50914, 50115, 50315,
		50415, 50515, 50615, 50715, 50815, 50915, 50116, 50316, 50416, 50516,
		50616, 50716, 50613, 50809, 50513, 50313, 50110, 50310, 50410, 50510,
		50610, 50710, 50810, 50910, 50111, 50311, 50411, 50511, 50611, 50711,
		50811, 50911, 50112, 50312, 50412, 50512, 50612, 50712, 50812, 50912,
		50113, 50413, 50903, 50816, 50703, 8390, 8400, 8401, 8402, 8403, // [!code --]
		8404, 8405, 8406, 8430, 8450, 8470, 8471, 8480, 8490, 8491, // [!code --]
		8500, 8501, 8502, 8503, 8504, 8506, 8510, 8550, 8700, 8702, // [!code --]
		8380, 8300, 8288, 8286, 7001, 7002, 7003, 7004, 7005, 7006, // [!code --]
		7007, 7800, 8200, 8201, 8202, 8220, 8704, 8221, 8232, 8240, // [!code --]
		8241, 8250, 8251, 8255, 8256, 8260, 8280, 8281, 8284, 8285, // [!code --]
		8230, 50803, 8705, 8708, 50600, 50700, 50800, 50900, 50101, 50301, // [!code --]
		50401, 50501, 50601, 50701, 50801, 50901, 50102, 50302, 50402, 50502, // [!code --]
		50602, 50702, 50802, 50902, 50103, 50303, 50403, 50503, 50603, 50500, // [!code --]
		50400, 50300, 50100, 8710, 8770, 8775, 8776, 8780, 8790, 8791, // [!code --]
		8800, 8801, 9000, 9001, 9002, 8706, 9003, 9005, 9006, 9007, // [!code --]
		9050, 9150, 9151, 9160, 9200, 9500, 9501, 9502, 9503, 9004, // [!code --]
		50916 // [!code --]
		50113, 50413, 50903, 50100, 50703, 8380, 8390, 8400, 8401, 8402, // [!code ++]
		8403, 8404, 8405, 8406, 8430, 8450, 8470, 8471, 8480, 8490, // [!code ++]
		8491, 8500, 8501, 8502, 8503, 8504, 8506, 8510, 8550, 8700, // [!code ++]
		8300, 8288, 8286, 8285, 7001, 7002, 7003, 7004, 7005, 7006, // [!code ++]
		7007, 7008, 7800, 8200, 8201, 8202, 8702, 8220, 8230, 8232, // [!code ++]
		8240, 8241, 8250, 8251, 8255, 8256, 8260, 8280, 8281, 8284, // [!code ++]
		8221, 8704, 8705, 8706, 50500, 50600, 50700, 50800, 50900, 50101, // [!code ++]
		50301, 50401, 50501, 50601, 50701, 50801, 50400, 50901, 50302, 50402, // [!code ++]
		50502, 50602, 50702, 50802, 50902, 50103, 50303, 50403, 50503, 50603, // [!code ++]
		50102, 50803, 50300, 9503, 8708, 8710, 8770, 8775, 8776, 8780, // [!code ++]
		8790, 8791, 8800, 8801, 9000, 9001, 50816, 9002, 9004, 9005, // [!code ++]
		9006, 9007, 9050, 9150, 9151, 9160, 9200, 9500, 9501, 9502, // [!code ++]
		9003, 50916 // [!code ++]
	};
}
public class Spell : Ability
```

## SourceElement

[`@@ -380,6 +380,7 @@ public override void OnAfterImportData()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/SourceElement.cs#L380-L385)
```cs:line-numbers=380
		AddRow(ele, num + num2 + 700, "miasma_");
		AddRow(ele, num + num2 + 800, "weapon_");
		AddRow(ele, num + num2 + 900, "puddle_");
		AddRow(ele, num + num2 + 1000, "sword_"); // [!code ++]
		num2++;
	}
}
```

## ThingGen

[`@@ -153,16 +153,16 @@ public static Thing CreateSpellbook(string alias, int num = 1)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ThingGen.cs#L153-L168)
```cs:line-numbers=153
		return CreateSpellbook(EClass.sources.elements.alias[alias].id, num);
	}

	public static Thing CreateSkillbook(int ele, int num = 1) // [!code --]
	public static Thing CreateSpellbook(int ele, int num = 1) // [!code ++]
	{
		Thing thing = Create("book_skill").SetNum(num); // [!code --]
		thing.refVal = ele; // [!code --]
		Thing thing = Create("spellbook").SetNum(num); // [!code ++]
		TraitSpellbook.Create(thing, ele); // [!code ++]
		return thing;
	}

	public static Thing CreateSpellbook(int ele, int num = 1) // [!code --]
	public static Thing CreateSkillbook(int ele, int num = 1) // [!code ++]
	{
		Thing thing = Create("spellbook").SetNum(num); // [!code --]
		Thing thing = Create("book_skill").SetNum(num); // [!code ++]
		thing.refVal = ele;
		return thing;
	}
```

[`@@ -170,21 +170,28 @@ public static Thing CreateSpellbook(int ele, int num = 1)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/ThingGen.cs#L170-L190)
```cs:line-numbers=170
	public static Thing CreateScroll(int ele, int num = 1)
	{
		Thing thing = Create("scroll_random").SetNum(num);
		thing.refVal = ele; // [!code --]
		TraitSpellbook.Create(thing, ele); // [!code ++]
		return thing; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public static Thing CreateRod(int ele) // [!code ++]
	{ // [!code ++]
		Thing thing = Create("rod"); // [!code ++]
		TraitRod.Create(thing, ele); // [!code ++]
		return thing;
	}

	public static Thing CreatePotion(int ele, int num = 1)
	{
		Thing thing = Create("1163").SetNum(num);
		thing.refVal = ele; // [!code --]
		TraitPotion.Create(thing, ele); // [!code ++]
		return thing;
	}

	public static Thing CreatePerfume(int ele, int num = 1)
	{
		Thing thing = Create("perfume").SetNum(num);
		thing.refVal = ele; // [!code --]
		TraitPotion.Create(thing, ele); // [!code ++]
		return thing;
	}

```

## Trait

[`@@ -61,6 +61,8 @@ public string[] Params`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Trait.cs#L61-L66)
```cs:line-numbers=61

	public virtual bool IsFloating => false;

	public virtual bool IsNoShop => false; // [!code ++]
 // [!code ++]
	public virtual bool IsGround => false;

	public virtual bool IsOnlyUsableByPc => false;
```

[`@@ -1782,7 +1784,7 @@ public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Trait.cs#L1782-L1788)
```cs:line-numbers=1782
				for (int i = 0; (float)i < num; i++)
				{
					Thing thing = CreateStock();
					if ((!(thing.trait is TraitRod) || thing.c_charges != 0) && thing.GetPrice() > 0) // [!code --]
					if ((!thing.trait.IsNoShop || (ShopType == ShopType.LoytelMart && EClass.player.flags.loytelMartLv >= 2)) && (!(thing.trait is TraitRod) || thing.c_charges != 0) && thing.GetPrice() > 0) // [!code ++]
					{
						t.AddThing(thing);
					}
```

[`@@ -2169,7 +2171,9 @@ public Thing CreateStock()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Trait.cs#L2169-L2175)
```cs:line-numbers=2169
			case ShopType.Drug:
				return FromFilter("shop_drug");
			case ShopType.LoytelMart:
				if (EClass.player.flags.loytelMartLv >= 1) // [!code --]
			{ // [!code ++]
				int loytelMartLv = EClass.player.flags.loytelMartLv; // [!code ++]
				if (loytelMartLv >= 1) // [!code ++]
				{
					if (EClass.rnd(10) == 0)
					{
```

[`@@ -2192,7 +2196,9 @@ public Thing CreateStock()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/Trait.cs#L2192-L2198)
```cs:line-numbers=2192
						return Create("1165");
					}
				}
				_ = 2; // [!code ++]
				return FromFilter("shop_junk");
			} // [!code ++]
			case ShopType.Junk:
				return FromFilter("shop_junk");
			case ShopType.Souvenir:
```

## TraitBaseSpellbook

[`@@ -45,7 +45,7 @@ public override void OnCreate(int lv)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/TraitBaseSpellbook.cs#L45-L51)
```cs:line-numbers=45
	switch (BookType)
	{
	case Type.RandomSpell:
		owner.refVal = selecter.Select(lv); // [!code --]
		TraitSpellbook.Create(owner, selecter.Select(lv)); // [!code ++]
		break;
	case Type.Ancient:
	{
```

## TraitDemitas

[`@@ -52,6 +52,10 @@ public override ShopType ShopType`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/TraitDemitas.cs#L52-L57)
```cs:line-numbers=52

	public override bool CanCopy(Thing t)
	{
		if (t.HasElement(759)) // [!code ++]
		{ // [!code ++]
			return false; // [!code ++]
		} // [!code ++]
		return t.trait is TraitSpellbook;
	}
}
```

## TraitDrink

[`@@ -30,6 +30,18 @@ public virtual int IdEle`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/TraitDrink.cs#L30-L35)
```cs:line-numbers=30

	public virtual SourceElement.Row source => null;

	public override bool IsNoShop // [!code ++]
	{ // [!code ++]
		get // [!code ++]
		{ // [!code ++]
			if (source != null) // [!code ++]
			{ // [!code ++]
				return source.tag.Contains("noShop"); // [!code ++]
			} // [!code ++]
			return false; // [!code ++]
		} // [!code ++]
	} // [!code ++]
 // [!code ++]
	public virtual string AliasEle => N1;

	public virtual string N1 => GetParam(3);
```

## TraitPotion

[`@@ -1,3 +1,11 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/TraitPotion.cs#L1-L3)
```cs:line-numbers=1
public class TraitPotion : TraitDrink
{
	public static void Create(Card owner, int ele) // [!code ++]
	{ // [!code ++]
		owner.refVal = ele; // [!code ++]
		if (EClass.sources.elements.map[ele].tag.Contains("noCopy")) // [!code ++]
		{ // [!code ++]
			owner.elements.SetBase(759, 10); // [!code ++]
		} // [!code ++]
	} // [!code ++]
}
```

## TraitPotionRandom

[`@@ -30,7 +30,7 @@ public override int GetValue()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/TraitPotionRandom.cs#L30-L36)
```cs:line-numbers=30

	public override void OnCreate(int lv)
	{
		owner.refVal = selecter.Select(lv); // [!code --]
		TraitPotion.Create(owner, selecter.Select(lv)); // [!code ++]
	}

	public override string GetName()
```

## TraitRod

[`@@ -6,6 +6,18 @@ public class TraitRod : TraitTool`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/TraitRod.cs#L6-L11)
```cs:line-numbers=6

	public virtual string aliasEle => null;

	public override bool IsNoShop // [!code ++]
	{ // [!code ++]
		get // [!code ++]
		{ // [!code ++]
			if (source != null) // [!code ++]
			{ // [!code ++]
				return source.tag.Contains("noShop"); // [!code ++]
			} // [!code ++]
			return false; // [!code ++]
		} // [!code ++]
	} // [!code ++]
 // [!code ++]
	public virtual SourceElement.Row source => null;

	public virtual int Power
```

[`@@ -49,6 +61,7 @@ public override void OnCreate(int lv)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/TraitRod.cs#L49-L54)
```cs:line-numbers=49
		if (owner.id == "rod_wish")
		{
			owner.c_charges = 1;
			owner.elements.SetBase(759, 30); // [!code ++]
		}
	}

```

[`@@ -59,4 +72,15 @@ public override void TrySetHeldAct(ActPlan p)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/TraitRod.cs#L59-L62)
```cs:line-numbers=59
			trait = this
		}, owner);
	}
 // [!code ++]
	public static void Create(Card owner, int ele) // [!code ++]
	{ // [!code ++]
		owner.refVal = ele; // [!code ++]
		SourceElement.Row row = EClass.sources.elements.map[ele]; // [!code ++]
		owner.c_charges = EClass.rnd(row.charge * 150 / 100); // [!code ++]
		if (row.tag.Contains("noCopy")) // [!code ++]
		{ // [!code ++]
			owner.elements.SetBase(759, 10); // [!code ++]
		} // [!code ++]
	} // [!code ++]
}
```

## TraitRodRandom

[`@@ -30,8 +30,7 @@ public override bool IsNegative`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/TraitRodRandom.cs#L30-L37)
```cs:line-numbers=30

	public override void OnCreate(int lv)
	{
		owner.c_charges = EClass.rnd(source.charge * 150 / 100); // [!code --]
		owner.refVal = selecter.Select(lv); // [!code --]
		TraitRod.Create(owner, selecter.Select(lv)); // [!code ++]
	}

	public override string GetName()
```

## TraitSalesTag

[`@@ -34,6 +34,10 @@ public static bool CanTagSale(Card t, bool insideContainer = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/TraitSalesTag.cs#L34-L39)
```cs:line-numbers=34
		{
			return false;
		}
		if (t.trait is TraitMannequin) // [!code ++]
		{ // [!code ++]
			return false; // [!code ++]
		} // [!code ++]
	}
	if (t.GetPrice(CurrencyType.Money, sell: true, PriceType.PlayerShop) == 0)
	{
```

## TraitScroll

[`@@ -20,6 +20,18 @@ public virtual int eleParent`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/TraitScroll.cs#L20-L25)
```cs:line-numbers=20

	public virtual bool UseSourceValue => true;

	public override bool IsNoShop // [!code ++]
	{ // [!code ++]
		get // [!code ++]
		{ // [!code ++]
			if (source != null) // [!code ++]
			{ // [!code ++]
				return source.tag.Contains("noShop"); // [!code ++]
			} // [!code ++]
			return false; // [!code ++]
		} // [!code ++]
	} // [!code ++]
 // [!code ++]
	public override SourceElement.Row GetRefElement()
	{
		return source;
```

## TraitSpellbook

[`@@ -1,4 +1,18 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/TraitSpellbook.cs#L1-L4)
```cs:line-numbers=1
public class TraitSpellbook : TraitBaseSpellbook
{
	public override int Difficulty => 10 + source.LV;
 // [!code ++]
	public static void Create(Card owner, int ele) // [!code ++]
	{ // [!code ++]
		owner.refVal = ele; // [!code ++]
		SourceElement.Row row = EClass.sources.elements.map[ele]; // [!code ++]
		if (row.tag.Contains("noCopy")) // [!code ++]
		{ // [!code ++]
			owner.elements.SetBase(759, 10); // [!code ++]
		} // [!code ++]
		if (row.charge == 1) // [!code ++]
		{ // [!code ++]
			owner.c_charges = 1; // [!code ++]
		} // [!code ++]
	} // [!code ++]
}
```

## TraitWrench

[`@@ -117,7 +117,7 @@ public bool Upgrade(Thing t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/b00ed7a39cc6bf8abc601335b131f41ba0b6838f/Elin/TraitWrench.cs#L117-L123)
```cs:line-numbers=117

	public override void TrySetHeldAct(ActPlan p)
	{
		p.pos.Things.ForEach(delegate(Thing t) // [!code --]
		p.pos.Things.ForeachReverse(delegate(Thing t) // [!code ++]
		{
			if (IsValidTarget(t))
			{
```
