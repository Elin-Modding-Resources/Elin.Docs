---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 22 files modified.
version: EA 23.197 Nightly
changes: AI_Fuck/AI_TendAnimal/AM_Build/ActEffect/ActNTR/AttackProcess/AttackSource/BaseWidgetNotice/ButtonAbility/Card/Chara/ConBoost/ElementContainerCard/FACTION/FEAT/FoodEffect/NotificationCondition/StatsMana/Trait/TraitBasketGame/TraitHitchingPost/WidgetStats
---

# EA 23.197 Nightly

September 10, 2025

22 files modified.

## Important Changes

Possible breaking changes. Click the filename to view the chunk.
### [AI_TendAnimal (1)](#ai-tendanimal)
```cs:no-line-numbers
public override bool ShouldAllyAttack(Chara tg) // [!code --]

```
## AI_Fuck

[`public enum FuckType`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/AI_Fuck.cs#L43-L48)
```cs:line-numbers=43

	public override bool CancelWhenDamaged => !ntr;

	public override bool ShouldAllyAttack(Chara tg) // [!code ++]
	{ // [!code ++]
		return tg != target; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public override IEnumerable<Status> Run()
	{
		if (target == null)
```

[`public void Finish()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/AI_Fuck.cs#L294-L299)
```cs:line-numbers=294
		{
			EClass.player.stats.kimo++;
		}
		if (ntr) // [!code ++]
		{ // [!code ++]
			chara2.things.Find<TraitDreamBug>()?.ModNum(-1); // [!code ++]
		} // [!code ++]
		if (!ntr || !chara.HasElement(1239) || chara2.HasElement(1216))
		{
			break;
```

## AI_TendAnimal

[`public class AI_TendAnimal : AI_Fuck`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/AI_TendAnimal.cs#L1-L9)
```cs:line-numbers=1
public class AI_TendAnimal : AI_Fuck
{
	public override FuckType Type => FuckType.tame;
 // [!code --]
	public override bool ShouldAllyAttack(Chara tg) // [!code --]
	{ // [!code --]
		return tg != target; // [!code --]
	} // [!code --]
}
```

## AM_Build

[`public override void RotateUnderMouse()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/AM_Build.cs#L349-L365)
```cs:line-numbers=349

	public override void InputWheel(int wheel)
	{
		if (!EInput.isAltDown && !EInput.isCtrlDown) // [!code --]
		if (recipe.MaxAltitude > 0) // [!code ++]
		{
			if (recipe.MaxAltitude > 0) // [!code --]
			{ // [!code --]
				ModAltitude(wheel); // [!code --]
				EClass.screen.tileSelector.RefreshMouseInfo(force: true); // [!code --]
			} // [!code --]
			else // [!code --]
			{ // [!code --]
				base.InputWheel(wheel); // [!code --]
			} // [!code --]
			ModAltitude(wheel); // [!code ++]
			EClass.screen.tileSelector.RefreshMouseInfo(force: true); // [!code ++]
		} // [!code ++]
		else // [!code ++]
		{ // [!code ++]
			base.InputWheel(wheel); // [!code ++]
		}
	}

```

## ActEffect

[`public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/ActEffect.cs#L215-L220)
```cs:line-numbers=215
			case EffectId.Arrow:
				attackSource = AttackSource.MagicArrow;
				break;
			case EffectId.Hand: // [!code ++]
				attackSource = AttackSource.MagicHand; // [!code ++]
				break; // [!code ++]
			case EffectId.Sword:
				attackSource = AttackSource.MagicSword;
				break;
```

## ActNTR

[`public class ActNTR : Ability`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/ActNTR.cs#L2-L10)
```cs:line-numbers=2
{
	public override bool CanPerform()
	{
		if (Act.TC.isChara && (Act.TC.Chara.conSleep != null || Act.CC.HasElement(1239) || Act.TC.Evalue(418) < 0)) // [!code --]
		if (Act.TC == null || !Act.TC.isChara) // [!code ++]
		{
			return Act.TC.Evalue(418) <= 0; // [!code --]
			return false; // [!code ++]
		} // [!code ++]
		Chara chara = Act.TC.Chara; // [!code ++]
		bool flag = chara.things.Find<TraitDreamBug>() != null; // [!code ++]
		if (!flag && Act.TC.Evalue(418) > 0) // [!code ++]
		{ // [!code ++]
			return false; // [!code ++]
		} // [!code ++]
		if (chara.conSleep != null || Act.CC.HasElement(1239) || chara.Evalue(418) < 0) // [!code ++]
		{ // [!code ++]
			return true; // [!code ++]
		} // [!code ++]
		if (flag) // [!code ++]
		{ // [!code ++]
			if (!chara.IsDisabled && !chara.isConfused && !chara.HasCondition<ConFreeze>() && !chara.HasCondition<ConDim>()) // [!code ++]
			{ // [!code ++]
				return chara.HasCondition<ConFear>(); // [!code ++]
			} // [!code ++]
			return true; // [!code ++]
		}
		return false;
	}
```

## AttackProcess

[`public void Prepare(Chara _CC, Thing _weapon, Card _TC = null, Point _TP = null,`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/AttackProcess.cs#L209-L215)
```cs:line-numbers=209
			toHitBase = toHitBase * 75 / 100;
		}
		penetration = Mathf.Clamp(weaponSkill.Value / 10 + 5, 5, 20) + CC.Evalue(92);
		if (CC.HasElement(1244)) // [!code --]
		if (CC.HasElement(1246)) // [!code ++]
		{
			penetration += 25;
		}
```

[`public void Prepare(Chara _CC, Thing _weapon, Card _TC = null, Point _TP = null,`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/AttackProcess.cs#L253-L258)
```cs:line-numbers=253
		toHitBase = EClass.curve((IsCane ? CC.WIL : CC.DEX) / 4 + weaponSkill.GetParent(CC).Value / 3 + weaponSkill.Value, 50, 25) + 50;
		toHitFix = CC.HIT + weapon.HIT;
		penetration = weapon.Penetration + CC.Evalue(92);
		if (CC.HasElement(1244)) // [!code ++]
		{ // [!code ++]
			penetration += 25; // [!code ++]
		} // [!code ++]
		if (IsCane)
		{
			toHitBase += 50;
```

[`public bool CalcHit()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/AttackProcess.cs#L958-L964)
```cs:line-numbers=958
		crit = true;
		return true;
	}
	if (CC.HasElement(1244) && CC.HasCondition<ConSevenSense>()) // [!code --]
	if (CC.HasCondition<ConSevenSense>() && (CC.HasElement(1244) || CC.HasElement(1246))) // [!code ++]
	{
		return true;
	}
```

## AttackSource

[`public enum AttackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/AttackSource.cs#L21-L25)
```cs:line-numbers=21
	Shockwave,
	MagicSword,
	MoonSpear,
	MagicArrow // [!code --]
	MagicArrow, // [!code ++]
	MagicHand // [!code ++]
}
```

## BaseWidgetNotice

[`public void _RefreshAll()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/BaseWidgetNotice.cs#L78-L83)
```cs:line-numbers=78

	public void Sort()
	{
		IList<BaseNotification> list = this.list.Copy(); // [!code ++]
		list.Sort((BaseNotification a, BaseNotification b) => b.GetSortVal() - a.GetSortVal());
		for (int i = 0; i < list.Count; i++)
		{
```

## ButtonAbility

[`public static bool TryUse(Act act, Card tg = null, Point pos = null, Card cataly`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/ButtonAbility.cs#L195-L201)
```cs:line-numbers=195
	{
		EClass.player.EndTurn();
	}
	else if (EClass.pc.UseAbility(act.source.alias, tg, pos, flag)) // [!code --]
	else if (EClass.pc.UseAbility(act.source.alias, tg, pos, flag) && EClass.pc.HasNoGoal) // [!code ++]
	{
		EClass.player.EndTurn();
	}
```

## Card

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/Card.cs#L4023-L4028)
```cs:line-numbers=4023
			{
				num3++;
			}
			if (attackSource == AttackSource.MagicHand && origin != null && origin.HasElement(1246)) // [!code ++]
			{ // [!code ++]
				num3++; // [!code ++]
			} // [!code ++]
			dmg = Element.GetResistDamage(dmg, Evalue(e.source.aliasRef), num3);
			dmg = dmg * 100 / (100 + Mathf.Clamp(Evalue(961) * 5, -50, 200));
			dmg = dmg * Mathf.Max(100 - Evalue(93), 10) / 100;
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/Card.cs#L4256-L4262)
```cs:line-numbers=4256
							Chara.AddCondition<ConFractured>((int)Mathf.Max(10f, 30f - Mathf.Sqrt(Evalue(436))));
							hp = Mathf.Min(half * (int)Mathf.Sqrt(Evalue(436) * 2) / 100, MaxHP / 3);
						});
						goto IL_0e69; // [!code --]
						goto IL_0e94; // [!code ++]
					}
				}
				if (zoneInstanceBout != null && (bool)LayerDrama.Instance)
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/Card.cs#L4284-L4290)
```cs:line-numbers=4284
						if (EClass.player.invlunerable)
						{
							EvadeDeath(null);
							goto IL_0e69; // [!code --]
							goto IL_0e94; // [!code ++]
						}
					}
					if (Evalue(1220) > 0 && Chara.stamina.value >= (IsPC ? (Chara.stamina.max / 2) : (Chara.stamina.max / 3 * 2)))
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/Card.cs#L4302-L4309)
```cs:line-numbers=4302
			}
		}
	}
	goto IL_0e69; // [!code --]
	IL_0e69: // [!code --]
	goto IL_0e94; // [!code ++]
	IL_0e94: // [!code ++]
	if (trait.CanBeAttacked)
	{
		renderer.PlayAnime(AnimeID.HitObj);
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/Card.cs#L4626-L4631)
```cs:line-numbers=4626
		Chara.AddCondition<ConBoost>(Power);
		Chara.Cure(CureType.Boss);
		Chara.HealHP(MaxHP / 2);
		EClass.player.forceTalk = true; // [!code ++]
	}
	if (origin != null && origin.isChara && attackSource != AttackSource.Finish)
	{
```

[`void EvadeDeath(Action action)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/Card.cs#L4649-L4658)
```cs:line-numbers=4649
	}
	void Heal()
	{
		target.Cure(CureType.Death); // [!code --]
		target.Cure(CureType.HealComplete); // [!code ++]
		foreach (Chara member in EClass.pc.party.members)
		{
			member.Cure(CureType.Death); // [!code --]
			member.Cure(CureType.HealComplete); // [!code ++]
		}
	}
	void ProcAbsorb()
```

## Chara

[`public void SetFaith(Religion r)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/Chara.cs#L1698-L1704)
```cs:line-numbers=1698

	public void HealAll()
	{
		Cure(CureType.Death); // [!code --]
		Cure(CureType.HealComplete); // [!code ++]
		base.hp = MaxHP;
		mana.value = mana.max;
		stamina.value = stamina.max;
```

[`public override void Tick()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/Chara.cs#L3863-L3868)
```cs:line-numbers=3863
		{
			pos.Things.ForeachReverse(delegate(Thing t)
			{
				if (t.trait.IgnoreOnSteppedWhenMoving) // [!code ++]
				{ // [!code ++]
					AI_Goto aI_Goto = ai.Current as AI_Goto; // [!code ++]
					if ((aI_Goto == null && !(ai is GoalManualMove)) || (aI_Goto != null && !aI_Goto.dest.Equals(pos))) // [!code ++]
					{ // [!code ++]
						return; // [!code ++]
					} // [!code ++]
				} // [!code ++]
				t.trait.OnStepped(this);
			});
			if (isDead)
```

[`public void Cure(CureType type, int p = 100, BlessedState state = BlessedState.N`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/Chara.cs#L9144-L9155)
```cs:line-numbers=9144
		}
		CureCondition<ConWait>();
		CureCondition<ConDisease>((EClass.rnd(20) + 10) * p / 100);
		bool flag2 = HasCondition<ConAnorexia>(); // [!code --]
		base.c_vomit -= (flag2 ? 3 : 2) * p / 100; // [!code --]
		bool flag3 = HasCondition<ConAnorexia>(); // [!code ++]
		base.c_vomit -= (flag3 ? 3 : 2) * p / 100; // [!code ++]
		if (base.c_vomit < 0)
		{
			base.c_vomit = 0;
			if (flag2) // [!code --]
			if (flag3) // [!code ++]
			{
				RemoveCondition<ConAnorexia>();
			}
```

[`public void Cure(CureType type, int p = 100, BlessedState state = BlessedState.N`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/Chara.cs#L9161-L9186)
```cs:line-numbers=9161
	case CureType.Jure:
	case CureType.Boss:
	{
		bool flag2 = type == CureType.Death; // [!code ++]
		CureTempElements(p * 100, body: true, mind: true);
		for (int num = conditions.Count - 1; num >= 0; num--)
		{
			Condition condition = conditions[num];
			if (!(condition is ConAnorexia) || type == CureType.Death) // [!code --]
			if (condition is ConAnorexia && !flag2) // [!code ++]
			{
				ConditionType type2 = condition.Type; // [!code --]
				if ((uint)(type2 - 2) <= 2u || type2 == ConditionType.Stance) // [!code --]
				{ // [!code --]
					condition.Kill(); // [!code --]
				} // [!code --]
				else if (type == CureType.Death && condition.isPerfume) // [!code --]
				continue; // [!code ++]
			} // [!code ++]
			switch (condition.Type) // [!code ++]
			{ // [!code ++]
			case ConditionType.Bad: // [!code ++]
			case ConditionType.Debuff: // [!code ++]
			case ConditionType.Disease: // [!code ++]
				condition.Kill(); // [!code ++]
				continue; // [!code ++]
			case ConditionType.Stance: // [!code ++]
				if (flag2) // [!code ++]
				{
					condition.Kill();
					continue; // [!code ++]
				}
				break; // [!code ++]
			} // [!code ++]
			if (flag2 && condition.isPerfume) // [!code ++]
			{ // [!code ++]
				condition.Kill(); // [!code ++]
			}
		}
		CureCondition<ConWait>();
		CureCondition<ConSleep>();
		if (type == CureType.Death || type == CureType.Boss) // [!code --]
		if (flag2 || type == CureType.Boss) // [!code ++]
		{
			SAN.Mod(-20);
			RemoveCondition<ConBrightnessOfLife>();
```

[`public void RefreshFaithElement()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/Chara.cs#L9746-L9758)
```cs:line-numbers=9746
		return;
	}
	faithElements = new ElementContainer();
	SourceElement.Row row2 = EClass.sources.elements.alias.TryGetValue("featGod_" + row.id + "1"); // [!code --]
	if (row2 != null) // [!code --]
	{ // [!code --]
		faithElements.SetBase(row2.id, 1); // [!code --]
	} // [!code --]
	if (!HasCondition<ConExcommunication>())
	{
		SourceElement.Row row2 = EClass.sources.elements.alias.TryGetValue("featGod_" + row.id + "1"); // [!code ++]
		if (row2 != null) // [!code ++]
		{ // [!code ++]
			faithElements.SetBase(row2.id, 1); // [!code ++]
		} // [!code ++]
		int[] array = row.elements;
		int num = GetPietyValue() * (120 + Evalue(1407) * 15) / 100;
		for (int i = 0; i < array.Length; i += 2)
```

## ConBoost

[`public class ConBoost : BaseBuff`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/ConBoost.cs#L2-L13)
```cs:line-numbers=2
{
	public override void OnStart()
	{
		owner._CreateRenderer(); // [!code --]
		if (!owner.IsPCC) // [!code ++]
		{ // [!code ++]
			owner._CreateRenderer(); // [!code ++]
		} // [!code ++]
	}

	public override void OnRemoved()
	{
		owner._CreateRenderer(); // [!code --]
		if (!owner.IsPCC) // [!code ++]
		{ // [!code ++]
			owner._CreateRenderer(); // [!code ++]
		} // [!code ++]
	}

	public override RendererReplacer GetRendererReplacer()
```

## ElementContainerCard

[`public void CheckSkillActions()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/ElementContainerCard.cs#L47-L52)
```cs:line-numbers=47
		TryLearn(6700, 1649, 0);
		TryLearn(6720, 1657, 0);
		TryLearn(6450, 132, 5);
		TryLearn(6603, 6020, 50); // [!code ++]
	}
	void TryLearn(int eleAction, int reqEle, int lqlv)
	{
```

## FACTION

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FACTION.cs#L60-L65)
```cs:line-numbers=60

	public const int bfVolcano = 3704;

	public const int bfTranquil = 3703; // [!code ++]
 // [!code ++]
	public const int actBuildInspect = 4006;

	public const int actBuildRecipe = 4005;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FACTION.cs#L72-L79)
```cs:line-numbers=72

	public const int actBuildMine = 4001;

	public const int bfTranquil = 3703; // [!code --]
 // [!code --]
	public const int bfStart = 3900;

	public const int bfChitin = 3805;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FACTION.cs#L94-L99)
```cs:line-numbers=94

	public const int bfLandmark3 = 3782;

	public const int bfHunt = 3705; // [!code ++]
 // [!code ++]
	public const int bfLandmark1 = 3780;

	public const int bfBreed = 3710;
```

[`public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FACTION.cs#L106-L123)
```cs:line-numbers=106

	public const int bfFish = 3706;

	public const int bfHunt = 3705; // [!code --]
 // [!code --]
	public const int bfMushroom = 3801;

	public static readonly int[] IDS = new int[53]
	{
		3605, 2207, 3606, 3700, 3604, 3603, 3602, 3601, 3600, 3500,
		2206, 2120, 2204, 2203, 2202, 2201, 2200, 2119, 2118, 2117,
		2116, 3701, 2115, 2003, 2205, 3702, 3781, 3704, 4006, 4005, // [!code --]
		4004, 4003, 4002, 4001, 3703, 3900, 3805, 3804, 3803, 3802, // [!code --]
		4000, 3800, 3784, 3783, 3782, 3780, 3710, 3709, 3708, 3707, // [!code --]
		3706, 3705, 3801 // [!code --]
		2116, 3701, 2115, 2003, 2205, 3702, 3781, 3704, 3703, 4006, // [!code ++]
		4005, 4004, 4003, 4002, 4001, 3900, 3805, 3804, 3803, 3802, // [!code ++]
		4000, 3800, 3784, 3783, 3782, 3705, 3780, 3710, 3709, 3708, // [!code ++]
		3707, 3706, 3801 // [!code ++]
	};
}
public class Faction : EClass
```

## FEAT

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FEAT.cs#L11-L17)
```cs:line-numbers=11

	public const int featPER = 1623;

	public const int featSPD = 1629; // [!code --]
	public const int featLuck = 1628; // [!code ++]

	public const int featMAG = 1625;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FEAT.cs#L19-L33)
```cs:line-numbers=19

	public const int featCHA = 1627;

	public const int featLuck = 1628; // [!code --]
	public const int featStamina = 1612; // [!code ++]

	public const int featLER = 1624;

	public const int featStamina = 1612; // [!code --]
 // [!code --]
	public const int featFairysan = 1413; // [!code --]
	public const int featMana = 1611; // [!code ++]

	public const int featLife = 1610; // [!code --]
	public const int featLuckyCat = 1412; // [!code ++]

	public const int featHealer = 1422;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FEAT.cs#L47-L63)
```cs:line-numbers=47

	public const int featWhiteVixen = 1414;

	public const int featHardy = 1630; // [!code --]
	public const int featFairysan = 1413; // [!code ++]

	public const int featMana = 1611; // [!code --]
	public const int featSPD = 1629; // [!code ++]

	public const int featDefense = 1631; // [!code --]
	public const int featLife = 1610; // [!code ++]

	public const int featSummoner = 1647; // [!code --]
	public const int featHardy = 1630; // [!code ++]

	public const int featSpotting = 1633; // [!code --]
	public const int featLonelySoul = 1646; // [!code ++]

	public const int featLuckyCat = 1412; // [!code --]
	public const int featEvade = 1632; // [!code ++]
 // [!code ++]
	public const int featEarthStrength = 1411; // [!code ++]

	public const int featFisher = 1659;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FEAT.cs#L79-L89)
```cs:line-numbers=79

	public const int featGourmet = 1650;

	public const int featDefender = 1649; // [!code --]
	public const int featDefense = 1631; // [!code ++]

	public const int featRapidMagic = 1648; // [!code --]
	public const int featDefender = 1649; // [!code ++]

	public const int featLonelySoul = 1646; // [!code --]
	public const int featSummoner = 1647; // [!code ++]

	public const int featParty = 1645;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FEAT.cs#L103-L115)
```cs:line-numbers=103

	public const int featNegotiate = 1634;

	public const int featEvade = 1632; // [!code --]
	public const int featSpotting = 1633; // [!code ++]

	public const int featEarthStrength = 1411; // [!code --]
	public const int featRapidMagic = 1648; // [!code ++]
 // [!code ++]
	public const int featReboot = 1410; // [!code ++]

	public const int featLooter = 1660;

	public const int featBoost = 1409; // [!code --]
	public const int featPaladin2 = 1408; // [!code ++]

	public const int featServant = 1227;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FEAT.cs#L147-L152)
```cs:line-numbers=147

	public const int featSevenSense = 1245;

	public const int featPegasus = 1246; // [!code ++]
 // [!code ++]
	public const int featGod_element1 = 1300;

	public const int featGod_earth1 = 1305;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FEAT.cs#L155-L162)
```cs:line-numbers=155

	public const int featGod_machine1 = 1315;

	public const int featGod_healing1 = 1320; // [!code --]
 // [!code --]
	public const int featUnderground = 1226;

	public const int featLoyal = 1225;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FEAT.cs#L167-L173)
```cs:line-numbers=167

	public const int featSlowFood = 1200;

	public const int featReboot = 1410; // [!code --]
	public const int featBoost = 1409; // [!code ++]

	public const int featManaBond = 1201;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FEAT.cs#L187-L193)
```cs:line-numbers=187

	public const int featFluffyTail = 1209;

	public const int featGod_harvest1 = 1325; // [!code --]
	public const int featGod_healing1 = 1320; // [!code ++]

	public const int featUndead = 1210;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FEAT.cs#L215-L228)
```cs:line-numbers=215

	public const int featSnail = 1211;

	public const int featGod_luck1 = 1330; // [!code --]
	public const int featGod_harvest1 = 1325; // [!code ++]

	public const int featElder = 1238;

	public const int featGod_oblivion1 = 1340; // [!code --]
 // [!code --]
	public const int featGod_harmony1 = 1335;

	public const int featGod_luck1 = 1330; // [!code ++]
 // [!code ++]
	public const int featGod_trickery1 = 1345; // [!code ++]
 // [!code ++]
	public const int featGod_moonshadow1 = 1350;

	public const int featGod_strife1 = 1355;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FEAT.cs#L239-L267)
```cs:line-numbers=239

	public const int featPianist = 1405;

	public const int featTourist = 1406; // [!code --]
 // [!code --]
	public const int featGod_trickery1 = 1345; // [!code --]
 // [!code --]
	public const int featPaladin2 = 1408; // [!code --]
	public const int featGod_oblivion1 = 1340; // [!code ++]

	public const int featPaladin = 1407;

	public static readonly int[] IDS = new int[122] // [!code --]
	public const int featTourist = 1406; // [!code ++]
 // [!code ++]
	public static readonly int[] IDS = new int[123] // [!code ++]
	{
		1620, 1621, 1622, 1623, 1629, 1625, 1626, 1627, 1628, 1624, // [!code --]
		1612, 1413, 1610, 1422, 1421, 1420, 1419, 1418, 1417, 1416, // [!code --]
		1415, 1414, 1630, 1611, 1631, 1647, 1633, 1412, 1659, 1658, // [!code --]
		1657, 1656, 1655, 1654, 1653, 1652, 1651, 1650, 1649, 1648, // [!code --]
		1646, 1645, 1644, 1643, 1642, 1641, 1640, 1636, 1635, 1634, // [!code --]
		1632, 1411, 1660, 1409, 1227, 1228, 1229, 1230, 1231, 1232, // [!code --]
		1233, 1234, 1235, 1236, 1237, 1239, 1240, 1241, 1242, 1243, // [!code --]
		1244, 1245, 1300, 1305, 1310, 1315, 1320, 1226, 1225, 1224, // [!code --]
		1223, 1200, 1410, 1201, 1202, 1203, 1204, 1205, 1206, 1207, // [!code --]
		1208, 1209, 1325, 1210, 1212, 1213, 1214, 1215, 1216, 1217, // [!code --]
		1218, 1219, 1220, 1221, 1222, 1211, 1330, 1238, 1340, 1335, // [!code --]
		1350, 1355, 1400, 1401, 1402, 1403, 1404, 1405, 1406, 1345, // [!code --]
		1408, 1407 // [!code --]
		1620, 1621, 1622, 1623, 1628, 1625, 1626, 1627, 1612, 1624, // [!code ++]
		1611, 1412, 1422, 1421, 1420, 1419, 1418, 1417, 1416, 1415, // [!code ++]
		1414, 1413, 1629, 1610, 1630, 1646, 1632, 1411, 1659, 1658, // [!code ++]
		1657, 1656, 1655, 1654, 1653, 1652, 1651, 1650, 1631, 1649, // [!code ++]
		1647, 1645, 1644, 1643, 1642, 1641, 1640, 1636, 1635, 1634, // [!code ++]
		1633, 1648, 1410, 1660, 1408, 1227, 1228, 1229, 1230, 1231, // [!code ++]
		1232, 1233, 1234, 1235, 1236, 1237, 1239, 1240, 1241, 1242, // [!code ++]
		1243, 1244, 1245, 1246, 1300, 1305, 1310, 1315, 1226, 1225, // [!code ++]
		1224, 1223, 1200, 1409, 1201, 1202, 1203, 1204, 1205, 1206, // [!code ++]
		1207, 1208, 1209, 1320, 1210, 1212, 1213, 1214, 1215, 1216, // [!code ++]
		1217, 1218, 1219, 1220, 1221, 1222, 1211, 1325, 1238, 1335, // [!code ++]
		1330, 1345, 1350, 1355, 1400, 1401, 1402, 1403, 1404, 1405, // [!code ++]
		1340, 1407, 1406 // [!code ++]
	};
}
public class Feat : Element
```

## FoodEffect

[`public static void Proc(Chara c, Thing food, bool consume = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FoodEffect.cs#L214-L224)
```cs:line-numbers=214
				break;
			case "poison":
				ActEffect.Poison(c, EClass.pc, value.Value * 10);
				if (c.isDead) // [!code --]
				if (!c.isDead) // [!code ++]
				{
					return; // [!code --]
					break; // [!code ++]
				}
				break; // [!code --]
				goto IL_0f04; // [!code ++]
			case "love":
				ActEffect.LoveMiracle(c, EClass.pc, value.Value * 10);
				break;
```

[`public static void Proc(Chara c, Thing food, bool consume = true)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/FoodEffect.cs#L363-L368)
```cs:line-numbers=363
	{
		food.trait.OnDrink(c);
	}
	goto IL_0f04; // [!code ++]
	IL_0f04: // [!code ++]
	if (consume)
	{
		num7 += 5f;
```

## NotificationCondition

[`public override bool ShouldRemove()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/NotificationCondition.cs#L32-L37)
```cs:line-numbers=32
public override int GetSortVal()
{
	int num = 5;
	WidgetStats instance = WidgetStats.Instance; // [!code ++]
	bool sort = instance.extra.sort; // [!code ++]
	switch (condition.Type)
	{
	case ConditionType.Stance:
```

[`public override int GetSortVal()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/NotificationCondition.cs#L41-L54)
```cs:line-numbers=41
			num = 10;
			break;
		case ConditionType.Debuff:
			num = 11; // [!code --]
			num = (sort ? 11 : 10); // [!code ++]
			break;
		}
		if (condition is ConBuffStats)
		{
			num = 1;
		}
		return 8000000 + num * 100000 + condition.GetSortVal(); // [!code --]
		if (condition is ConAwakening) // [!code ++]
		{ // [!code ++]
			num = 2; // [!code ++]
		} // [!code ++]
		return 8000000 + num * 100000 + (sort ? condition.GetSortVal() : instance.list.IndexOf(this)); // [!code ++]
	}

	public override void OnClick()
```

## StatsMana

[`public override void Mod(int a)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/StatsMana.cs#L30-L65)
```cs:line-numbers=30
			a /= 10;
		}
		_ = BaseStats.CC.ShouldShowMsg;
		if (value >= 0) // [!code --]
		{ // [!code --]
			return; // [!code --]
		} // [!code --]
		int num = -value * 400 / (100 + BaseStats.CC.EvalueMax(303, -5) * 10); // [!code --]
		if (BaseStats.CC.HasElement(1201)) // [!code --]
		{ // [!code --]
			num /= 3; // [!code --]
		} // [!code --]
		if (!BaseStats.CC.IsPC) // [!code --]
		Chara cC = BaseStats.CC; // [!code ++]
		if (value < 0) // [!code ++]
		{
			num /= 5; // [!code --]
			if (num < 10) // [!code --]
			int num = -value * 400 / (100 + BaseStats.CC.EvalueMax(303, -5) * 10); // [!code ++]
			if (BaseStats.CC.HasElement(1201)) // [!code ++]
			{
				return; // [!code --]
				num /= 3; // [!code ++]
			}
		} // [!code --]
		BaseStats.CC.Say("mana_overflow", BaseStats.CC); // [!code --]
		BaseStats.CC.DamageHP(num, 921, 100, AttackSource.ManaBackfire); // [!code --]
		Chara cC = BaseStats.CC; // [!code --]
		if (cC.IsAliveInCurrentZone) // [!code --]
		{ // [!code --]
			cC.elements.ModExp(303, Mathf.Clamp(-a * 10, 10, 200)); // [!code --]
			if (cC.HasElement(1245) && !cC.HasCooldown(1245)) // [!code --]
			if (!BaseStats.CC.IsPC) // [!code ++]
			{
				cC.AddCooldown(1245); // [!code --]
				cC.AddCondition<ConSevenSense>(cC.Power); // [!code --]
				cC.Cure(CureType.Boss); // [!code --]
				cC.HealHP(cC.MaxHP / 2); // [!code --]
				num /= 5; // [!code ++]
				if (num < 10) // [!code ++]
				{ // [!code ++]
					return; // [!code ++]
				} // [!code ++]
			}
			BaseStats.CC.Say("mana_overflow", BaseStats.CC); // [!code ++]
			BaseStats.CC.DamageHP(num, 921, 100, AttackSource.ManaBackfire); // [!code ++]
			if (cC.IsAliveInCurrentZone) // [!code ++]
			{ // [!code ++]
				cC.elements.ModExp(303, Mathf.Clamp(-a * 10, 10, 200)); // [!code ++]
			} // [!code ++]
		} // [!code ++]
		if (value <= 0 && cC.IsAliveInCurrentZone && cC.HasElement(1245) && !cC.HasCooldown(1245)) // [!code ++]
		{ // [!code ++]
			cC.AddCooldown(1245); // [!code ++]
			cC.AddCondition<ConSevenSense>(cC.Power); // [!code ++]
			cC.Cure(CureType.Boss); // [!code ++]
			cC.HealHP(cC.MaxHP / 2); // [!code ++]
			EClass.player.forceTalk = true; // [!code ++]
		}
	}
}
```

## Trait

[`public virtual bool CanBeHeldAsFurniture`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/Trait.cs#L367-L372)
```cs:line-numbers=367

	public virtual string LangUse => "actUse";

	public virtual bool IgnoreOnSteppedWhenMoving => false; // [!code ++]
 // [!code ++]
	public virtual bool IsOn => owner.isOn;

	public virtual bool IsAnimeOn
```

## TraitBasketGame

[`public class TraitBasketGame : TraitFloorSwitch`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/TraitBasketGame.cs#L1-L5)
```cs:line-numbers=1
public class TraitBasketGame : TraitFloorSwitch
{
	public override bool IgnoreOnSteppedWhenMoving => true; // [!code ++]
 // [!code ++]
	public override void OnActivateTrap(Chara c)
	{
		if (c.IsPC)
```

## TraitHitchingPost

[`public class TraitHitchingPost : TraitFloorSwitch`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/TraitHitchingPost.cs#L1-L5)
```cs:line-numbers=1
public class TraitHitchingPost : TraitFloorSwitch
{
	public override bool IgnoreOnSteppedWhenMoving => true; // [!code ++]
 // [!code ++]
	public override bool IsHomeItem => true;

	public override void OnActivateTrap(Chara c)
```

## WidgetStats

[`using System.Collections.Generic;`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/WidgetStats.cs#L1-L7)
```cs:line-numbers=1
using System.Collections.Generic;
using Newtonsoft.Json; // [!code ++]

public class WidgetStats : BaseWidgetNotice
{
	public class Extra // [!code ++]
	{ // [!code ++]
		[JsonProperty] // [!code ++]
		public bool sort; // [!code ++]
	} // [!code ++]
 // [!code ++]
	public static WidgetStats Instance;

	public List<NotificationCondition> conditions = new List<NotificationCondition>();
```

[`public class WidgetStats : BaseWidgetNotice`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/WidgetStats.cs#L14-L19)
```cs:line-numbers=14

	public ItemNotice moldCooldown;

	public Extra extra => base.config.extra as Extra; // [!code ++]
 // [!code ++]
	public override object CreateExtra() // [!code ++]
	{ // [!code ++]
		return new Extra(); // [!code ++]
	} // [!code ++]
 // [!code ++]
	public static void RefreshAll()
	{
		if ((bool)Instance)
```

[`public override void OnRefresh()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/0d42bff7c8ebb79734daa561fa4136a7aa21f6e2/Elin/WidgetStats.cs#L125-L128)
```cs:line-numbers=125
			}
		}
	}
 // [!code ++]
	public override void OnSetContextMenu(UIContextMenu m) // [!code ++]
	{ // [!code ++]
		m.AddChild("setting").AddToggle("sort_always", extra.sort, delegate(bool a) // [!code ++]
		{ // [!code ++]
			extra.sort = a; // [!code ++]
		}); // [!code ++]
		SetBaseContextMenu(m); // [!code ++]
	} // [!code ++]
}
```
