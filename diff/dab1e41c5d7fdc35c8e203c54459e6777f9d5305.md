---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 7 files modified.
version: EA 23.197 Nightly Patch 1
changes: AM_MoveInstalled/AttackProcess/Card/FEAT/FOOD/MUTATION/POLICY
---

# EA 23.197 Nightly Patch 1

September 10, 2025

7 files modified.

## Important Changes

**None.**
## AM_MoveInstalled

[`public override void OnProcessTiles(Point point, int dir)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/AM_MoveInstalled.cs#L300-L310)
```cs:line-numbers=300
		}
		if (target.isThing)
		{
			bool isRoofItem = target.isRoofItem; // [!code ++]
			target.isRoofItem = IsRoofEditMode();
			if (target.isRoofItem)
			{
				target.SetPlaceState(PlaceState.roaming);
			}
			else if (isRoofItem) // [!code ++]
			{ // [!code ++]
				target.SetPlaceState(PlaceState.installed); // [!code ++]
			} // [!code ++]
			if (!target.isRoofItem)
			{
				target.ForeachPoint(delegate(Point p, bool center)
```

[`public override void RotateUnderMouse()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/AM_MoveInstalled.cs#L383-L402)
```cs:line-numbers=383

	public override void InputWheel(int wheel)
	{
		if (!EInput.isAltDown && !EInput.isCtrlDown) // [!code --]
		if (target != null && target.TileType.MaxAltitude > 0) // [!code ++]
		{
			if (target != null && target.TileType.MaxAltitude > 0) // [!code --]
			{ // [!code --]
				moldCard.ChangeAltitude(wheel); // [!code --]
			} // [!code --]
			else if (EClass.scene.mouseTarget.CanCycle()) // [!code --]
			{ // [!code --]
				EClass.scene.mouseTarget.CycleTarget(wheel); // [!code --]
			} // [!code --]
			else // [!code --]
			{ // [!code --]
				base.InputWheel(wheel); // [!code --]
			} // [!code --]
			moldCard.ChangeAltitude(wheel); // [!code ++]
		} // [!code ++]
		else if (EClass.scene.mouseTarget.CanCycle()) // [!code ++]
		{ // [!code ++]
			EClass.scene.mouseTarget.CycleTarget(wheel); // [!code ++]
		} // [!code ++]
		else // [!code ++]
		{ // [!code ++]
			base.InputWheel(wheel); // [!code ++]
		}
	}

```

## AttackProcess

[`public void Prepare(Chara _CC, Thing _weapon, Card _TC = null, Point _TP = null,`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/AttackProcess.cs#L253-L259)
```cs:line-numbers=253
		toHitBase = EClass.curve((IsCane ? CC.WIL : CC.DEX) / 4 + weaponSkill.GetParent(CC).Value / 3 + weaponSkill.Value, 50, 25) + 50;
		toHitFix = CC.HIT + weapon.HIT;
		penetration = weapon.Penetration + CC.Evalue(92);
		if (CC.HasElement(1244)) // [!code --]
		if (IsRanged) // [!code ++]
		{ // [!code ++]
			if (CC.HasElement(1244)) // [!code ++]
			{ // [!code ++]
				penetration += 25; // [!code ++]
			} // [!code ++]
		} // [!code ++]
		else if (CC.HasElement(1247)) // [!code ++]
		{
			penetration += 25;
		}
```

[`public void Prepare(Chara _CC, Thing _weapon, Card _TC = null, Point _TP = null,`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/AttackProcess.cs#L335-L345)
```cs:line-numbers=335
	else if (attackStyle == AttackStyle.TwoWield)
	{
		int num4 = CC.EvalueMax(131, -10);
		int num5 = ((num4 >= 25) ? 12 : 15); // [!code --]
		int max = 100 + ((num4 >= 50) ? ((int)Mathf.Sqrt(num4)) : 0); // [!code --]
		int num5 = ((num4 >= 50) ? 10 : ((num4 >= 25) ? 12 : 15)); // [!code ++]
		if (toHit > 0)
		{
			toHit = toHit * 100 / (100 + (attackIndex + 1) * num5 + attackIndex * Mathf.Clamp(2000 / (20 + num4), 0, max)); // [!code --]
			toHit = toHit * 100 / (100 + (attackIndex + 1) * num5 + attackIndex * Mathf.Clamp(2000 / (20 + num4), 0, 100)); // [!code ++]
		}
	}
	if (CC.isBlind)
```

[`public bool CalcHit()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/AttackProcess.cs#L962-L968)
```cs:line-numbers=962
		crit = true;
		return true;
	}
	if (CC.HasCondition<ConSevenSense>() && (CC.HasElement(1244) || CC.HasElement(1246))) // [!code --]
	if (CC.HasCondition<ConSevenSense>() && (CC.HasElement(1244) || CC.HasElement(1246) || CC.HasElement(1247))) // [!code ++]
	{
		return true;
	}
```

## Card

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/Card.cs#L4018-L4023)
```cs:line-numbers=4018
			if (attackSource == AttackSource.MagicSword)
			{
				num3 += 2;
				if (origin.HasElement(1247)) // [!code ++]
				{ // [!code ++]
					num3++; // [!code ++]
				} // [!code ++]
			}
			if (attackSource == AttackSource.MagicArrow && origin != null && origin.HasElement(1244))
			{
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/Card.cs#L4260-L4266)
```cs:line-numbers=4260
							Chara.AddCondition<ConFractured>((int)Mathf.Max(10f, 30f - Mathf.Sqrt(Evalue(436))));
							hp = Mathf.Min(half * (int)Mathf.Sqrt(Evalue(436) * 2) / 100, MaxHP / 3);
						});
						goto IL_0e94; // [!code --]
						goto IL_0ead; // [!code ++]
					}
				}
				if (zoneInstanceBout != null && (bool)LayerDrama.Instance)
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/Card.cs#L4288-L4294)
```cs:line-numbers=4288
						if (EClass.player.invlunerable)
						{
							EvadeDeath(null);
							goto IL_0e94; // [!code --]
							goto IL_0ead; // [!code ++]
						}
					}
					if (Evalue(1220) > 0 && Chara.stamina.value >= (IsPC ? (Chara.stamina.max / 2) : (Chara.stamina.max / 3 * 2)))
```

[`public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/Card.cs#L4306-L4313)
```cs:line-numbers=4306
			}
		}
	}
	goto IL_0e94; // [!code --]
	IL_0e94: // [!code --]
	goto IL_0ead; // [!code ++]
	IL_0ead: // [!code ++]
	if (trait.CanBeAttacked)
	{
		renderer.PlayAnime(AnimeID.HitObj);
```

## FEAT

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/FEAT.cs#L59-L65)
```cs:line-numbers=59

	public const int featEarthStrength = 1411;

	public const int featFisher = 1659; // [!code --]
	public const int featLooter = 1660; // [!code ++]

	public const int featChef = 1658;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/FEAT.cs#L109-L115)
```cs:line-numbers=109

	public const int featReboot = 1410;

	public const int featLooter = 1660; // [!code --]
	public const int featFisher = 1659; // [!code ++]

	public const int featPaladin2 = 1408;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/FEAT.cs#L135-L143)
```cs:line-numbers=135

	public const int featRoran = 1237;

	public const int featDemon = 1239; // [!code --]
	public const int featUnderground = 1226; // [!code ++]

	public const int featMassSummoner = 1240; // [!code --]
	public const int featDemon = 1239; // [!code ++]

	public const int featMeatCushion = 1241;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/FEAT.cs#L151-L156)
```cs:line-numbers=151

	public const int featPegasus = 1246;

	public const int featLibra = 1247; // [!code ++]
 // [!code ++]
	public const int featGod_element1 = 1300;

	public const int featGod_earth1 = 1305;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/FEAT.cs#L159-L169)
```cs:line-numbers=159

	public const int featGod_machine1 = 1315;

	public const int featUnderground = 1226; // [!code --]
	public const int featMassSummoner = 1240; // [!code ++]

	public const int featLoyal = 1225; // [!code --]
	public const int featGod_healing1 = 1320; // [!code ++]

	public const int featShiva = 1224; // [!code --]
	public const int featLoyal = 1225; // [!code ++]

	public const int featAcidBody = 1223;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/FEAT.cs#L189-L195)
```cs:line-numbers=189

	public const int featFluffyTail = 1209;

	public const int featGod_healing1 = 1320; // [!code --]
	public const int featShiva = 1224; // [!code ++]

	public const int featUndead = 1210;

```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/FEAT.cs#L225-L230)
```cs:line-numbers=225

	public const int featGod_luck1 = 1330;

	public const int featGod_oblivion1 = 1340; // [!code ++]
 // [!code ++]
	public const int featGod_trickery1 = 1345;

	public const int featGod_moonshadow1 = 1350;
```

[`public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/FEAT.cs#L239-L269)
```cs:line-numbers=239

	public const int featFarmer = 1403;

	public const int featArcher = 1404; // [!code --]
 // [!code --]
	public const int featPianist = 1405;

	public const int featGod_oblivion1 = 1340; // [!code --]
	public const int featArcher = 1404; // [!code ++]

	public const int featPaladin = 1407;

	public const int featTourist = 1406;

	public static readonly int[] IDS = new int[123] // [!code --]
	public static readonly int[] IDS = new int[124] // [!code ++]
	{
		1620, 1621, 1622, 1623, 1628, 1625, 1626, 1627, 1612, 1624,
		1611, 1412, 1422, 1421, 1420, 1419, 1418, 1417, 1416, 1415,
		1414, 1413, 1629, 1610, 1630, 1646, 1632, 1411, 1659, 1658, // [!code --]
		1414, 1413, 1629, 1610, 1630, 1646, 1632, 1411, 1660, 1658, // [!code ++]
		1657, 1656, 1655, 1654, 1653, 1652, 1651, 1650, 1631, 1649,
		1647, 1645, 1644, 1643, 1642, 1641, 1640, 1636, 1635, 1634,
		1633, 1648, 1410, 1660, 1408, 1227, 1228, 1229, 1230, 1231, // [!code --]
		1232, 1233, 1234, 1235, 1236, 1237, 1239, 1240, 1241, 1242, // [!code --]
		1243, 1244, 1245, 1246, 1300, 1305, 1310, 1315, 1226, 1225, // [!code --]
		1224, 1223, 1200, 1409, 1201, 1202, 1203, 1204, 1205, 1206, // [!code --]
		1207, 1208, 1209, 1320, 1210, 1212, 1213, 1214, 1215, 1216, // [!code --]
		1217, 1218, 1219, 1220, 1221, 1222, 1211, 1325, 1238, 1335, // [!code --]
		1330, 1345, 1350, 1355, 1400, 1401, 1402, 1403, 1404, 1405, // [!code --]
		1340, 1407, 1406 // [!code --]
		1633, 1648, 1410, 1659, 1408, 1227, 1228, 1229, 1230, 1231, // [!code ++]
		1232, 1233, 1234, 1235, 1236, 1237, 1226, 1239, 1241, 1242, // [!code ++]
		1243, 1244, 1245, 1246, 1247, 1300, 1305, 1310, 1315, 1240, // [!code ++]
		1320, 1225, 1223, 1200, 1409, 1201, 1202, 1203, 1204, 1205, // [!code ++]
		1206, 1207, 1208, 1209, 1224, 1210, 1212, 1213, 1214, 1215, // [!code ++]
		1216, 1217, 1218, 1219, 1220, 1221, 1222, 1211, 1325, 1238, // [!code ++]
		1335, 1330, 1340, 1345, 1350, 1355, 1400, 1401, 1402, 1403, // [!code ++]
		1405, 1404, 1407, 1406 // [!code ++]
	};
}
public class Feat : Element
```

## FOOD

[`public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/FOOD.cs#L1-L34)
```cs:line-numbers=1
public class FOOD
{
	public const int gainWeight = 705; // [!code --]
	public const int food_love = 703; // [!code ++]

	public const int food_CHA = 700;

	public const int loseWeight = 706; // [!code --]
	public const int creativeDish = 764; // [!code ++]

	public const int food_god = 758; // [!code --]
	public const int food_bug = 704; // [!code ++]

	public const int justcooked = 757;

	public const int creativeDish = 764; // [!code --]
	public const int food_undead = 709; // [!code ++]

	public const int food_human = 708; // [!code --]
	public const int food_god = 758; // [!code ++]

	public const int kirimi = 707;

	public const int food_cat = 701; // [!code --]
	public const int loseWeight = 706; // [!code ++]

	public const int food_poison = 702; // [!code --]
	public const int gainWeight = 705; // [!code ++]

	public const int food_love = 703; // [!code --]
	public const int food_cat = 701; // [!code ++]

	public const int food_bug = 704; // [!code --]
	public const int food_poison = 702; // [!code ++]

	public const int food_undead = 709; // [!code --]
	public const int food_human = 708; // [!code ++]

	public static readonly int[] IDS = new int[13]
	{
		705, 700, 706, 758, 757, 764, 708, 707, 701, 702, // [!code --]
		703, 704, 709 // [!code --]
		703, 700, 764, 704, 757, 709, 758, 707, 706, 705, // [!code ++]
		701, 702, 708 // [!code ++]
	};
}
```

## MUTATION

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/MUTATION.cs#L2-L8)
```cs:line-numbers=2
{
	public const int mutationRegen = 1516;

	public const int mutationSkin = 1510; // [!code --]
	public const int mutationSkinN = 1511; // [!code ++]

	public const int mutationEye = 1512;

```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/MUTATION.cs#L14-L20)
```cs:line-numbers=14

	public const int mutationRegenN = 1517;

	public const int mutationSkinN = 1511; // [!code --]
	public const int mutationSkin = 1510; // [!code ++]

	public const int mutationSpeedN = 1519;

```

[`public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/MUTATION.cs#L82-L88)
```cs:line-numbers=82

	public static readonly int[] IDS = new int[40]
	{
		1516, 1510, 1512, 1513, 1514, 1515, 1517, 1511, 1519, 1565, // [!code --]
		1516, 1511, 1512, 1513, 1514, 1515, 1517, 1510, 1519, 1565, // [!code ++]
		1564, 1563, 1562, 1561, 1560, 1559, 1518, 1557, 1556, 1555,
		1554, 1553, 1552, 1551, 1558, 1533, 1550, 1520, 1521, 1522,
		1524, 1525, 1526, 1523, 1528, 1529, 1530, 1531, 1532, 1527
```

## POLICY

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/POLICY.cs#L5-L14)
```cs:line-numbers=5
{
	public const int license_furniture = 2819;

	public const int suite_room = 2813; // [!code --]
 // [!code --]
	public const int mass_exhibition = 2814;

	public const int suite_room = 2813; // [!code ++]
 // [!code ++]
	public const int platinum_ticket = 2815;

	public const int store_ripoff = 2816;
```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/POLICY.cs#L39-L45)
```cs:line-numbers=39

	public const int tourist_safety = 2811;

	public const int self_sufficient = 2511; // [!code --]
	public const int ban_radio = 2510; // [!code ++]

	public const int home_discount = 2800;

```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/POLICY.cs#L47-L56)
```cs:line-numbers=47

	public const int vaccination = 2509;

	public const int ban_radio = 2510; // [!code --]
 // [!code --]
	public const int legal_drug = 2505;

	public const int self_sufficient = 2511; // [!code ++]
 // [!code ++]
	public const int impressment = 2504;

	public const int prohibition = 2503;
```

[`public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/dab1e41c5d7fdc35c8e203c54459e6777f9d5305/Elin/POLICY.cs#L107-L115)
```cs:line-numbers=107

	public static readonly int[] IDS = new int[51]
	{
		2819, 2813, 2814, 2815, 2816, 2817, 2818, 2820, 2827, 2822, // [!code --]
		2823, 2824, 2825, 2826, 2828, 2812, 2821, 2811, 2511, 2800, // [!code --]
		2508, 2509, 2510, 2505, 2504, 2503, 2502, 2501, 2500, 2810, // [!code --]
		2819, 2814, 2813, 2815, 2816, 2817, 2818, 2820, 2827, 2822, // [!code ++]
		2823, 2824, 2825, 2826, 2828, 2812, 2821, 2811, 2510, 2800, // [!code ++]
		2508, 2509, 2505, 2511, 2504, 2503, 2502, 2501, 2500, 2810, // [!code ++]
		2512, 2507, 2513, 2514, 2515, 2506, 2700, 2702, 2704, 2516,
		2705, 2706, 2707, 2703, 2709, 2710, 2711, 2712, 2715, 2701,
		2708
```
