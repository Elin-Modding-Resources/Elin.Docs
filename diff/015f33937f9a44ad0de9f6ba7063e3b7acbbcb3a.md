---
exclude: true
aside: false
pageClass: diff-single-page
footer: false
editLink: false
lastUpdated: false
description: 26 files modified.
version: EA 23.175 Nightly
changes: ActEffect/Card/Chara/CharaRenderer/CraftUtil/ELEMENT/ENC/ElementContainer/FACTION/FEAT/FOOD/MUTATION/POLICY/Props/Recipe/RecipeCard/Region/SKILL/TaskHarvest/Trait/TraitBaseSpellbook/TraitDetector/TraitWrench/Zone/ZonePreEnterOnCompleteQuestInstance/Zone_Tent
---

# EA 23.175 Nightly

August 4, 2025

26 files modified.

## Important Changes

**None.**
## ActEffect

[`@@ -584,6 +584,11 @@ public static bool DamageEle(Card CC, EffectId id, int power, Element e, List<Po`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/ActEffect.cs#L584-L589)
```cs:line-numbers=584
			{
				continue;
			}
			if (chara.rarity >= Rarity.Legendary) // [!code ++]
			{ // [!code ++]
				j--; // [!code ++]
				continue; // [!code ++]
			} // [!code ++]
			int num6 = -1;
			num6 = ((!(actRef.n1 == "shadow")) ? (chara.LV * (100 + power / 10) / 100 + power / 30) : (power / 10 + 1));
			if (chara.LV < num6)
```

## Card

[`@@ -4442,13 +4442,13 @@ public void DamageHP(int dmg, int ele, int eleP = 100, AttackSource attackSource`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Card.cs#L4442-L4454)
```cs:line-numbers=4442
						ele2 = 922;
					}
					Say("reflect_thorne", this, origin);
					origin.DamageHP(Mathf.Clamp(dmg / 20, 1, MaxHP / 20), ele2, Power, AttackSource.Condition); // [!code --]
					origin.DamageHP(Mathf.Clamp(dmg / 10, 1, MaxHP / (origin.IsPowerful ? 200 : 20)), ele2, Power, AttackSource.Condition, this); // [!code ++]
				}
				if (HasElement(1223) && num12 <= Evalue(1223))
				{
					int ele3 = ((Chara.MainElement == Element.Void) ? 923 : Chara.MainElement.id);
					Say("reflect_acid", this, origin);
					origin.DamageHP(Mathf.Clamp(dmg / 20, 1, MaxHP / 20), ele3, Power * 2, AttackSource.Condition); // [!code --]
					origin.DamageHP(Mathf.Clamp(dmg / 10, 1, MaxHP / (origin.IsPowerful ? 200 : 20)), ele3, Power * 2, AttackSource.Condition, this); // [!code ++]
				}
			}
			ProcAbsorb();
```

[`@@ -5603,6 +5603,10 @@ public bool HasGlobalElement(int ele)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Card.cs#L5603-L5608)
```cs:line-numbers=5603

	public bool HasElementNoCopy()
	{
		if (HasElement(764)) // [!code ++]
		{ // [!code ++]
			return true; // [!code ++]
		} // [!code ++]
		if (HasElement(759))
		{
			return true;
```

[`@@ -6910,18 +6914,16 @@ public virtual int GetPrice(CurrencyType currency = CurrencyType.Money, bool sel`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Card.cs#L6910-L6927)
```cs:line-numbers=6910
		switch (currency)
		{
		case CurrencyType.Ecopo:
		{ // [!code --]
			string text = id; // [!code --]
			if (!(text == "plat")) // [!code --]
			switch (id) // [!code ++]
			{
				if (!(text == "whip_egg")) // [!code --]
				{ // [!code --]
					break; // [!code --]
				} // [!code --]
			case "plat": // [!code ++]
				return 500; // [!code ++]
			case "whip_egg": // [!code ++]
				return 3000;
			case "helm_chef": // [!code ++]
				return 40000; // [!code ++]
			}
			return 500; // [!code --]
		} // [!code --]
			break; // [!code ++]
		case CurrencyType.Plat:
		{
			string text = id;
```

[`@@ -6958,6 +6960,8 @@ public virtual int GetPrice(CurrencyType currency = CurrencyType.Money, bool sel`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Card.cs#L6958-L6963)
```cs:line-numbers=6958
				return 3;
			case "wrench_tent_soil":
				return 3;
			case "wrench_tent_seabed": // [!code ++]
				return 12; // [!code ++]
			case "wrench_bed":
				return 3;
			case "wrench_storage":
```

## Chara

[`@@ -957,7 +957,17 @@ public int Speed`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Chara.cs#L957-L963)
```cs:line-numbers=957
		}
	}

	public bool IsMofuable => race.tag.Contains("mofu"); // [!code --]
	public bool IsMofuable // [!code ++]
	{ // [!code ++]
		get // [!code ++]
		{ // [!code ++]
			if (!race.tag.Contains("mofu")) // [!code ++]
			{ // [!code ++]
				return HasElement(419); // [!code ++]
			} // [!code ++]
			return true; // [!code ++]
		} // [!code ++]
	} // [!code ++]

	public ElementContainer baseWorkElements
	{
```

## CharaRenderer

[`@@ -336,7 +336,9 @@ public void DrawHat()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/CharaRenderer.cs#L336-L342)
```cs:line-numbers=336
		RenderObject.currentParam.z -= pref.hatY;
		RenderObject.currentParam.tile = cardRow._tiles[owner.uid % cardRow._tiles.Length] * ((!flag) ? 1 : (-1));
		cardRow.renderData.Draw(RenderObject.currentParam);
		RenderObject.currentParam.y -= num; // [!code --]
		RenderObject.currentParam.x -= 0.01f * (float)pref.equipX; // [!code ++]
		RenderObject.currentParam.y -= num + 0.01f * (float)pref.equipY; // [!code ++]
		RenderObject.currentParam.z += pref.hatY; // [!code ++]
		RenderObject.currentParam.liquidLv = liquidLv;
	}

```

## CraftUtil

[`@@ -158,6 +158,7 @@ public static Card MixIngredients(Card product, List<Thing> ings, MixType type,`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/CraftUtil.cs#L158-L163)
```cs:line-numbers=158
	bool isFood = type == MixType.Food;
	int nutFactor = 100 - (ings.Count - 1) * 5;
	Thing thing = ((ings.Count > 0) ? ings[0] : null);
	bool creative = crafter?.HasElement(487) ?? false; // [!code ++]
	if (crafter != null && crafter.Evalue(1650) >= 3)
	{
		nutFactor -= 10;
```

[`@@ -266,6 +267,10 @@ public static Card MixIngredients(Card product, List<Thing> ings, MixType type,`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/CraftUtil.cs#L266-L271)
```cs:line-numbers=266
			product.elements.SetTo(10, 1);
		}
	}
	if (creative) // [!code ++]
	{ // [!code ++]
		product.elements.SetBase(764, 1); // [!code ++]
	} // [!code ++]
	return product;
	bool IsValidTrait(Element e)
	{
```

[`@@ -309,6 +314,10 @@ void MixElements(Card t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/CraftUtil.cs#L309-L314)
```cs:line-numbers=309
						{
							num5 *= -1;
						}
						if (creative && num5 > 500) // [!code ++]
						{ // [!code ++]
							num5 = 500; // [!code ++]
						} // [!code ++]
						product.elements.ModBase(value3.id, num5);
					}
					else
```

## ELEMENT

[`@@ -833,7 +833,7 @@ public void AddEncNote(UINote n, Card Card, ElementContainer.NoteMode mode = Ele`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/ELEMENT.cs#L833-L839)
```cs:line-numbers=833
			text = "isProc".lang(Name);
			flag3 = false;
		}
		else if (categorySub == "resist") // [!code --]
		else if (categorySub == "resist" || this is Feat) // [!code ++]
		{
			text = ("isResist" + (flag3 ? "Neg" : "")).lang(Name);
		}
```

## ENC

[`@@ -50,10 +50,12 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/ENC.cs#L50-L59)
```cs:line-numbers=50

	public const int mod_chaser = 620;

	public const int negateParalysis = 422; // [!code --]
	public const int negateFear = 423; // [!code ++]

	public const int mod_splash = 608;

	public const int negateShockwave = 430; // [!code ++]
 // [!code ++]
	public const int breathing = 429;

	public const int allNeckHunt = 428;
```

[`@@ -66,7 +68,7 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/ENC.cs#L66-L72)
```cs:line-numbers=66

	public const int negateSleep = 424;

	public const int negateFear = 423; // [!code --]
	public const int negateParalysis = 422; // [!code ++]

	public const int negateBlind = 421;

```

[`@@ -80,10 +82,10 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/ENC.cs#L80-L89)
```cs:line-numbers=80

	public const int seeInvisible = 416;

	public const int negateShockwave = 430; // [!code --]
 // [!code --]
	public const int invisibility = 415;

	public const int encHit = 414; // [!code ++]
 // [!code ++]
	public const int slowCorruption = 412;

	public const int encSpell = 411;
```

[`@@ -92,11 +94,11 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/ENC.cs#L92-L102)
```cs:line-numbers=92

	public const int corruption = 409;

	public const int resWeather = 408; // [!code --]
	public const int mod_talisman = 609; // [!code ++]

	public const int travelSpeed = 407;

	public const int mod_talisman = 609; // [!code --]
	public const int resMutation = 406; // [!code ++]

	public const int slowDecay = 405;

```

[`@@ -110,63 +112,63 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/ENC.cs#L110-L172)
```cs:line-numbers=110

	public const int negateTeleport = 400;

	public const int encHit = 414; // [!code --]
 // [!code --]
	public const int sustain_STR = 440;

	public const int resMutation = 406; // [!code --]
	public const int sustain_END = 441; // [!code ++]

	public const int sustain_DEX = 442; // [!code --]
	public const int resWeather = 408; // [!code ++]

	public const int sustain_END = 441; // [!code --]
	public const int sustain_PER = 443; // [!code ++]

	public const int mod_scatter = 607; // [!code --]
	public const int force_weapon = 482; // [!code ++]

	public const int mod_drill = 606; // [!code --]
	public const int optimizeMana = 483; // [!code ++]

	public const int mod_precision = 605; // [!code --]
	public const int slot_rune = 484; // [!code ++]

	public const int mod_ammo_recover = 604; // [!code --]
	public const int nonLethal = 485; // [!code ++]

	public const int mod_rapid = 602; // [!code --]
	public const int safetyMeasure = 486; // [!code ++]

	public const int mod_reload = 601; // [!code --]
	public const int creativeChef = 487; // [!code ++]
 // [!code ++]
	public const int revealFaith = 481; // [!code ++]

	public const int mod_ammo = 600;

	public const int safetyMeasure = 486; // [!code --]
	public const int mod_ammo_knockback = 603; // [!code ++]

	public const int nonLethal = 485; // [!code --]
	public const int mod_ammo_recover = 604; // [!code ++]

	public const int slot_rune = 484; // [!code --]
	public const int mod_precision = 605; // [!code ++]

	public const int optimizeMana = 483; // [!code --]
	public const int mod_drill = 606; // [!code ++]

	public const int force_weapon = 482; // [!code --]
	public const int mod_scatter = 607; // [!code ++]

	public const int revealFaith = 481; // [!code --]
	public const int sustain_DEX = 442; // [!code ++]
 // [!code ++]
	public const int mod_reload = 601; // [!code ++]

	public const int strongStomach = 480;

	public const int mod_ammo_knockback = 603; // [!code --]
	public const int mod_rapid = 602; // [!code ++]

	public const int bane_fish = 467;

	public const int bane_all = 468;

	public const int sustain_LER = 444; // [!code --]
 // [!code --]
	public const int sustain_WIL = 445;

	public const int sustain_CHA = 447; // [!code --]
	public const int sustain_MAG = 446; // [!code ++]

	public const int bane_dragon = 460; // [!code --]
	public const int sustain_CHA = 447; // [!code ++]

	public const int bane_undead = 461;

	public const int sustain_MAG = 446; // [!code --]
	public const int bane_fairy = 462; // [!code ++]

	public const int sustain_PER = 443; // [!code --]
	public const int bane_dragon = 460; // [!code ++]

	public const int bane_animal = 463;

```

[`@@ -176,18 +178,18 @@ public class ENC`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/ENC.cs#L176-L193)
```cs:line-numbers=176

	public const int bane_god = 466;

	public const int bane_fairy = 462; // [!code --]
	public const int sustain_LER = 444; // [!code ++]

	public static readonly int[] IDS = new int[89] // [!code --]
	public static readonly int[] IDS = new int[90] // [!code ++]
	{
		653, 652, 651, 650, 624, 622, 623, 640, 654, 641,
		655, 851, 660, 661, 662, 663, 664, 665, 666, 850,
		621, 865, 852, 656, 620, 422, 608, 429, 428, 427, // [!code --]
		426, 425, 424, 423, 421, 420, 419, 418, 417, 416, // [!code --]
		430, 415, 412, 411, 410, 409, 408, 407, 609, 405, // [!code --]
		404, 403, 402, 401, 400, 414, 440, 406, 442, 441, // [!code --]
		607, 606, 605, 604, 602, 601, 600, 486, 485, 484, // [!code --]
		483, 482, 481, 480, 603, 467, 468, 444, 445, 447, // [!code --]
		460, 461, 446, 443, 463, 464, 465, 466, 462 // [!code --]
		621, 865, 852, 656, 620, 423, 608, 430, 429, 428, // [!code ++]
		427, 426, 425, 424, 422, 421, 420, 419, 418, 417, // [!code ++]
		416, 415, 414, 412, 411, 410, 409, 609, 407, 406, // [!code ++]
		405, 404, 403, 402, 401, 400, 440, 441, 408, 443, // [!code ++]
		482, 483, 484, 485, 486, 487, 481, 600, 603, 604, // [!code ++]
		605, 606, 607, 442, 601, 480, 602, 467, 468, 445, // [!code ++]
		446, 447, 461, 462, 460, 463, 464, 465, 466, 444 // [!code ++]
	};
}
```

## ElementContainer

[`@@ -277,13 +277,24 @@ public void ModExp(int ele, int a, bool chain = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/ElementContainer.cs#L277-L289)
```cs:line-numbers=277
	{
		return;
	}
	if (!chain && a > 0 && Card != null && Card.isChara) // [!code --]
	if (!chain) // [!code ++]
	{
		a = a * Card.Chara.GetDaysTogetherBonus() / 100; // [!code --]
		if (a > 0 && Card != null && Card.isChara) // [!code ++]
		{ // [!code ++]
			a = a * Card.Chara.GetDaysTogetherBonus() / 100; // [!code ++]
		} // [!code ++]
		if (element.source.parentFactor > 0f && Card != null && !element.source.aliasParent.IsEmpty()) // [!code ++]
		{ // [!code ++]
			Element element2 = element.GetParent(Card); // [!code ++]
			if (element2.CanGainExp) // [!code ++]
			{ // [!code ++]
				ModExp(element2.id, (int)Math.Max(1f, (float)a * element.source.parentFactor / (float)(100 + Mathf.Max(0, element2.ValueWithoutLink * 5))), chain: true); // [!code ++]
			} // [!code ++]
		} // [!code ++]
	}
	int value = (element.UsePotential ? element.Potential : 100); // [!code --]
	if (element.UseExpMod && a >= 0)
	{
		int value = (element.UsePotential ? element.Potential : 100); // [!code ++]
		float num = (float)a * (float)Mathf.Clamp(value, 10, 1000) / (float)(100 + Mathf.Max(0, element.ValueWithoutLink) * 25);
		a = (int)num;
		if (EClass.rndf(1f) < num % 1f)
```

[`@@ -292,14 +303,6 @@ public void ModExp(int ele, int a, bool chain = false)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/ElementContainer.cs#L292-L305)
```cs:line-numbers=292
		}
	}
	element.vExp += a;
	if (!chain && element.source.parentFactor > 0f && Card != null && !element.source.aliasParent.IsEmpty()) // [!code --]
	{ // [!code --]
		Element element2 = element.GetParent(Card); // [!code --]
		if (element2.CanGainExp) // [!code --]
		{ // [!code --]
			ModExp(element2.id, (int)Math.Max(1f, (float)a * element.source.parentFactor / 100f), chain: true); // [!code --]
		} // [!code --]
	} // [!code --]
	if (element.vExp >= element.ExpToNext)
	{
		int num2 = element.vExp - element.ExpToNext;
```

## FACTION

[`@@ -4,27 +4,27 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FACTION.cs#L4-L30)
```cs:line-numbers=4

public class FACTION
{
	public const int bfPlain = 3600; // [!code --]
	public const int bfFertile = 3700; // [!code ++]

	public const int bfForest = 3601; // [!code --]
	public const int bfUndersea = 3606; // [!code ++]

	public const int bfSnow = 3602; // [!code --]
	public const int bfCave = 3500; // [!code ++]

	public const int bfHill = 3603; // [!code --]
	public const int bfRuin = 3702; // [!code ++]

	public const int bfSea = 3605;

	public const int bfUndersea = 3606; // [!code --]
	public const int bfBeach = 3604; // [!code ++]

	public const int bfCave = 3500; // [!code --]
	public const int bfHill = 3603; // [!code ++]

	public const int bfFertile = 3700; // [!code --]
	public const int bfSnow = 3602; // [!code ++]

	public const int bfGeyser = 3701; // [!code --]
	public const int bfForest = 3601; // [!code ++]

	public const int bfBeach = 3604; // [!code --]
	public const int bfPlain = 3600; // [!code ++]

	public const int bfRuin = 3702; // [!code --]
	public const int bfGeyser = 3701; // [!code ++]

	public const int fPromo = 2202;

```

[`@@ -38,18 +38,18 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FACTION.cs#L38-L55)
```cs:line-numbers=38

	public const int fElec = 2201;

	public const int fHeirloom = 2120; // [!code --]
	public const int fSoil = 2200; // [!code ++]

	public const int fTaxEvasion = 2119;

	public const int fLuck = 2118; // [!code --]
	public const int fEducation = 2116; // [!code ++]

	public const int bfTranquil = 3703;

	public const int fEducation = 2116; // [!code --]
 // [!code --]
	public const int fLoyal = 2117;

	public const int fLuck = 2118; // [!code ++]
 // [!code ++]
	public const int fRation = 2207;

	public const int bfVolcano = 3704;
```

[`@@ -108,16 +108,16 @@ public class FACTION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FACTION.cs#L108-L123)
```cs:line-numbers=108

	public const int fConstruction = 2003;

	public const int fSoil = 2200; // [!code --]
	public const int fHeirloom = 2120; // [!code ++]

	public static readonly int[] IDS = new int[53]
	{
		3600, 3601, 3602, 3603, 3605, 3606, 3500, 3700, 3701, 3604, // [!code --]
		3702, 2202, 2206, 2205, 2204, 2203, 2201, 2120, 2119, 2118, // [!code --]
		3703, 2116, 2117, 2207, 3704, 3803, 3706, 4006, 2115, 4005, // [!code --]
		3700, 3606, 3500, 3702, 3605, 3604, 3603, 3602, 3601, 3600, // [!code ++]
		3701, 2202, 2206, 2205, 2204, 2203, 2201, 2200, 2119, 2116, // [!code ++]
		3703, 2117, 2118, 2207, 3704, 3803, 3706, 4006, 2115, 4005, // [!code ++]
		4004, 4003, 4002, 4001, 4000, 3900, 3805, 3804, 3802, 3801,
		3800, 3784, 3783, 3782, 3781, 3780, 3710, 3709, 3708, 3707,
		3705, 2003, 2200 // [!code --]
		3705, 2003, 2120 // [!code ++]
	};
}
public class Faction : EClass
```

## FEAT

[`@@ -3,9 +3,7 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FEAT.cs#L3-L11)
```cs:line-numbers=3

public class FEAT
{
	public const int featSuccubus = 1216; // [!code --]
 // [!code --]
	public const int featBodyParts = 1644; // [!code --]
	public const int featDwarf = 1215; // [!code ++]

	public const int featSorter = 1643;

```

[`@@ -29,11 +27,11 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FEAT.cs#L29-L39)
```cs:line-numbers=29

	public const int featHardy = 1630;

	public const int featParty = 1645; // [!code --]
 // [!code --]
	public const int featSPD = 1629;

	public const int featCHA = 1627; // [!code --]
	public const int featBodyParts = 1644; // [!code ++]
 // [!code ++]
	public const int featLuck = 1628; // [!code ++]

	public const int featWIL = 1626;

```

[`@@ -57,15 +55,17 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FEAT.cs#L57-L71)
```cs:line-numbers=57

	public const int featHealer = 1422;

	public const int featLuck = 1628; // [!code --]
 // [!code --]
	public const int featManaMeat = 1421;

	public const int featLonelySoul = 1646; // [!code --]
	public const int featCHA = 1627; // [!code ++]

	public const int featRapidMagic = 1648; // [!code --]
	public const int featExecutioner = 1420; // [!code ++]

	public const int featDwarf = 1215; // [!code --]
	public const int featParty = 1645; // [!code ++]
 // [!code ++]
	public const int featSummoner = 1647; // [!code ++]
 // [!code ++]
	public const int featManaPrecision = 1214; // [!code ++]

	public const int featSlowFood = 1200;

```

[`@@ -89,12 +89,10 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FEAT.cs#L89-L100)
```cs:line-numbers=89

	public const int featUndead = 1210;

	public const int featSummoner = 1647; // [!code --]
	public const int featLonelySoul = 1646; // [!code ++]

	public const int featSnail = 1211;

	public const int featManaPrecision = 1214; // [!code --]
 // [!code --]
	public const int featFisher = 1659;

	public const int featChef = 1658;
```

[`@@ -117,13 +115,17 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FEAT.cs#L117-L129)
```cs:line-numbers=117

	public const int featDefender = 1649;

	public const int featRapidMagic = 1648; // [!code ++]
 // [!code ++]
	public const int featFairyResist = 1212;

	public const int featExecutioner = 1420; // [!code --]
	public const int featMilitant = 1419; // [!code ++]

	public const int featElea = 1213;

	public const int featSwordsage = 1418; // [!code --]
	public const int featWitch = 1417; // [!code ++]
 // [!code ++]
	public const int featMassSummoner = 1240; // [!code ++]

	public const int featMeatCushion = 1241;

```

[`@@ -139,7 +141,7 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FEAT.cs#L139-L145)
```cs:line-numbers=139

	public const int featGod_healing1 = 1320;

	public const int featGod_harvest1 = 1325; // [!code --]
	public const int featGod_luck1 = 1330; // [!code ++]

	public const int featGod_harmony1 = 1335;

```

[`@@ -165,17 +167,17 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FEAT.cs#L165-L181)
```cs:line-numbers=165

	public const int featTourist = 1406;

	public const int featPaladin = 1407; // [!code --]
	public const int featDemon = 1239; // [!code ++]

	public const int featMassSummoner = 1240; // [!code --]
	public const int featPaladin = 1407; // [!code ++]

	public const int featPaladin2 = 1408; // [!code --]
	public const int featElder = 1238; // [!code ++]

	public const int featDemon = 1239; // [!code --]
	public const int featNorland = 1236; // [!code ++]

	public const int featRoran = 1237; // [!code --]
	public const int featSwordsage = 1418; // [!code ++]

	public const int featMilitant = 1419; // [!code --]
	public const int featGolem = 1217; // [!code ++]

	public const int featMetal = 1218;

```

[`@@ -201,9 +203,9 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FEAT.cs#L201-L209)
```cs:line-numbers=201

	public const int featLittleOne = 1229;

	public const int featAdam = 1230; // [!code --]
	public const int featSuccubus = 1216; // [!code ++]

	public const int featGolem = 1217; // [!code --]
	public const int featAdam = 1230; // [!code ++]

	public const int featNirvana = 1231;

```

[`@@ -215,44 +217,42 @@ public class FEAT`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FEAT.cs#L215-L258)
```cs:line-numbers=215

	public const int featLightEater = 1235;

	public const int featNorland = 1236; // [!code --]
 // [!code --]
	public const int featElder = 1238; // [!code --]
	public const int featRoran = 1237; // [!code ++]

	public const int featBoost = 1409; // [!code --]
	public const int featPaladin2 = 1408; // [!code ++]

	public const int featGod_luck1 = 1330; // [!code --]
	public const int featGod_harvest1 = 1325; // [!code ++]

	public const int featEarthStrength = 1411; // [!code --]
	public const int featReboot = 1410; // [!code ++]

	public const int featWitch = 1417; // [!code --]
	public const int featFoxMaid = 1415; // [!code ++]

	public const int featInquisitor = 1416;

	public const int featFoxMaid = 1415; // [!code --]
 // [!code --]
	public const int featReboot = 1410; // [!code --]
	public const int featWhiteVixen = 1414; // [!code ++]

	public const int featFairysan = 1413; // [!code --]
	public const int featBoost = 1409; // [!code ++]

	public const int featLuckyCat = 1412;

	public const int featWhiteVixen = 1414; // [!code --]
	public const int featEarthStrength = 1411; // [!code ++]
 // [!code ++]
	public const int featFairysan = 1413; // [!code ++]

	public static readonly int[] IDS = new int[118]
	{
		1216, 1644, 1643, 1642, 1641, 1640, 1636, 1635, 1634, 1633, // [!code --]
		1632, 1631, 1630, 1645, 1629, 1627, 1626, 1625, 1624, 1623, // [!code --]
		1622, 1621, 1620, 1612, 1611, 1610, 1422, 1628, 1421, 1646, // [!code --]
		1648, 1215, 1200, 1201, 1202, 1203, 1204, 1205, 1206, 1207, // [!code --]
		1208, 1209, 1210, 1647, 1211, 1214, 1659, 1658, 1657, 1656, // [!code --]
		1655, 1654, 1653, 1652, 1651, 1650, 1649, 1212, 1420, 1213, // [!code --]
		1418, 1241, 1242, 1300, 1305, 1310, 1315, 1320, 1325, 1335, // [!code --]
		1340, 1345, 1350, 1355, 1400, 1401, 1402, 1403, 1404, 1405, // [!code --]
		1406, 1407, 1240, 1408, 1239, 1237, 1419, 1218, 1219, 1220, // [!code --]
		1221, 1222, 1223, 1224, 1225, 1226, 1227, 1228, 1229, 1230, // [!code --]
		1217, 1231, 1232, 1233, 1234, 1235, 1236, 1238, 1409, 1330, // [!code --]
		1411, 1417, 1416, 1415, 1410, 1413, 1412, 1414 // [!code --]
		1215, 1643, 1642, 1641, 1640, 1636, 1635, 1634, 1633, 1632, // [!code ++]
		1631, 1630, 1629, 1644, 1628, 1626, 1625, 1624, 1623, 1622, // [!code ++]
		1621, 1620, 1612, 1611, 1610, 1422, 1421, 1627, 1420, 1645, // [!code ++]
		1647, 1214, 1200, 1201, 1202, 1203, 1204, 1205, 1206, 1207, // [!code ++]
		1208, 1209, 1210, 1646, 1211, 1659, 1658, 1657, 1656, 1655, // [!code ++]
		1654, 1653, 1652, 1651, 1650, 1649, 1648, 1212, 1419, 1213, // [!code ++]
		1417, 1240, 1241, 1242, 1300, 1305, 1310, 1315, 1320, 1330, // [!code ++]
		1335, 1340, 1345, 1350, 1355, 1400, 1401, 1402, 1403, 1404, // [!code ++]
		1405, 1406, 1239, 1407, 1238, 1236, 1418, 1217, 1218, 1219, // [!code ++]
		1220, 1221, 1222, 1223, 1224, 1225, 1226, 1227, 1228, 1229, // [!code ++]
		1216, 1230, 1231, 1232, 1233, 1234, 1235, 1237, 1408, 1325, // [!code ++]
		1410, 1415, 1416, 1414, 1409, 1412, 1411, 1413 // [!code ++]
	};
}
public class Feat : Element
```

## FOOD

[`@@ -1,11 +1,11 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FOOD.cs#L1-L11)
```cs:line-numbers=1
public class FOOD
{
	public const int creativeDish = 764; // [!code ++]
 // [!code ++]
	public const int food_god = 758;

	public const int justcooked = 757;

	public const int food_cat = 701; // [!code --]
 // [!code --]
	public const int food_human = 708;

	public const int kirimi = 707;
```

[`@@ -20,13 +20,15 @@ public class FOOD`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/FOOD.cs#L20-L32)
```cs:line-numbers=20

	public const int food_poison = 702;

	public const int food_cat = 701; // [!code ++]
 // [!code ++]
	public const int food_undead = 709;

	public const int food_CHA = 700;

	public static readonly int[] IDS = new int[12] // [!code --]
	public static readonly int[] IDS = new int[13] // [!code ++]
	{
		758, 757, 701, 708, 707, 706, 705, 704, 703, 702, // [!code --]
		709, 700 // [!code --]
		764, 758, 757, 708, 707, 706, 705, 704, 703, 702, // [!code ++]
		701, 709, 700 // [!code ++]
	};
}
```

## MUTATION

[`@@ -1,10 +1,6 @@`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/MUTATION.cs#L1-L10)
```cs:line-numbers=1
public class MUTATION
{
	public const int etherFeet = 1552; // [!code --]
 // [!code --]
	public const int mutationDexN = 1515; // [!code --]
 // [!code --]
	public const int mutationDex = 1514; // [!code --]
	public const int etherGravity = 1550; // [!code ++]

	public const int mutationEyeN = 1513;

```

[`@@ -12,11 +8,17 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/MUTATION.cs#L12-L22)
```cs:line-numbers=12

	public const int mutationSkinN = 1511;

	public const int mutationSkin = 1510; // [!code ++]
 // [!code ++]
	public const int etherEye = 1553; // [!code ++]
 // [!code ++]
	public const int etherWing = 1554; // [!code ++]
 // [!code ++]
	public const int etherNeck = 1555;

	public const int etherViolence = 1556; // [!code --]
	public const int etherUgly = 1551; // [!code ++]

	public const int etherEye = 1553; // [!code --]
	public const int etherHead = 1557; // [!code ++]

	public const int etherRain = 1558;

```

[`@@ -32,42 +34,36 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/MUTATION.cs#L32-L73)
```cs:line-numbers=32

	public const int etherManaBattery = 1564;

	public const int mutationSkin = 1510; // [!code --]
 // [!code --]
	public const int etherPoisonHand = 1565;

	public const int mutationRegen = 1516; // [!code --]
 // [!code --]
	public const int mutationRegenN = 1517; // [!code --]
 // [!code --]
	public const int etherHead = 1557; // [!code --]
 // [!code --]
	public const int mutationSpeed = 1518; // [!code --]
	public const int mutationDex = 1514; // [!code ++]

	public const int etherUgly = 1551; // [!code --]
	public const int mutationDexN = 1515; // [!code ++]

	public const int etherWing = 1554; // [!code --]
	public const int etherViolence = 1556; // [!code ++]

	public const int etherGravity = 1550; // [!code --]
	public const int etherFeet = 1552; // [!code ++]

	public const int mutationHairN = 1533;

	public const int mutationRegen = 1516; // [!code ++]
 // [!code ++]
	public const int mutationHair = 1532;

	public const int mutationBodyN = 1531;

	public const int mutationLightningN = 1529; // [!code --]
	public const int mutationBody = 1530; // [!code ++]

	public const int mutationLightning = 1528; // [!code --]
	public const int mutationLightningN = 1529; // [!code ++]

	public const int mutationColdN = 1527;

	public const int mutationBody = 1530; // [!code --]
 // [!code --]
	public const int mutationCold = 1526;

	public const int mutationBrainN = 1525;

	public const int mutationLightning = 1528; // [!code ++]
 // [!code ++]
	public const int mutationBrain = 1524;

	public const int mutationChaN = 1523;
```

[`@@ -80,12 +76,16 @@ public class MUTATION`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/MUTATION.cs#L80-L91)
```cs:line-numbers=80

	public const int mutationSpeedN = 1519;

	public const int mutationSpeed = 1518; // [!code ++]
 // [!code ++]
	public const int mutationRegenN = 1517; // [!code ++]
 // [!code ++]
	public static readonly int[] IDS = new int[40]
	{
		1552, 1515, 1514, 1513, 1512, 1511, 1555, 1556, 1553, 1558, // [!code --]
		1559, 1560, 1561, 1562, 1563, 1564, 1510, 1565, 1516, 1517, // [!code --]
		1557, 1518, 1551, 1554, 1550, 1533, 1532, 1531, 1529, 1528, // [!code --]
		1527, 1530, 1526, 1525, 1524, 1523, 1522, 1521, 1520, 1519 // [!code --]
		1550, 1513, 1512, 1511, 1510, 1553, 1554, 1555, 1551, 1557, // [!code ++]
		1558, 1559, 1560, 1561, 1562, 1563, 1564, 1565, 1514, 1515, // [!code ++]
		1556, 1552, 1533, 1516, 1532, 1531, 1530, 1529, 1527, 1526, // [!code ++]
		1525, 1528, 1524, 1523, 1522, 1521, 1520, 1519, 1518, 1517 // [!code ++]
	};
}
public class Mutation : Feat
```

## POLICY

[`@@ -41,7 +41,7 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/POLICY.cs#L41-L47)
```cs:line-numbers=41

	public const int open_business = 2810;

	public const int speed_growth = 2516; // [!code --]
	public const int stop_growth = 2515; // [!code ++]

	public const int livestock_priv = 2715;

```

[`@@ -51,6 +51,8 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/POLICY.cs#L51-L56)
```cs:line-numbers=51

	public const int ban_radio = 2510;

	public const int self_sufficient = 2511; // [!code ++]
 // [!code ++]
	public const int legal_drug = 2505;

	public const int impressment = 2504;
```

[`@@ -61,13 +63,11 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/POLICY.cs#L61-L73)
```cs:line-numbers=61

	public const int faith_tax = 2501;

	public const int wealth_tax = 2500; // [!code --]
 // [!code --]
	public const int home_discount = 2800;

	public const int inquisition = 2507; // [!code --]
	public const int wealth_tax = 2500; // [!code ++]

	public const int self_sufficient = 2511; // [!code --]
	public const int inquisition = 2507; // [!code ++]

	public const int resident_tax = 2512;

```

[`@@ -75,21 +75,23 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/POLICY.cs#L75-L95)
```cs:line-numbers=75

	public const int human_right = 2506;

	public const int stop_growth = 2515; // [!code --]
	public const int speed_growth = 2516; // [!code ++]

	public const int trash_no = 2702; // [!code --]
	public const int trash_sort = 2701; // [!code ++]

	public const int weed_no = 2703; // [!code --]
	public const int trash_no = 2702; // [!code ++]

	public const int taxfree = 2514;

	public const int border_watch = 2704; // [!code ++]
 // [!code ++]
	public const int taxTransfer = 2705;

	public const int demon_invocation = 2706;

	public const int auto_farm = 2707; // [!code --]
	public const int weed_no = 2703; // [!code ++]

	public const int border_watch = 2704; // [!code --]
	public const int noDM = 2708; // [!code ++]

	public const int noAnimal = 2709;

```

[`@@ -99,20 +101,18 @@ public class POLICY`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/POLICY.cs#L99-L118)
```cs:line-numbers=99

	public const int forcePanty = 2712;

	public const int trash_sort = 2701; // [!code --]
 // [!code --]
	public const int energy_conservation = 2700;

	public const int noDM = 2708; // [!code --]
	public const int auto_farm = 2707; // [!code ++]

	public static readonly int[] IDS = new int[51]
	{
		2818, 2813, 2814, 2815, 2816, 2817, 2812, 2819, 2828, 2821,
		2822, 2823, 2824, 2825, 2826, 2827, 2811, 2820, 2810, 2516, // [!code --]
		2715, 2508, 2509, 2510, 2505, 2504, 2503, 2502, 2501, 2500, // [!code --]
		2800, 2507, 2511, 2512, 2513, 2506, 2515, 2702, 2703, 2514, // [!code --]
		2705, 2706, 2707, 2704, 2709, 2710, 2711, 2712, 2701, 2700, // [!code --]
		2708 // [!code --]
		2822, 2823, 2824, 2825, 2826, 2827, 2811, 2820, 2810, 2515, // [!code ++]
		2715, 2508, 2509, 2510, 2511, 2505, 2504, 2503, 2502, 2501, // [!code ++]
		2800, 2500, 2507, 2512, 2513, 2506, 2516, 2701, 2702, 2514, // [!code ++]
		2704, 2705, 2706, 2703, 2708, 2709, 2710, 2711, 2712, 2700, // [!code ++]
		2707 // [!code ++]
	};
}
public class Policy : EClass
```

## Props

[`@@ -218,13 +218,18 @@ public ThingStack ListThingStack(Recipe.Ingredient ing, StockSearchMode searchMo`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Props.cs#L218-L230)
```cs:line-numbers=218
		{
			FindCat(item);
		}
		stack.list.Sort(UIList.SortMode.ByCategory); // [!code --]
		return stack; // [!code --]
	}
	Find(id2); // [!code --]
	foreach (string item2 in ing.idOther) // [!code --]
	else // [!code ++]
	{
		Find(item2); // [!code --]
		Find(id2); // [!code ++]
		foreach (string item2 in ing.idOther) // [!code ++]
		{ // [!code ++]
			Find(item2); // [!code ++]
		} // [!code ++]
	} // [!code ++]
	if (ing.ingType == Recipe.IngType.CreativeFood) // [!code ++]
	{ // [!code ++]
		FindAnyFood(); // [!code ++]
	}
	stack.list.Sort(UIList.SortMode.ByCategory);
	return stack;
```

[`@@ -242,13 +247,33 @@ void Find(string id)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Props.cs#L242-L254)
```cs:line-numbers=242
		{
			foreach (Card item3 in cardMap.GetOrCreate(id))
			{
				if (!(item3.parent is Thing thing) || (thing.c_lockLv == 0 && thing.trait.CanUseContent)) // [!code --]
				if (!(item3.parent is Thing thing2) || (thing2.c_lockLv == 0 && thing2.trait.CanUseContent)) // [!code ++]
				{
					TryAdd(item3.Thing);
				}
			}
		}
	}
	void FindAnyFood() // [!code ++]
	{ // [!code ++]
		EClass.pc.things.Foreach(delegate(Thing t) // [!code ++]
		{ // [!code ++]
			if (!t.isEquipped) // [!code ++]
			{ // [!code ++]
				TryAdd(t); // [!code ++]
			} // [!code ++]
		}); // [!code ++]
		if (EClass._zone.IsPCFaction || EClass._zone is Zone_Tent || EClass.debug.enable) // [!code ++]
		{ // [!code ++]
			foreach (Card item4 in all) // [!code ++]
			{ // [!code ++]
				if (!(item4.parent is Thing thing) || (thing.c_lockLv == 0 && thing.trait.CanUseContent)) // [!code ++]
				{ // [!code ++]
					TryAdd(item4.Thing); // [!code ++]
				} // [!code ++]
			} // [!code ++]
		} // [!code ++]
	} // [!code ++]
	void FindCat(string id)
	{
		SourceCategory.Row cat = EClass.sources.categories.map[id];
```

[`@@ -261,12 +286,12 @@ void FindCat(string id)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Props.cs#L261-L272)
```cs:line-numbers=261
		});
		if (EClass._zone.IsPCFaction || EClass._zone is Zone_Tent || EClass.debug.enable)
		{
			foreach (Thing thing2 in things) // [!code --]
			foreach (Thing thing3 in things) // [!code ++]
			{
				Card obj = thing2.parent as Card; // [!code --]
				if (obj != null && obj.c_lockLv == 0 && thing2.category.IsChildOf(cat.id) && !thing2.IsExcludeFromCraft(ing)) // [!code --]
				Card obj = thing3.parent as Card; // [!code ++]
				if (obj != null && obj.c_lockLv == 0 && thing3.category.IsChildOf(cat.id) && !thing3.IsExcludeFromCraft(ing)) // [!code ++]
				{
					stack.Add(thing2); // [!code --]
					stack.Add(thing3); // [!code ++]
				}
			}
		}
```

[`@@ -278,6 +303,13 @@ void TryAdd(Thing t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Props.cs#L278-L283)
```cs:line-numbers=278
				stack.Add(t.Thing);
			}
		}
		void TryAdd(Thing t) // [!code ++]
		{ // [!code ++]
			if (t.HasElement(10) && !(t.trait is TraitFoodMeal) && !t.IsExcludeFromCraft(ing) && !stack.list.Contains(t)) // [!code ++]
			{ // [!code ++]
				stack.Add(t.Thing); // [!code ++]
			} // [!code ++]
		} // [!code ++]
	}

	public List<Thing> ListThingsInCategory(SourceCategory.Row cat)
```

## Recipe

[`@@ -11,6 +11,12 @@ public enum State`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Recipe.cs#L11-L16)
```cs:line-numbers=11
		Invalid
	}

	public enum IngType // [!code ++]
	{ // [!code ++]
		Default, // [!code ++]
		CreativeFood // [!code ++]
	} // [!code ++]
 // [!code ++]
	public class Ingredient : EClass
	{
		[JsonProperty]
```

[`@@ -34,6 +40,9 @@ public class Ingredient : EClass`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Recipe.cs#L34-L39)
```cs:line-numbers=34
		[JsonProperty]
		public List<string> idOther = new List<string>();

		[JsonProperty] // [!code ++]
		public IngType ingType; // [!code ++]
 // [!code ++]
		public Thing thing;

		public bool optional;
```

[`@@ -125,6 +134,10 @@ static string CatName(string id)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Recipe.cs#L125-L130)
```cs:line-numbers=125

		public bool IsValidIngredient(Thing t)
		{
			if (ingType == IngType.CreativeFood && t.HasElement(10)) // [!code ++]
			{ // [!code ++]
				return true; // [!code ++]
			} // [!code ++]
			if (useCat)
			{
				if (t.category.IsChildOf(id))
```

## RecipeCard

[`@@ -69,7 +69,15 @@ public override void BuildIngredientList()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/RecipeCard.cs#L69-L75)
```cs:line-numbers=69
		return;
	}
	base.BuildIngredientList();
	if (!EClass.core.IsGameStarted || EClass.core.game.isLoading || !isDish || EClass.pc.Evalue(1650) < 2) // [!code --]
	if (!EClass.core.IsGameStarted || EClass.core.game.isLoading || !isDish) // [!code ++]
	{ // [!code ++]
		return; // [!code ++]
	} // [!code ++]
	if (EClass.pc.HasElement(487)) // [!code ++]
	{ // [!code ++]
		ingredients[0].ingType = IngType.CreativeFood; // [!code ++]
	} // [!code ++]
	if (EClass.pc.Evalue(1650) < 2) // [!code ++]
	{
		return;
	}
```

## Region

[`@@ -10,6 +10,9 @@ public class Region : Zone`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Region.cs#L10-L15)
```cs:line-numbers=10
	[JsonProperty]
	public int dateCheckSites;

	[JsonProperty] // [!code ++]
	public bool beachFix; // [!code ++]
 // [!code ++]
	public override bool WillAutoSave => false;

	public override ActionMode DefaultActionMode => ActionMode.Region;
```

[`@@ -47,6 +50,25 @@ public override void OnActivate()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Region.cs#L47-L52)
```cs:line-numbers=47
				elomap.SetZone(zone.x, zone.y, zone);
			}
		});
		if (!beachFix) // [!code ++]
		{ // [!code ++]
			Cell[,] cells = EClass._map.cells; // [!code ++]
			foreach (Cell cell in cells) // [!code ++]
			{ // [!code ++]
				if (cell.blocked) // [!code ++]
				{ // [!code ++]
					int gx = cell.x + EClass.scene.elomap.minX; // [!code ++]
					int gy = cell.z + EClass.scene.elomap.minY; // [!code ++]
					EloMap.TileInfo tileInfo = EClass.scene.elomapActor.elomap.GetTileInfo(gx, gy); // [!code ++]
					if (tileInfo != null && tileInfo.source != null && tileInfo.source.idBiome.IsEmpty("Plain") == "Sand") // [!code ++]
					{ // [!code ++]
						cell.blocked = false; // [!code ++]
						cell.impassable = false; // [!code ++]
					} // [!code ++]
				} // [!code ++]
			} // [!code ++]
			beachFix = true; // [!code ++]
		} // [!code ++]
		CheckRandomSites();
	}

```

## SKILL

[`@@ -16,7 +16,7 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/SKILL.cs#L16-L22)
```cs:line-numbers=16

	public const int twohand = 130;

	public const int marksman = 133; // [!code --]
	public const int tactics = 132; // [!code ++]

	public const int fishing = 245;

```

[`@@ -40,7 +40,7 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/SKILL.cs#L40-L46)
```cs:line-numbers=40

	public const int mining = 220;

	public const int weightlifting = 207; // [!code --]
	public const int spotting = 210; // [!code ++]

	public const int swimming = 200;

```

[`@@ -56,9 +56,9 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/SKILL.cs#L56-L64)
```cs:line-numbers=56

	public const int twowield = 131;

	public const int spotting = 210; // [!code --]
	public const int weightlifting = 207; // [!code ++]

	public const int weaponAxe = 102; // [!code --]
	public const int weaponStaff = 103; // [!code ++]

	public const int weaponDagger = 107;

```

[`@@ -104,7 +104,7 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/SKILL.cs#L104-L110)
```cs:line-numbers=104

	public const int weaponBow = 104;

	public const int weaponStaff = 103; // [!code --]
	public const int weaponAxe = 102; // [!code ++]

	public const int weaponSword = 101;

```

[`@@ -132,7 +132,7 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/SKILL.cs#L132-L138)
```cs:line-numbers=132

	public const int gathering = 250;

	public const int tactics = 132; // [!code --]
	public const int marksman = 133; // [!code ++]

	public const int blacksmith = 256;

```

[`@@ -268,13 +268,13 @@ public class SKILL`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/SKILL.cs#L268-L280)
```cs:line-numbers=268

	public static readonly int[] IDS = new int[133]
	{
		50, 109, 110, 111, 120, 122, 123, 130, 133, 245, // [!code --]
		50, 109, 110, 111, 120, 122, 123, 130, 132, 245, // [!code ++]
		242, 241, 240, 237, 235, 230, 227, 226, 225, 220,
		207, 200, 152, 151, 150, 135, 134, 131, 210, 102, // [!code --]
		210, 200, 152, 151, 150, 135, 134, 131, 207, 103, // [!code ++]
		107, 71, 70, 68, 67, 66, 65, 72, 64, 61,
		60, 57, 56, 55, 51, 62, 73, 74, 75, 106,
		105, 104, 103, 101, 100, 93, 92, 91, 90, 80, // [!code --]
		79, 78, 77, 76, 108, 250, 132, 256, 916, 917, // [!code --]
		105, 104, 102, 101, 100, 93, 92, 91, 90, 80, // [!code ++]
		79, 78, 77, 76, 108, 250, 133, 256, 916, 917, // [!code ++]
		918, 919, 920, 921, 922, 923, 924, 925, 926, 950,
		951, 952, 915, 953, 956, 957, 958, 959, 960, 961,
		962, 963, 964, 965, 970, 971, 972, 255, 954, 914,
```

## TaskHarvest

[`@@ -574,7 +574,7 @@ public void HarvestThing()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/TaskHarvest.cs#L574-L580)
```cs:line-numbers=574
	{
		return;
	}
	if (target.isCopy) // [!code --]
	if (target.isCopy || target.HasElement(764)) // [!code ++]
	{
		text = "ash3";
	}
```

## Trait

[`@@ -1790,6 +1790,7 @@ public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Trait.cs#L1790-L1795)
```cs:line-numbers=1790
				Add("container_magic", 1, 0).ChangeMaterial("feywood").idSkin = 3;
				Add("wrench_tent_elec", 1, 0);
				Add("wrench_tent_soil", 1, 0);
				Add("wrench_tent_seabed", 1, 0); // [!code ++]
				Add("wrench_bed", 1, 0).SetNum(20);
				Add("wrench_storage", 1, 0).SetNum(10);
				Add("wrench_fridge", 1, 0).SetNum(1);
```

[`@@ -1858,6 +1859,7 @@ public void OnBarter()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Trait.cs#L1858-L1863)
```cs:line-numbers=1858
			case ShopType.Ecopo:
				Add("ecomark", 5, 0);
				Add("whip_egg", 1, 0);
				Add("helm_chef", 1, 0); // [!code ++]
				Add("1165", 1, 0);
				Add("plat", 100, 0);
				AddThing(ThingGen.CreateScroll(9160).SetNum(5));
```

## TraitBaseSpellbook

[`@@ -218,7 +218,7 @@ public override void OnRead(Chara c)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/TraitBaseSpellbook.cs#L218-L224)
```cs:line-numbers=218
			c.AddCondition<ConFaint>();
			if (!c.IsPC && c.faith != religion)
			{
				if (!c.source.faith.IsEmpty()) // [!code --]
				if (!c.source.faith.IsEmpty() && c.source.faith == c.faith.id) // [!code ++]
				{
					c.Say("faith_stands", c);
					break;
```

## TraitDetector

[`@@ -67,14 +67,12 @@ public void Search()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/TraitDetector.cs#L67-L80)
```cs:line-numbers=67
	}
	else
	{
		EClass.pc.PlaySound("detect_" + ((num <= 1) ? "detected" : ((num < 5) ? "near" : ((num < 15) ? "medium" : ((num < 30) ? "far" : ((num < 50) ? "veryFar" : "superFar")))))); // [!code --]
		string text = "detect_" + ((num <= 1) ? "detected" : ((num < 5) ? "near" : ((num < 15) ? "medium" : ((num < 30) ? "far" : ((num < 50) ? "veryFar" : "superFar"))))); // [!code ++]
		EClass.pc.PlaySound(text); // [!code ++]
		interval = ((num <= 1) ? 1 : ((num < 5) ? 2 : ((num < 15) ? 4 : ((num < 30) ? 7 : 10))));
		if (EClass.core.config.sound.volumeSFX < 0.1f || EClass.core.config.sound.volumeMaster < 0.1f) // [!code --]
		{ // [!code --]
			WidgetMainText.ignoreStack = true; // [!code --]
			Msg.Say("beep".lang()); // [!code --]
			WidgetMainText.ignoreStack = false; // [!code --]
		} // [!code --]
		WidgetMainText.ignoreStack = true; // [!code ++]
		Msg.Say((LangGame.Has(text) ? text : "beep").lang()); // [!code ++]
		WidgetMainText.ignoreStack = false; // [!code ++]
	}
	owner.PlayAnime(AnimeID.HitObj);
}
```

## TraitWrench

[`@@ -12,6 +12,12 @@ public bool IsValidTarget(Thing t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/TraitWrench.cs#L12-L17)
```cs:line-numbers=12
	}
	switch (ID)
	{
	case "tent_seabed": // [!code ++]
		if (t.trait is TraitTent && (t.trait as TraitTent).zone != null) // [!code ++]
		{ // [!code ++]
			return !(t.trait as TraitTent).zone.IsUnderwater; // [!code ++]
		} // [!code ++]
		return false; // [!code ++]
	case "tent_soil":
	{
		if (!(t.trait is TraitTent))
```

[`@@ -56,6 +62,9 @@ public bool Upgrade(Thing t)`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/TraitWrench.cs#L56-L61)
```cs:line-numbers=56
{
	switch (ID)
	{
	case "tent_seabed": // [!code ++]
		(t.trait as TraitTent).zone.elements.ModBase(3606, 1); // [!code ++]
		break; // [!code ++]
	case "tent_elec":
		(t.trait as TraitTent).zone.elements.ModBase(2201, 2);
		break;
```

## Zone

[`@@ -888,6 +888,11 @@ public void Activate()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Zone.cs#L888-L893)
```cs:line-numbers=888
	}
	PathManager.Instance._pathfinder.PunishChangeDirection = false;
	isImported = false;
	if (this is Zone_Tent && IsUnderwater) // [!code ++]
	{ // [!code ++]
		EClass._map.config.idSceneProfile = "indoor_water"; // [!code ++]
		EClass.scene.profile = SceneProfile.Load(EClass._map.config.idSceneProfile); // [!code ++]
	} // [!code ++]
	if (flag && IsTown && base.lv == 0)
	{
		SpawnLostItems();
```

## ZonePreEnterOnCompleteQuestInstance

[`@@ -24,6 +24,7 @@ public override void Execute()`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/ZonePreEnterOnCompleteQuestInstance.cs#L24-L29)
```cs:line-numbers=24
		{
			Debug.Log(uidClient + "/" + uidQuest + "/" + fail + "/" + quest);
			Debug.LogError("exception: quest not found:" + chara?.ToString() + "/" + chara?.quest);
			quest.Fail(); // [!code ++]
			return;
		}
		chara.Revive();
```

## Zone_Tent

[`@@ -10,6 +10,8 @@ public class Zone_Tent : Zone`](https://github.com/Elin-Modding-Resources/Elin-Decompiled/blob/015f33937f9a44ad0de9f6ba7063e3b7acbbcb3a/Elin/Zone_Tent.cs#L10-L15)
```cs:line-numbers=10

	public override int MaxSoil => 50 + Evalue(2200) * 5;

	public override bool IsUnderwater => elements.Has(3606); // [!code ++]
 // [!code ++]
	public override ZoneTransition.EnterState RegionEnterState => ZoneTransition.EnterState.Bottom;

	public override void OnBeforeDeactivate()
```
